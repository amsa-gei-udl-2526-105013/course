[
  {
    "objectID": "exercises/02-booting/05-ex-week3.html",
    "href": "exercises/02-booting/05-ex-week3.html",
    "title": "Desxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)",
    "section": "",
    "text": "Aprendre a personalitzar la initramfs per buscar una clau en un disc secundari (emulant un USB).\nDesxifrar automticament una partici贸 LUKS durant larrencada amb una keyfile.\nEntendre els hooks i scripts dinitramfs-tools i com incloure binaris (cryptsetup) a la imatge.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 5 路 Arrencada automtica d'una partici贸 LUKS amb clau en un disc secundari"
    ]
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#objectius",
    "href": "exercises/02-booting/05-ex-week3.html#objectius",
    "title": "Desxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)",
    "section": "",
    "text": "Aprendre a personalitzar la initramfs per buscar una clau en un disc secundari (emulant un USB).\nDesxifrar automticament una partici贸 LUKS durant larrencada amb una keyfile.\nEntendre els hooks i scripts dinitramfs-tools i com incloure binaris (cryptsetup) a la imatge.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 5 路 Arrencada automtica d'una partici贸 LUKS amb clau en un disc secundari"
    ]
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#requeriments-previs",
    "href": "exercises/02-booting/05-ex-week3.html#requeriments-previs",
    "title": "Desxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una mquina virtual (MV) amb Debian instal路lat, aquesta mquina virtual sha dhaver creat seleccionat lopci贸 de LVM xifrat durant la instal路laci贸.\nAfegeix un disc secundari a la mquina virtual que simular un USB de 4GB i de tipus SATA.\nTotes les comandes shan dexecutar amb permisos de superusuari (root). Per tant, su -.\nRealitzar un apt update -y && apt upgrade -y per assegurar-se que el sistema est actualitzat.\nInstal路lar el paquet apt install parted vim -y per gestionar particions.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 5 路 Arrencada automtica d'una partici贸 LUKS amb clau en un disc secundari"
    ]
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#passos",
    "href": "exercises/02-booting/05-ex-week3.html#passos",
    "title": "Desxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)",
    "section": "Passos",
    "text": "Passos\n\nCreaci贸 del disc secundari amb la clau\nPrimer, cal crear un disc secundari que simuli un USB. Aix貌 es pot fer afegint un nou disc a la mquina virtual. En aquest exemple, suposarem que el nou disc 茅s /dev/sda. Si el teu disc 茅s diferent, substitueix /dev/sda pel nom correcte. Per obtenir el nom del nou disc, pots utilitzar la comanda lsblk o df -h.\nparted --script /dev/sda mklabel msdos\nparted --script /dev/sda mkpart primary ext4 1MiB 100%\nmkfs.ext4 -L KEYDISK /dev/sda1\nAquestes comandes creen una taula de particions MBR i una partici贸 primria que ocupa tot lespai del disc, formatada amb el sistema de fitxers ext4 i amb letiqueta KEYDISK.\n\n\nMuntar el disc i crear la clau\nPrimer crearem un punt de muntatge i muntarem la partici贸 del disc secundari. Despr茅s, generarem un fitxer de clau amb dades aleat貌ries i li assignarem permisos restrictius per garantir la seva seguretat.\nmkdir -p /tmp/keydisk\nmount /dev/sda1 /tmp/keydisk\ndd if=/dev/urandom of=/tmp/keydisk/keyfile.bin bs=4096 count=1\nchmod 0400 /tmp/keydisk/keyfile.bin\n\n\nAfegir la clau a la partici贸 LUKS\nAfegirem el fitxer de clau a la partici贸 LUKS que cont茅 la partici贸 arrel. En aquest exemple, suposarem que la partici贸 LUKS 茅s /dev/nvme0n1p3. Si el teu dispositiu 茅s diferent, substitueix /dev/nvme0n1p3 pel nom correcte.\ncryptsetup luksDump /dev/nvme0n1p3\ncryptsetup luksAddKey /dev/nvme0n1p3 /tmp/keydisk/keyfile.bin\nEn aquest punt, set demanar introdu茂r una passphrase existent per autoritzar lafegiment de la nova clau, entra la passphrase i comprova que la clau sha afegit correctament amb:\ncryptsetup luksDump /dev/nvme0n1p3\nAra veuras una l铆nia addicional a Key Slot. Indicant que la clau sha afegit correctament.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 5 路 Arrencada automtica d'una partici贸 LUKS amb clau en un disc secundari"
    ]
  },
  {
    "objectID": "exercises/02-booting/05-ex-week3.html#edita-el-fitxer-etccrypttab",
    "href": "exercises/02-booting/05-ex-week3.html#edita-el-fitxer-etccrypttab",
    "title": "Desxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)",
    "section": "Edita el fitxer /etc/crypttab",
    "text": "Edita el fitxer /etc/crypttab\nAquest fitxer sutilitza per definir les particions xifrades que shan de desxifrar durant larrencada. Edita el fitxer /etc/crypttab i afegeix la a entre el UUID de la partici贸 LUKS i les opcions, la ruta al fitxer de clau que hem creat anteriorment. Per fer-ho, elimineu none i afegiu la ruta al fitxer de clau.\n# /etc/crypttab\nnvme0n1p3_crypt UUID=XXXXXXXXX /tmp/keydisk/keyfile.bin  luks,discard\nIndicarem que la keyfile es troba a /tmp/keydisk/keyfile.bin, ja que en la initramfs muntarem el disc secundari a /tmp/keydisk i llegirem la clau des dall.\n\nCrear lscript per muntar el disc i llegir la clau\nCrearem un script que sexecutar durant larrencada per muntar el disc secundari, llegir la clau i desxifrar la partici贸 LUKS. Aquest script es col路locar a /etc/initramfs-tools/scripts/local-top/ i sanomenar mount_disk.\n#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          mount_disk\n# Required-Start:    $local_fs\n# Required-Stop:\n# Default-Start:     S\n# Default-Stop:\n# Short-Description: Unlock LUKS root using a keyfile on a secondary disk\n# Description:       Finds and mounts a secondary disk\n### END INIT INFO\n\nlog_msg() {\n    echo \"mount_disk: $1\" &gt; /dev/kmsg\n}\n\nKEYDISK_UUID=\"XXXXXX\" # &lt;-- Substitueix amb el teu UUID corresponent al disc secundari\nKEYFILE_PATH=\"/keyfile.bin\"\n\nlog_msg \"Iniciant desxifrat automtic amb keyfile.\"\n\nMNT_POINT=\"/tmp/keydisk\"\nmkdir -p \"$MNT_POINT\"\n\nDEV=$(blkid -U \"$KEYDISK_UUID\")\nif [ -n \"$DEV\" ]; then\n    log_msg \"Dispositiu trobat a $DEV. Muntant...\"\n    mount -t ext4 \"$DEV\" \"$MNT_POINT\"\n    if [ $? -ne 0 ]; then\n        log_msg \"ERROR: No s'ha pogut muntar $DEV.\"\n        exit 0\n    fi\nelse\n    log_msg \"ERROR: No s'ha trobat cap dispositiu amb l'UUID especificat.\"\n    exit 0\nfi\n\n# Comprovar si el keyfile existeix\nif [ -f \"$MNT_POINT/$KEYFILE_PATH\" ]; then\n    log_msg \"Keyfile trobat. Desxifrant LUKS...\"\nelse\n    log_msg \"ERROR: No s'ha trobat el keyfile.\"\nfi\n\nexit 0\nGuarda aquest script com a /etc/initramfs-tools/scripts/local-top/mount_disk i fes-lo executable:\nchmod +x /etc/initramfs-tools/scripts/local-top/mount_disk\n\n\nConfiigurar cryptsetup per a la initramfs\ncryptsetup ja esta incl貌s en la initramfs per defecte, per貌 cal assegurar-se que est configurat per utilitzar el fitxer de clau des del disc secundari. Edita el fitxer /etc/cryptsetup-initramfs/conf-hook i afegeix la seg眉ent l铆nia que permet que no es demani la contrasenya si es troba el fitxer de clau:\n#  /etc/cryptsetup-initramfs/conf-hook\nASKPASS=n\n\n\nIncloure el fitxer /etc/crypttab a la initramfs\nPer assegurar que el fitxer /etc/crypttab es troba disponible durant larrencada, cal crear un script que el copi茂 a la initramfs. Crearem un script anomenat copy-crypttab a /etc/initramfs-tools/hooks/.\n#!/bin/sh\ncp /etc/crypttab \"${DESTDIR}/cryptroot/crypttab\"\nexit\nGuarda aquest script com a /etc/initramfs-tools/hooks/copy-crypttab i fes-lo executable:\nchmod +x /etc/initramfs-tools/hooks/copy-crypttab\n\n\nActualitzar la initramfs\nPerqu猫 els canvis tinguin efecte, cal actualitzar la initramfs. Aix貌 es fa amb la comanda seg眉ent:\nupdate-initramfs -u -k $(uname -r)\n\n\nComprovar la inclusi贸 de lscript i cryptsetup a la initramfs\nPer assegurar-te que lscript sha incl貌s correctament a la initramfs i que cryptsetup tamb茅 hi 茅s, pots utilitzar les seg眉ents comandes:\nlsinitramfs /boot/initrd.img-$(uname -r) | grep mount_disk\nlsinitramfs /boot/initrd.img-$(uname -r) | grep cryptsetup\n\n\nProva larrencada\nReinicia la mquina virtual per provar larrencada. Si tot est configurat correctament, la partici贸 LUKS shauria de desxifrar automticament utilitzant la clau emmagatzemada al disc secundari. Sense demanar la contrasenya manualment.\nreboot\n\n\nConsultar el log darrencada\nDurant larrencada, el sistema registrar missatges al kernel log. Pots consultar aquests missatges per verificar que lscript sha executat correctament i que la partici贸 LUKS sha desxifrat. Utilitza la comanda seg眉ent per veure els missatges rellevants:\ndmesg | grep mount_disk",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 5 路 Arrencada automtica d'una partici贸 LUKS amb clau en un disc secundari"
    ]
  },
  {
    "objectID": "exercises/02-booting/02-ex-week2.html",
    "href": "exercises/02-booting/02-ex-week2.html",
    "title": "Arrancada UEFI bsica amb QEMU",
    "section": "",
    "text": "En aquest exercici aprendrem a crear un entorn darrencada UEFI senzill utilitzant QEMU. A difer猫ncia de la BIOS tradicional, la UEFI utilitza fitxers executables en format PE (Portable Executable) per carregar els sistemes operatius. Aquests fitxers es col路loquen en una partici贸 especial del disc anomenada ESP (EFI System Partition).\nLobjectiu final 茅s carregar i executar un petit joc de Tetris dins de lentorn UEFI.\n\n\nPer a aquest laboratori, necessitem una mquina virtual amb Debian i una interf铆cie grfica, ja que la UEFI per defecte utilitza un entorn grfic.\nSi no teniu una interf铆cie grfica, podeu instal路lar-la amb la seg眉ent comanda:\nsu -c \"apt install task-gnome-desktop -y\"\n\n\n\n\n\n\nNotaNota\n\n\n\nUn cop instal路lada la interf铆cie grfica, reinicieu la mquina virtual i inicieu sessi贸 a lentorn descriptori.\n\n\nA m茅s, necessitem instal路lar les eines necessries per compilar i executar el nostre codi UEFI.\nsu -c \"apt install qemu-system-x86 gcc-x86-64-linux-gnu nasm make gnu-efi gdisk mtools -y\"\nsu -c apt install qemu-system-x86 make gdisk mtools -y\nFinalment, clonem el repositori amb el codi font del joc de Tetris per UEFI:\ngit clone https://github.com/a1ive/uefi-tetris.git\ncd uefi-tetris\n\n\n\n\n\n\nNotaNota\n\n\n\nQuan executeu les comandes QEMU, no ho feu amb la conexi贸 SSH ja que us donar problemes amb la interf铆cie grfica. Utilitzeu la terminal de la mquina virtual directament.\n\n\n\n\n\nAquest m猫tode ens permetr executar rpidament un executable UEFI sense la necessitat de crear una imatge de disc. Utilitzarem la UEFI Shell, una l铆nia de comandes que ens permet interactuar amb lentorn UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=fat:rw:./ -net none\nOn aquest comandament:\n\nbios /usr/share/qemu/OVMF.fd: Carrega el firmware OVMF (Open Virtual Machine Firmware), que 茅s la implementaci贸 UEFI per a QEMU.\n-drive format=raw,file=fat:rw:./: Munta el directori actual (./) com si fos una partici贸 FAT. La UEFI Shell reconeix aquest format de manera nativa, donant-nos acc茅s al nostre fitxer tetris.efi.\n-net none: Deshabilita la xarxa, ja que no la necessitem per a aquest exercici.\n\nEn executar la comanda, QEMU siniciar i, com que no hi ha cap sistema operatiu per arrencar, caur directament a la UEFI Shell.\n\n\nUn cop a la UEFI Shell, accedim a la partici贸 que QEMU ha muntat per nosaltres.\nfs0:\nLa comanda fs0: ens canvia a la partici贸 FAT que correspon al nostre directori.\n\n\n\n\n\n\nNotaNotes\n\n\n\n\nEl teclat est en angl猫s per defecte. Per escriure el carcter : heu de pr茅mer Shift + .\nSi fs0: no funciona, podeu llistar les particions disponibles amb la comanda map i provar amb les altres.\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nUtilitzeu les comandes ls i cd per navegar pel sistema de fitxers fins que trobeu la carpeta uefi-tetris i dins della el fitxer tetris.efi.\n\n\nFinalment, executem el bootloader UEFI:\ntetris.efi\n\n\n\n\nAquest m猫tode simula un escenari m茅s real, on el fitxer executable es troba en una partici贸 dedicada al disc. La partici贸 ESP (EFI System Partition) 茅s una partici贸 especial, formatada en FAT32, on es guarden els fitxers darrencada del sistema operatiu.\n\n\nPrimer, creem un fitxer que far de disc dur virtual. Amb 64 MB nhi ha prou.\nqemu-img create -f raw tetris.img 64M\n\n\n\nUtilitzarem gdisk per crear la partici贸 ESP. La GPT (GUID Partition Table) 茅s el format modern de taules de particions, necessari per a la UEFI.\nsu -\ncd /path/to/uefi-tetris # Canvia al directori on has clonat el repositori\ngdisk tetris.img\nA la consola de gdisk, utilitzarem les seg眉ents comandes:\n\nPr茅mer o per crear una nova taula GPT.\nPr茅mer n per crear una nova partici贸.\nPr猫mer 1 per assignar el n煤mero de partici贸.\nPr猫mer Enter per acceptar linici per defecte.\nPr猫mer Enter per acceptar la mida per defecte (fins al final del disc).\nPr猫mer ef00 per assignar el tipus EFI System Partition.\nPr猫mer w per escriure els canvis i sortir.\n\n\n\n\n\n\n\nNotaNota\n\n\n\nConfirmeu tots els canvis escrivint Y quan se us demani. Per assegurar-vos que la partici贸 sha creat correctament, podeu utilitzar gdisk -l tetris.img per llistar les particions del fitxer dimatge. Observeu que la partici贸 t茅 el tipus EF00, indicant que 茅s una partici贸 ESP.\n\n\n\n\n\nAra que tenim la partici贸, lhem de formatar, 茅s a dir, donar-li un sistema de fitxers. La UEFI requereix que la partici贸 ESP estigui formatada en FAT32.\n\nIdentificar el dispositiu de bucle:\n\n# Com a root\nlosetup --partscan --find --show tetris.img\nAquesta comanda mostrar el nom del dispositiu de bucle creat (p.ex., /dev/loop1) i la seva partici贸 (/dev/loop1p1). Anoteu-ho.\n\nFormatejar la partici贸:\n\n# Com a root\nmkfs.fat -F 32 /dev/loop1p1\n\n\n\nAra, muntem la partici贸 i copiem el fitxer tetris.efi a la ubicaci贸 correcta dins de lestructura de directoris esperada per la UEFI.\n# Com a root\nmount /dev/loop1p1 /mnt\nmkdir -p /mnt/EFI/BOOT\ncp tetris.efi /mnt/EFI/BOOT/BOOTX64.EFI\numount /mnt\nlosetup -d /dev/loop1\n\n\n\n\n\n\nNotaObservaci贸\n\n\n\nLa UEFI espera trobar el fitxer darrencada en aquesta ubicaci贸 espec铆fica: \\EFI\\BOOT\\BOOTX64.EFI per a sistemes x86_64. Si utilitzeu una arquitectura diferent, assegureu-vos de canviar el nom del fitxer segons sigui necessari (per exemple, BOOTAA64.EFI per a ARM64). Com estem emulant un sistema x86_64, utilitzem BOOTX64.EFI.\n\n\n\n\n\nFinalment, podem arrencar la nostra imatge de disc amb QEMU utilitzant el firmware UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=tetris.img -net none\nSi tot ha anat b茅, haur铆eu de veure el joc de Tetris en funcionament a la pantalla directament sense necessitat dentrar a la UEFI Shell.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 2 路 Booting amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/02-ex-week2.html#tetris-amb-uefi",
    "href": "exercises/02-booting/02-ex-week2.html#tetris-amb-uefi",
    "title": "Arrancada UEFI bsica amb QEMU",
    "section": "",
    "text": "En aquest exercici aprendrem a crear un entorn darrencada UEFI senzill utilitzant QEMU. A difer猫ncia de la BIOS tradicional, la UEFI utilitza fitxers executables en format PE (Portable Executable) per carregar els sistemes operatius. Aquests fitxers es col路loquen en una partici贸 especial del disc anomenada ESP (EFI System Partition).\nLobjectiu final 茅s carregar i executar un petit joc de Tetris dins de lentorn UEFI.\n\n\nPer a aquest laboratori, necessitem una mquina virtual amb Debian i una interf铆cie grfica, ja que la UEFI per defecte utilitza un entorn grfic.\nSi no teniu una interf铆cie grfica, podeu instal路lar-la amb la seg眉ent comanda:\nsu -c \"apt install task-gnome-desktop -y\"\n\n\n\n\n\n\nNotaNota\n\n\n\nUn cop instal路lada la interf铆cie grfica, reinicieu la mquina virtual i inicieu sessi贸 a lentorn descriptori.\n\n\nA m茅s, necessitem instal路lar les eines necessries per compilar i executar el nostre codi UEFI.\nsu -c \"apt install qemu-system-x86 gcc-x86-64-linux-gnu nasm make gnu-efi gdisk mtools -y\"\nsu -c apt install qemu-system-x86 make gdisk mtools -y\nFinalment, clonem el repositori amb el codi font del joc de Tetris per UEFI:\ngit clone https://github.com/a1ive/uefi-tetris.git\ncd uefi-tetris\n\n\n\n\n\n\nNotaNota\n\n\n\nQuan executeu les comandes QEMU, no ho feu amb la conexi贸 SSH ja que us donar problemes amb la interf铆cie grfica. Utilitzeu la terminal de la mquina virtual directament.\n\n\n\n\n\nAquest m猫tode ens permetr executar rpidament un executable UEFI sense la necessitat de crear una imatge de disc. Utilitzarem la UEFI Shell, una l铆nia de comandes que ens permet interactuar amb lentorn UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=fat:rw:./ -net none\nOn aquest comandament:\n\nbios /usr/share/qemu/OVMF.fd: Carrega el firmware OVMF (Open Virtual Machine Firmware), que 茅s la implementaci贸 UEFI per a QEMU.\n-drive format=raw,file=fat:rw:./: Munta el directori actual (./) com si fos una partici贸 FAT. La UEFI Shell reconeix aquest format de manera nativa, donant-nos acc茅s al nostre fitxer tetris.efi.\n-net none: Deshabilita la xarxa, ja que no la necessitem per a aquest exercici.\n\nEn executar la comanda, QEMU siniciar i, com que no hi ha cap sistema operatiu per arrencar, caur directament a la UEFI Shell.\n\n\nUn cop a la UEFI Shell, accedim a la partici贸 que QEMU ha muntat per nosaltres.\nfs0:\nLa comanda fs0: ens canvia a la partici贸 FAT que correspon al nostre directori.\n\n\n\n\n\n\nNotaNotes\n\n\n\n\nEl teclat est en angl猫s per defecte. Per escriure el carcter : heu de pr茅mer Shift + .\nSi fs0: no funciona, podeu llistar les particions disponibles amb la comanda map i provar amb les altres.\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nUtilitzeu les comandes ls i cd per navegar pel sistema de fitxers fins que trobeu la carpeta uefi-tetris i dins della el fitxer tetris.efi.\n\n\nFinalment, executem el bootloader UEFI:\ntetris.efi\n\n\n\n\nAquest m猫tode simula un escenari m茅s real, on el fitxer executable es troba en una partici贸 dedicada al disc. La partici贸 ESP (EFI System Partition) 茅s una partici贸 especial, formatada en FAT32, on es guarden els fitxers darrencada del sistema operatiu.\n\n\nPrimer, creem un fitxer que far de disc dur virtual. Amb 64 MB nhi ha prou.\nqemu-img create -f raw tetris.img 64M\n\n\n\nUtilitzarem gdisk per crear la partici贸 ESP. La GPT (GUID Partition Table) 茅s el format modern de taules de particions, necessari per a la UEFI.\nsu -\ncd /path/to/uefi-tetris # Canvia al directori on has clonat el repositori\ngdisk tetris.img\nA la consola de gdisk, utilitzarem les seg眉ents comandes:\n\nPr茅mer o per crear una nova taula GPT.\nPr茅mer n per crear una nova partici贸.\nPr猫mer 1 per assignar el n煤mero de partici贸.\nPr猫mer Enter per acceptar linici per defecte.\nPr猫mer Enter per acceptar la mida per defecte (fins al final del disc).\nPr猫mer ef00 per assignar el tipus EFI System Partition.\nPr猫mer w per escriure els canvis i sortir.\n\n\n\n\n\n\n\nNotaNota\n\n\n\nConfirmeu tots els canvis escrivint Y quan se us demani. Per assegurar-vos que la partici贸 sha creat correctament, podeu utilitzar gdisk -l tetris.img per llistar les particions del fitxer dimatge. Observeu que la partici贸 t茅 el tipus EF00, indicant que 茅s una partici贸 ESP.\n\n\n\n\n\nAra que tenim la partici贸, lhem de formatar, 茅s a dir, donar-li un sistema de fitxers. La UEFI requereix que la partici贸 ESP estigui formatada en FAT32.\n\nIdentificar el dispositiu de bucle:\n\n# Com a root\nlosetup --partscan --find --show tetris.img\nAquesta comanda mostrar el nom del dispositiu de bucle creat (p.ex., /dev/loop1) i la seva partici贸 (/dev/loop1p1). Anoteu-ho.\n\nFormatejar la partici贸:\n\n# Com a root\nmkfs.fat -F 32 /dev/loop1p1\n\n\n\nAra, muntem la partici贸 i copiem el fitxer tetris.efi a la ubicaci贸 correcta dins de lestructura de directoris esperada per la UEFI.\n# Com a root\nmount /dev/loop1p1 /mnt\nmkdir -p /mnt/EFI/BOOT\ncp tetris.efi /mnt/EFI/BOOT/BOOTX64.EFI\numount /mnt\nlosetup -d /dev/loop1\n\n\n\n\n\n\nNotaObservaci贸\n\n\n\nLa UEFI espera trobar el fitxer darrencada en aquesta ubicaci贸 espec铆fica: \\EFI\\BOOT\\BOOTX64.EFI per a sistemes x86_64. Si utilitzeu una arquitectura diferent, assegureu-vos de canviar el nom del fitxer segons sigui necessari (per exemple, BOOTAA64.EFI per a ARM64). Com estem emulant un sistema x86_64, utilitzem BOOTX64.EFI.\n\n\n\n\n\nFinalment, podem arrencar la nostra imatge de disc amb QEMU utilitzant el firmware UEFI.\nqemu-system-x86_64 -bios /usr/share/qemu/OVMF.fd -drive format=raw,file=tetris.img -net none\nSi tot ha anat b茅, haur铆eu de veure el joc de Tetris en funcionament a la pantalla directament sense necessitat dentrar a la UEFI Shell.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 2 路 Booting amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html",
    "href": "exercises/02-booting/01-ex-week2.html",
    "title": "Booting amb MBR i BIOS",
    "section": "",
    "text": "Entendre com funciona el proc茅s darrencada amb BIOS i MBR.\nCrear un bootloader senzill de primera i segona etapa.\nPracticar l煤s de QEMU per emular una mquina amb BIOS.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 1 路 Booting amb MBR i BIOS"
    ]
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html#objectiu",
    "href": "exercises/02-booting/01-ex-week2.html#objectiu",
    "title": "Booting amb MBR i BIOS",
    "section": "",
    "text": "Entendre com funciona el proc茅s darrencada amb BIOS i MBR.\nCrear un bootloader senzill de primera i segona etapa.\nPracticar l煤s de QEMU per emular una mquina amb BIOS.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 1 路 Booting amb MBR i BIOS"
    ]
  },
  {
    "objectID": "exercises/02-booting/01-ex-week2.html#requisits-previs",
    "href": "exercises/02-booting/01-ex-week2.html#requisits-previs",
    "title": "Booting amb MBR i BIOS",
    "section": "Requisits previs",
    "text": "Requisits previs\n\nUna mquina virtual amb Debian i acc茅s a la terminal.\n\n\nPart 1: El Bootloader de Primera Etapa (MBR)\nLobjectiu daquesta part 茅s crear un disc virtual amb un MBR que la BIOS pugui recon猫ixer i executar, mostrant un missatge de benvinguda.\n\nCreaci贸 de la imatge del disc\nCrearem un fitxer de 10 MiB que servir com a disc dur virtual. Utilitzarem la comanda dd:\ndd if=/dev/zero of=disk.img bs=512 count=20480\nObserveu que bs=512 estableix la mida del bloc a 512 bytes, i count=20480 indica que volem 20480 blocs, resultant en un fitxer de 10 MiB (512 bytes * 20480 blocs = 10 MiB). A m茅s, aquest fitxer estar inicialitzat amb zeros (if=/dev/zero) i es crear amb el nom disk.img.\n\n\n\n\n\n\nNotaRecordatori\n\n\n\nMBR significa Master Boot Record i ocupa els primers 512 bytes del disc.\n\n\n\n\nBootloader de primera etapa\nEl bootloader de primera etapa 茅s un petit programa que sexecuta quan la BIOS carrega el MBR. Aquest programa ha de ser molt petit, ja que nom茅s t茅 512 bytes per treballar. En aquest exercici, escriurem un bootloader senzill en llenguatge dassemblador que mostrar un missatge de benvinguda.\nCrea un fitxer anomenat boot.asm amb el seg眉ent contingut:\n[org 0x7c00]      ; L'adre莽a on la BIOS carrega el nostre codi\n\njmp short start   ; Salt a la rutina principal per evitar que la BIOS executi la taula de particions\nnop               ; \n\nstart:\n    ; Configurem els registres del segment\n    xor ax, ax      ; Posa AX a 0\n    mov ds, ax      ; Configurem DS (segment de dades) a 0\n    mov es, ax      ; Configurem ES (segment extra) a 0\n    mov ss, ax      ; Configurem SS (segment de pila) a 0\n    mov sp, 0x7c00  ; Configurem el punter de pila\n\n    ; Imprimir el missatge de benvinguda\n    mov si, msg     ; Carreguem l'adre莽a del missatge a SI\n.print_loop:\n    lodsb           ; Carreguem un byte des de [DS:SI] a AL, i incrementem SI\n    cmp al, 0       ; Comparem AL amb zero\n    je .done_print  ; Si AL 茅s zero, hem arribat al final del missatge\n    mov ah, 0x0e    ; Funci贸 BIOS per a l'escriptura en mode teletip\n    int 0x10        ; Crida a la interrupci贸 de v铆deo\n    jmp .print_loop\n.done_print:\n\n    ; Bucle infinit per aturar l'execuci贸\n    cli             ; Deshabilitem les interrupcions\n.halt:\n    hlt             ; Aturem la CPU\n    jmp .halt       ; Saltem a nosaltres mateixos en cas de despertar-nos d'un HLT\n\nmsg db \"Hola, soc l'MBR. La primera etapa d'arrencada ha funcionat!\", 0\n\n; Omplim la resta del sector amb zeros\ntimes 510 - ($-$$) db 0\n\n; La signatura MBR\ndw 0xaa55\nLa primera l铆nia [org 0x7c00] indica a lassemblador que el codi sha de considerar com si sexecut茅s a ladre莽a 0x7C00, que 茅s on la BIOS carrega el sector MBR a la mem貌ria.\nAbans de lexecuci贸 del nostre codi, els registres de segment de la CPU (DS, ES, SS) poden contenir valors aleatoris. Per garantir que les adreces de mem貌ria siguin interpretades correctament en mode real, els inicialitzem a zero amb les instruccions mov ds, ax, mov es, ax i mov ss, ax.\nLa instrucci贸 mov sp, 0x7c00 estableix el punter de pila (SP) a la mateixa adre莽a on sha carregat el MBR, evitant que la pila sobrescrigui el codi. En bootloaders m茅s complexos, aix貌 permetria utilitzar instruccions com CALL, PUSH i POP sense problemes.\nLa rutina de bucle llegeix cada carcter de la cadena de text i el mostra a la pantalla mitjan莽ant la interrupci贸 BIOS 0x10, funci贸 teletip (AH=0x0E). Un cop sha impr猫s tot el missatge, sutilitza la instrucci贸 HLT dins dun bucle infinit per aturar la CPU. Aix貌 evita que la CPU continu茂 executant dades no definides m茅s enll del sector MBR, cosa que podria provocar comportaments inesperats.\n\n\nEnsamblar i escriure el bootloader al disc\nUtilitzarem nasm per ensamblar el nostre codi i dd per escriurel al disc virtual:\n# Instal路lar nasm si no el tens\nsu -c \"apt install nasm -y\"\n# Ensamblar el codi\nnasm -f bin -o boot.bin boot.asm\nOn -f bin indica que volem un fitxer binari pla, i -o boot.bin especifica el nom del fitxer de sortida.\n\n\n\n\n\n\nImportantProblemes\n\n\n\nSi la comanda dinstalaci贸 de qemu no acaba correctament, heu de fer un su -c \"apt update\" i problablement tamb茅 un su -c \"apt upgrade -y\" abans de tornar a intentar instal路lar qemu.\n\n\nAra, escrivim el bootloader al disc virtual:\ndd if=boot.bin of=disk.img bs=512 count=1 conv=notrunc\nOn conv=notrunc assegura que no truncarem el fitxer de sortida, mantenint la resta del disc intacta.\nPer comprovar que el bootloader sha escrit correctament, podem utilitzar hexdump:\nhexdump -C -n 512 disk.img | sed -n '1,16p'\non -n 512 limita la sortida als primers 512 bytes (el sector MBR) i sed -n '1,16p' mostra nom茅s les primeres 16 l铆nies de la sortida.\nTamb茅 podem comprovar la signatura MBR (els 煤ltims dos bytes del sector) amb:\nhexdump -C -s 510 -n 2 disk.img\nHaurias de veure 55 aa, el 00000200 indica loffset.\n\n\nExecutar la imatge del disc amb QEMU\nFinalment, podem executar la nostra imatge de disc amb QEMU per veure el nostre missatge de benvinguda:\n# Instal路lar QEMU si no el tens\nsu -c \"apt install qemu-system-x86 -y\"\n# Executar la imatge del disc\nqemu-system-x86_64 -drive file=disk.img,format=raw -nographic\n\n\n\n\n\n\nNotaNota\n\n\n\nLa nostra mquina virtual 茅s mode text (-nographic), aix铆 que hauries de veure el missatge de benvinguda a la terminal. Si teniu una interf铆cie grfica, podeu ometre -nographic per veure la sortida en una finestra de QEMU.\n\n\nEnhorabona! Acabes de crear i executar un bootloader de primera etapa senzill que mostra un missatge de benvinguda. Aquest 茅s el primer pas per entendre com funciona el proc茅s darrencada dun sistema operatiu.\n\n\n\n\n\n\nConsellSortir de QEMU\n\n\n\n\nPer sortir de QEMU, utilitza la combinaci贸 de tecles Ctrl + A, seguida de X.\nAlternativament, pots Ctrl + C a la terminal per anar a la l铆nia de comandes de QEMU i despr茅s escriure quit per sortir.\n\n\n\n\n\n\nPart 2: El Bootloader de Segona\nEn aquest punt, ja tenim el nostre bootloader de primera etapa, per貌 la seva funci贸 principal 茅s passar el control a un programa m茅s gran. Aquest ser el nostre bootloader de segona etapa. Per fer-ho, el MBR ha de llegir un sector del disc i carregar-lo a la mem貌ria. Normalment, el MBR analitzaria la taula de particions per trobar on comen莽a el seg眉ent bootloader. No obstant aix貌, per a aquest exercici, simplificarem aquest proc茅s i codificarem directament ladre莽a del nostre bootloader de segona etapa al codi.\nLa interrupci贸 int 0x13h de la BIOS 茅s la responsable de les operacions dentrada/sortida de disc i requereix un paquet dadreces de disc (DAP) per funcionar. Aquest DAP 茅s una estructura de dades de 16 bytes que li diu a la BIOS on llegir i on escriure les dades. La proposta 茅s configurar el nostre DAP per llegir el sector 2048 del disc (dword [si+8], 2048) i carregar-lo a la mem貌ria a ladre莽a 0x8000 (word [si+4], 0x8000).\nEscriu un fitxer anomenat second_boot.asm amb el seg眉ent contingut:\n[org 0x8000]     ; Stage2 carregat pel MBR a 0x8000\n\nmov si, msg\n.print_loop:\n    lodsb\n    or al, al\n    jz .done\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop\n\n.done:\n    jmp $       \n\nmsg db \"Hola des del bootloader de segona etapa!\", 0\nAra ensamblarem aquest codi i el prepararem per ser carregat pel nostre bootloader de primera etapa.\nnasm -f bin -o second_boot.bin second_boot.asm\nAra, escriurem aquest bootloader de segona etapa al disc virtual, per貌 no al principi. El MBR est dissenyat per carregar el bootloader de segona etapa des duna ubicaci贸 espec铆fica del disc. En aquest cas, utilitzarem el sector 2048 (1 MiB) per a aix貌. Representaria la primera partici贸 dun disc amb una taula de particions estndard.\ndd if=second_boot.bin of=disk.img bs=512 count=1 seek=2048 conv=notrunc\nModifiqueu el vostre boot.asm per carregar aquest bootloader de segona etapa des del sector 2048:\n[org 0x7c00]\n\njmp short start\nnop\n\nstart:\n    xor ax, ax\n    mov ds, ax\n    mov es, ax\n    mov ss, ax\n    mov sp, 0x7c00\n\n    ; Missatge Stage1\n    mov si, msg_mbr\n.print_loop_mbr:\n    lodsb\n    or al, al\n    jz .load_next_stage\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop_mbr\n\n.load_next_stage:\n    ; Configura DAP a 0x0600\n    mov si, 0x0600\n    mov byte [si], 0x10         ; mida del DAP\n    mov byte [si+1], 0x00\n    mov word [si+2], 1          ; sectors a llegir\n    mov word [si+4], 0x8000     ; offset dest铆\n    mov word [si+6], 0x0000     ; segment dest铆\n    mov dword [si+8], 2048      ; LBA\n    mov dword [si+12], 0        ; high LBA\n\n    ; BIOS extended read\n    mov ah, 0x42\n    mov dl, 0x80\n    int 0x13\n    jc .boot_failed\n\n    jmp 0:0x8000\n\n.boot_failed:\n    mov si, msg_fail\n.print_loop_fail:\n    lodsb\n    or al, al\n    jz .halt\n    mov ah, 0x0e\n    int 0x10\n    jmp .print_loop_fail\n.halt:\n    cli\n    hlt\n    jmp .halt\n\nmsg_mbr db \"Hola, soc l'MBR. Carregant Stage2...\",0\nmsg_fail db \"Error carregant Stage2!\",0\n\ntimes 510-($-$$) db 0\ndw 0xAA55\nAra ensamblarem el nou MBR:\nnasm -f bin -o boot.bin boot.asm\nI escriurem el nou MBR al disc virtual:\ndd if=boot.bin of=disk.img bs=512 count=1 conv=notrunc\nFinalment, executem la imatge del disc amb QEMU per veure el nostre missatge de benvinguda i la crrega del bootloader de segona etapa:\nqemu-system-x86_64 -drive file=disk.img,format=raw -nographic\nEnhorabona! Acabes de crear i executar un bootloader de primera etapa que carrega un bootloader de segona etapa des duna ubicaci贸 espec铆fica del disc.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 1 路 Booting amb MBR i BIOS"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html",
    "href": "exercises/02-booting/03-ex-week2.html",
    "title": "Arrancada UEFI",
    "section": "",
    "text": "Entendre com funciona la UEFI i la partici贸 ESP.\nConfigurar una mquina virtual amb dual boot.\nPracticar la gesti贸 de lordre darrencada i la creaci贸 dentrades UEFI.\n\nAl final, hauries de poder seleccionar entre AlmaLinux i Debian a linici de la mquina virtual.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#objectiu",
    "href": "exercises/02-booting/03-ex-week2.html#objectiu",
    "title": "Arrancada UEFI",
    "section": "",
    "text": "Entendre com funciona la UEFI i la partici贸 ESP.\nConfigurar una mquina virtual amb dual boot.\nPracticar la gesti贸 de lordre darrencada i la creaci贸 dentrades UEFI.\n\nAl final, hauries de poder seleccionar entre AlmaLinux i Debian a linici de la mquina virtual.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#preparaci贸-de-les-mquines-virtuals",
    "href": "exercises/02-booting/03-ex-week2.html#preparaci贸-de-les-mquines-virtuals",
    "title": "Arrancada UEFI",
    "section": "Preparaci贸 de les Mquines Virtuals",
    "text": "Preparaci贸 de les Mquines Virtuals\nEn primer lloc, heu de crear dues mquines virtuals amb UEFI com a firmware.\n\n\n\nNom\nOS\nDisc\nFirmware\n\n\n\n\nVM1-AlmaLinux\nAlmaLinux 9\n20 GB\nUEFI\n\n\nVM2-Debian\nDebian 12\n20 GB\nUEFI\n\n\n\n\n\n\n\n\n\nNotaNota\n\n\n\nAssegureu-vos que ambdues mquines virtuals tinguin UEFI com a firmware. En el moment de fer les particions, heu de veure que es crea una partici贸 ESP (EFI System Partition) automticament. Si no 茅s aix铆, pot ser que la mquina virtual no estigui configurada correctament per utilitzar UEFI. No continu茂s fins que no tinguis aquesta partici贸.\n\n\n\n\n\n\n\n\nAlertaAdvert猫ncia\n\n\n\nSi VMWare no us deixa seleccionar UEFI com a firmware, un cop creada la mquina virtual amb BIOS, heu de modificar el fitxer .vmx de la mquina virtual i afegir al final les l铆nies seg眉ents:\nfirmware = \"efi\"\nefi.secureBoot.enabled = \"FALSE\"\nGuarda els canvis i inicia la mquina virtual de nou, i instal路la el sistema operatiu.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#migrar-el-disc-de-debian-a-la-mquina-virtual-dalmalinux",
    "href": "exercises/02-booting/03-ex-week2.html#migrar-el-disc-de-debian-a-la-mquina-virtual-dalmalinux",
    "title": "Arrancada UEFI",
    "section": "Migrar el disc de Debian a la mquina virtual dAlmaLinux",
    "text": "Migrar el disc de Debian a la mquina virtual dAlmaLinux\n\nApaga la mquina virtual de Debian si est en funcionament.\nLocalitza el fitxer de disc virtual de la mquina virtual de Debian. Aquest fitxer al programa VMware sol tenir lextensi贸 .vmdk.\nA la configuraci贸 de la mquina virtual dAlmaLinux, aneu a lopci贸 de disc dur i afegiu un disc dur existent, seleccionant el disc dur de la mquina virtual de Debian que heu localitzat en el pas anterior.\nConfirmar els parametres i aplica els canvis.\n\n\nTest\nAssegureu-vos que la mquina virtual ara t茅 dos discs durs: un amb AlmaLinux i un altre amb Debian utilitzant la comanda lsblk, hauria de mostrar-vos alguna cosa com aix貌:\n[root@localhost ~]# lsblk\nNAME               MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS\nsr0                 11:0    1  1.7G  0 rom\nnvme0n1            259:0    0   20G  0 disk\nnvme0n1p1        259:1    0  600M  0 part /boot/efi\nnvme0n1p2        259:2    0    1G  0 part /boot\nnvme0n1p3        259:3    0 18.4G  0 part\nalmalinux-root 253:0    0 16.4G  0 lvm  /\nalmalinux-swap 253:1    0    2G  0 lvm  [SWAP]\nnvme0n2            259:4    0   20G  0 disk\nnvme0n2p1        259:5    0  512M  0 part\nnvme0n2p2        259:6    0 18.5G  0 part\nnvme0n2p3        259:7    0  976M  0 part\nOn nvme0n1 茅s el disc dAlmaLinux i nvme0n2 茅s el disc de Debian. Es posible que el nom del disc no sigui nvme, pot ser sda, vda, etc. Dep猫n del tipus de disc que tinguis.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#tasca",
    "href": "exercises/02-booting/03-ex-week2.html#tasca",
    "title": "Arrancada UEFI",
    "section": "Tasca",
    "text": "Tasca\nReinicia la mquina virtual dAlmaLinux i entra a la UEFI (normalment prement F2 o Esc durant larrencada). La teva tasca es configurar la UEFI per afegir una entrada darrencada per a Debian. Has de poder arrancar tant AlmaLinux com Debian des del men煤 darrencada de la UEFI.\n\nEl primer pas 茅s identificar com podem arrancar Debian.\nAnalitzeu la comanda bcfg amb help bcfg per veure com funciona.\n\n\n\n\n\n\n\nImportantNota\n\n\n\nLa comanda bcfg es troba disponible a partir de la versi贸 2.3 de UEFI Shell. Si la vostra mquina virtual utilitza una versi贸 anterior, 茅s possible que no tingueu aquesta comanda disponible. En aquest cas, haureu dactualitzar el firmware UEFI de la vostra mquina virtual o utilitzar una altra eina per gestionar les entrades darrencada com efibootmgr des de Linux.\n\n\nEn cas de no poder accedir a la shell o no tenir disponible la comanda bcfg encara que es compleixi el requisit de la versi贸 de UEFI Shell &gt;= 2.3, cal arrencar des dun fitxer EFI Shell V2 m茅s complet. Podeu descarregar-lo aqu铆.\nPer poder arrencar aquest fitxer des de VMware, lhem descriure amb el format correcte a una imatge vmdk:\n\nEl primer pas 茅s crear una imatge de disc buida on despr茅s escriurem larbre de directoris adequat per EFI aix铆 com el fitxer descarregat a arrencar.\ndd if=/dev/zero of=Shell.img bs=1M count=64\nAra utilitzem parted per crear una taula de particions GPT i una partici贸 FAT32 marcada com a bootable.\nparted Shell.img --script mklabel gpt\nparted Shell.img --script mkpart ESP fat32 1MiB 100%\nparted Shell.img --script set 1 boot on\nPer poder treballar amb les particions dins del fitxer de disc, lassociem a un dispositiu loop.\nsudo losetup -Pf Shell.img\nFormatem la partici贸 EFI amb FAT32, obligatori per a UEFI:\nsudo mkfs.vfat -F32 /dev/loop0p1\nMuntem la partici贸, creem larbre de directoris correcte i copiem el fitxer .efi amb el nom BOOTX64.EFI. Finalment, desmuntem la partici贸 i desassociem el dispositiu loop.\nsudo mount /dev/loop0p1 /mnt\nsudo mkdir -p /mnt/EFI/BOOT\nsudo cp Shellx64.efi /mnt/EFI/BOOT/BOOTX64.EFI\nsudo umount /mnt\nsudo losetup -d /dev/loop0\nFinalment convertim la imatge RAW a VMDK perqu猫 pugui ser utilitzada a VMware:\nqemu-img convert -f raw -O vmdk Shell.img Shell.vmdk\n\nPer usar aquest fitxer generat, afegiu un disc dur (Hard Disk) a la vostra mquina i obriu-lo.\n\n\n\n\n\n\nImportantNota\n\n\n\nEn cas de tenir un altre disc dur bootejable a la mquina virtual, per defecte no arrencar des del de UEFI Shell. Per poder executar-ho, heu dentrar a la UEFI (normalment prement F2 o Esc durant larrencada) i seleccionar el disc dur corresponent a la UEFI Shell.\n\n\nSi per alguna ra贸 no podeu executar les comandes per crear un disc dur amb limatge de UEFI Shell, el podeu descarregar des daqu铆.\nA partir daquesta shell ja teniu disponible la comanda bcfg",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/02-booting/03-ex-week2.html#entrega",
    "href": "exercises/02-booting/03-ex-week2.html#entrega",
    "title": "Arrancada UEFI",
    "section": "Entrega",
    "text": "Entrega\nHas de presentar un document amb els seg眉ents punts:\n\nEls passos que has seguit per configurar la UEFI i afegir lentrada darrencada per a Debian.\nFes una captura de pantalla del men煤 darrencada de la UEFI mostrant les dues entrades (AlmaLinux i Debian) i puja-la a laula virtual juntament amb una breu descripci贸 dels passos que has seguit per aconseguir-ho.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 3 路 Dual Boot amb UEFI"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html",
    "href": "exercises/03-fs/10-ex-week7.html",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": "",
    "text": "En aquest laboratori aprendrem a utilitzar LVM (Logical Volume Manager) per administrar lemmagatzematge dun servidor web. Simularem un entorn real on diferents tipus de dades (codi font, dades de la web, i fitxers temporals) es gestionen mitjan莽ant volums l貌gics, millorant la flexibilitat i escalabilitat del sistema.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#objectius",
    "href": "exercises/03-fs/10-ex-week7.html#objectius",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": " Objectius",
    "text": " Objectius\n\nEntendre el funcionament i components de LVM: PV, VG i LV.\n\nCrear, formatar i muntar volums l貌gics per a un servei web.\n\nAmpliar o reduir la mida dels volums.\n\nCrear i utilitzar snapshots per fer c貌pies de seguretat en calent.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#escenari",
    "href": "exercises/03-fs/10-ex-week7.html#escenari",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": "П Escenari",
    "text": "П Escenari\nGestionarem una aplicaci贸 web desplegada en un servidor AlmaLinux.\n\n\n\nDirectori\nFunci贸\nExemple de contingut\n\n\n\n\n/opt/webapp/sources\nCodi font Django\nPython, HTML, JS\n\n\n/opt/webapp/data\nDades, imatges, logs\nCSV, JPG, LOG\n\n\n/opt/webapp/run\nFitxers temporals i sockets\nPID, sock",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#preparaci贸-de-la-mquina-virtual",
    "href": "exercises/03-fs/10-ex-week7.html#preparaci贸-de-la-mquina-virtual",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": "З Preparaci贸 de la mquina virtual",
    "text": "З Preparaci贸 de la mquina virtual\n\nCrea una nova MV amb AlmaLinux i un disc principal de 20 GB.\nDurant la instal路laci贸, selecciona LVM com a esquema de particionat.\nAfegeix dos discos addicionals de 20 GB cadascun (ex. nvme0n2 i nvme0n3).\nComprova lestat inicial del sistema:\nlsblk\nHauries de veure una sortida semblant a:\nnvme0n1     20G  \nnvme0n1p1 600M  /boot/efi\nnvme0n1p2   1G  /boot\nnvme0n1p3   2G  [SWAP]\nnvme0n1p4 16.4G /\nnvme0n2     20G\nnvme0n3     20G",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-1.-creaci贸-dels-volums-f铆sics-i-grup-de-volums",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-1.-creaci贸-dels-volums-f铆sics-i-grup-de-volums",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": " Activitat 1. Creaci贸 dels volums f铆sics i grup de volums",
    "text": " Activitat 1. Creaci贸 dels volums f铆sics i grup de volums\n\nPas 1: Crear els volums f铆sics\npvcreate /dev/nvme0n2 /dev/nvme0n3\n\n\n\n\n\n\nAlerta Comprova lestat dels PV\n\n\n\nQuin 茅s lestat del camp Allocatable abans de crear el grup de volums?\n\n\n\n\nPas 2: Crear el grup de volums vg_webapp\nvgcreate vg_webapp /dev/nvme0n2 /dev/nvme0n3\n\n\n\n\n\n\nAlerta Comprova lestat del VG\n\n\n\n\nQuina 茅s la mida total del grup de volums vg_webapp?\nQuants extents t茅 el VG i quina 茅s la mida de cada extent?",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-2.-creaci贸-i-muntatge-dels-volums-l貌gics",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-2.-creaci贸-i-muntatge-dels-volums-l貌gics",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": "锔 Activitat 2. Creaci贸 i muntatge dels volums l貌gics",
    "text": "锔 Activitat 2. Creaci贸 i muntatge dels volums l貌gics\n\nPas 1: Crear els LV\nlvcreate -L 1G -n lv_sources vg_webapp\nlvcreate -L 10G -n lv_data vg_webapp\nlvcreate -L 1G -n lv_run vg_webapp\n\n\nPas 2: Formatar els LV amb sistemes de fitxers\nmkfs.xfs /dev/vg_webapp/lv_sources\nmkfs.ext4 /dev/vg_webapp/lv_data\nmkfs.xfs /dev/vg_webapp/lv_run\n\n\n\n\n\n\nAlerta Discussi贸\n\n\n\nPer qu猫 podria ser interessant utilitzar xfs per a /run i ext4 per a /data o al rev茅s?\n\n\n\n\nPas 3: Muntar els volums\nmkdir -p /opt/webapp/{sources,data,run}\nmount /dev/vg_webapp/lv_sources /opt/webapp/sources\nmount /dev/vg_webapp/lv_data /opt/webapp/data\nmount /dev/vg_webapp/lv_run /opt/webapp/run\n\n\n\n\n\n\nAlerta Comprova els muntatges\n\n\n\n\nUtilitza df -h per verificar que els volums estan muntats correctament.\nAfegeix les entrades corresponents a /etc/fstab per muntar-los automticament en reiniciar.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-3.-redimensionar-volums-l貌gics",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-3.-redimensionar-volums-l貌gics",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": " Activitat 3. Redimensionar volums l貌gics",
    "text": " Activitat 3. Redimensionar volums l貌gics\n\nEscenari 1: Augmentar lv_data de 10 GB a 20 GB\nQuan samplia un volum l貌gic, safegeixen nous extents al final del volum. Si el sistema de fitxers 茅s ext4, cal actualitzar-ne la taula despai amb resize2fs.\nlvextend -L +10G /dev/vg_webapp/lv_data\nresize2fs /dev/vg_webapp/lv_data\n\n\nEscenari 2: Reduir lv_run de 1 GB a 500 MB\nEl sistema de fitxers xfs no permet reduir volums.\numount /opt/webapp/run\nlvremove /dev/vg_webapp/lv_run\nlvcreate -L 500M -n lv_run vg_webapp\nmkfs.xfs -f /dev/vg_webapp/lv_run\nmount /dev/vg_webapp/lv_run /opt/webapp/run\n\n\n\n\n\n\nAlerta Reduir o Ampliar\n\n\n\nQu猫 creus que 茅s m茅s segur: redimensionar un volum l貌gic cap amunt o cap avall? Per qu猫?",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#activitat-4.-creaci贸-dsnapshots",
    "href": "exercises/03-fs/10-ex-week7.html#activitat-4.-creaci贸-dsnapshots",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": " Activitat 4. Creaci贸 dsnapshots",
    "text": " Activitat 4. Creaci贸 dsnapshots\nEls snapshots LVM permeten fer c貌pies de seguretat en calent del sistema de fitxers. Aquest mecanisme utilitza la t猫cnica Copy-on-Write (COW) per mantenir versions consistents de les dades mentre sestan utilitzant.\n\nPas 1: Crear dades\necho \"Hello, World1!\" &gt; /opt/webapp/data/file1.txt\necho \"Hello, World2!\" &gt; /opt/webapp/data/file2.txt\necho \"Hello, World3!\" &gt; /opt/webapp/data/file3.txt\n\n\nPas 2: Crear snapshot\nlvcreate -L 1G -s -n snap_data /dev/vg_webapp/lv_data\n\n\nPas 3: Muntar snapshot\nmkdir /snaps\nmount /dev/vg_webapp/snap_data /snaps\ndiff -r /opt/webapp/data /snaps\n\n\nPas 4: Modificar dades originals i comparar\ndd if=/dev/zero of=/opt/webapp/data/file3.txt bs=1M count=100\ndiff -r /opt/webapp/data /snaps\n\n\n\n\n\n\nAlerta Reflexi贸: Mida snapshot\n\n\n\nQu猫 passa amb la mida de lsnapshot quan sescriuen noves dades?\n\n\n\n\nPas 5: Crear un segon snapshot i comprovar versions\nlvcreate -L 1G -s -n snap_data2 /dev/vg_webapp/lv_data\numount /snaps\nmount /dev/vg_webapp/snap_data2 /snaps\nls -li /opt/webapp/data /snaps/\n\n\n\n\n\n\nAlertaInodes\n\n\n\nEls fitxers inalterats comparteixen inode; els modificats tenen un inode nou.\n\n\n\n\nЧ Neteja\numount /snaps\nlvremove /dev/vg_webapp/snap_data\nlvremove /dev/vg_webapp/snap_data2",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/10-ex-week7.html#exercicis-addicionals",
    "href": "exercises/03-fs/10-ex-week7.html#exercicis-addicionals",
    "title": "Laboratori: Desplegament dun servidor web amb LVM",
    "section": "Exercicis addicionals",
    "text": "Exercicis addicionals\n\nDescriu els passos per migrar un LV existent a un altre PV utilitzant pvmove. Quin avantatge t茅 aquest procediment respecte a copiar fitxers manualment?\nConfigura un mirall de /opt/webapp/data utilitzant LVM. Realitza una prova simulant la fallada dun disc i comprova que les dades es mantenen accessibles. Quines implicacions t茅 sobre el rendiment?\nCerca informaci贸 sobre leina fio i realitza un experiment per avaluar el rendiment dun volum striped. Representa una grfica amb els resultats per diferents valors de --stripe-size (64K, 128K, 256K, 512K, 1M, 2M). Interpreta la relaci贸 entre mida de bloc i rendiment.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 10 路 Administraci贸 de volums l貌gics amb LVM"
    ]
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html",
    "href": "exercises/03-fs/08-ex-week5.html",
    "title": "Administraci贸 bsica de Sistemes de Fitxers",
    "section": "",
    "text": "Crear particions i sistemes de fitxers (ext4, xfs).\nMigrar directoris reals a particions separades amb coher猫ncia i sense p猫rdua de dades.\nConfigurar el muntatge automtic amb UUID i opcions de seguretat (nodev, nosuid, noexec).\nDiagnosticar i recuperar problemes reals: saturaci贸 despai i corrupci贸 de sistema de fitxers.\nEines: fdisk, mkfs.*, tune2fs, mount, rsync, xfs_repair, hexedit.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 8 路 Administraci贸 bsica de Sistemes de Fitxers"
    ]
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#objectius",
    "href": "exercises/03-fs/08-ex-week5.html#objectius",
    "title": "Administraci贸 bsica de Sistemes de Fitxers",
    "section": "",
    "text": "Crear particions i sistemes de fitxers (ext4, xfs).\nMigrar directoris reals a particions separades amb coher猫ncia i sense p猫rdua de dades.\nConfigurar el muntatge automtic amb UUID i opcions de seguretat (nodev, nosuid, noexec).\nDiagnosticar i recuperar problemes reals: saturaci贸 despai i corrupci贸 de sistema de fitxers.\nEines: fdisk, mkfs.*, tune2fs, mount, rsync, xfs_repair, hexedit.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 8 路 Administraci贸 bsica de Sistemes de Fitxers"
    ]
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#requeriments-previs",
    "href": "exercises/03-fs/08-ex-week5.html#requeriments-previs",
    "title": "Administraci贸 bsica de Sistemes de Fitxers",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nTenir una mquina virtual (MV) amb Debian instal路lat.\nCrear un disc dur virtual addicional de 10GB del tipus SATA o NVMe.\nInstal路lar els paquets xfsprogs, rsync, hexedit i build-essential:\napt update -y && apt install xfsprogs rsync hexedit build-essential -y\nTotes les comandes shan dexecutar amb permisos de superusuari (root). Per tant, su -.\nCompte amb el nom del disc dur addicional, en aquest cas /dev/nvme0n2, per貌 pot variar en funci贸 de la configuraci贸 de la mquina virtual, utilitza la comanda lsblk per a identificar el disc dur addicional. Utilitza el nom correcte actualitzant-lo en les comandes que apareixen en aquest exercici.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 8 路 Administraci贸 bsica de Sistemes de Fitxers"
    ]
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#particions-i-sistemes-de-fitxers",
    "href": "exercises/03-fs/08-ex-week5.html#particions-i-sistemes-de-fitxers",
    "title": "Administraci贸 bsica de Sistemes de Fitxers",
    "section": "Particions i Sistemes de Fitxers",
    "text": "Particions i Sistemes de Fitxers\n\nCrear Particions i Sistemes de Fitxers\nAssegurarem que el disc dur addicional est detectat pel sistema. En aquest cas, el disc dur 茅s /dev/nvme0n2, per貌 pot variar en funci贸 de la configuraci贸 de la mquina virtual, utilitza la comanda lsblk per a identificar el disc dur addicional.\nUtilitzarem la comanda fdisk per a crear tres noves particions en el disc dur.\n\nLa primera partici贸 ser per a /var amb el sistema de fitxers ext4, etiqueta var mida 4GB.\nLa segona partici贸 ser per a /tmp amb el sistema de fitxers xfs, sense etiqueta i mida 2GB.\nLa tercera partici贸 ser per a /opt amb el sistema de fitxers ext4, etiqueta opt mida 3GB.\nLa quarta partici贸 ser /home amb el sistema de fitxers ext4, etiqueta home i la resta despai disponible (1GB).\n\nCrearem les noves particions en el disc dur. Podeu utilzar una pipeline per a automatitzar la creaci贸 de les particions.\necho -e \"n\\np\\n\\n\\n+4G\\nn\\np\\n\\n\\n+2G\\nn\\np\\n\\n\\n+3G\\nn\\np\\n\\n\\n+1G\\nw\" | fdisk /dev/nvme0n2\nEl seg眉ent pas 茅s crear els sistemes de fitxers en les particions que acabem de crear i assignar les etiquetes corresponents.\nmkfs.ext4 /dev/nvme0n2p1\ntune2fs -L \"var\" /dev/nvme0n2p1\nmkfs.xfs /dev/nvme0n2p2\nmkfs.ext4 /dev/nvme0n2p3\ntune2fs -L \"opt\" /dev/nvme0n2p3\nmkfs.xfs /dev/nvme0n2p4\ntune2fs -L \"home\" /dev/nvme0n2p4\nMonteu les particions en directoris temporals per a migrar les dades, per a aix貌, creeu els directoris /mnt/var, /mnt/tmp , /mnt/opt i /mnt/home.\nmkdir /mnt/var /mnt/tmp /mnt/opt /mnt/home\nmount /dev/nvme0n2p1 /mnt/var\nmount /dev/nvme0n2p3 /mnt/opt\nmount /dev/nvme0n2p4 /mnt/home\n\n\n\n\n\n\nNota/tmp\n\n\n\nLa partici贸 /tmp 茅s temporal i no cont茅 dades importants, per tant, no la muntarem en aquest pas, ja que no necessitem migrar cap dada. Les seves dades es perdran en el reinici del sistema.\n\n\n\n\nMigrar Directoris a les Noves Particions\nAbans de migrar les dades, 茅s important assegurar-se que no hi ha processos que estiguin utilitzant els directoris que volem migrar. Per a aix貌, podem utilitzar la comanda lsof per a llistar els fitxers oberts en aquests directoris.\nlsof +D /var\nlsof +D /opt\nlsof +D /home\n\n\n\n\n\n\nNotaFitxers oberts\n\n\n\nSi hi ha processos que estan utilitzant els directoris que volem migrar, 茅s recomanable aturar aquests processos abans de continuar amb la migraci贸. Aix貌 茅s especialment important per al directori /var, ja que cont茅 fitxers de registre i altres dades que poden ser utilitzades per diversos serveis del sistema.\n\n\nHi ha moltes comandes per a migrar dades entre directoris, per貌 en aquest cas utilitzarem la comanda rsync ja que ens permet mostrar el progr茅s de la c貌pia i tamb茅 ens permet reprendre la c貌pia en cas que es talli la connexi贸 o hi hagi un error. A m茅s, tamb茅 ens permet excloure directoris o fitxers que no volem migrar i ens permet fer c貌pies incrementals.\nrsync -av /var/ /mnt/var\nrsync -av /opt/ /mnt/opt\nrsync -av /home/ /mnt/home\n\n\n\n\n\n\nNotarsync\n\n\n\nrsync 茅s una eina molt potent per a la sincronitzaci贸 de fitxers i directoris. En aquest cas, utilitzem les opcions -a (mode arxiu) i -v (verbose) per a conservar els permisos, propietaris, marques de temps i per a mostrar el progr茅s de la c貌pia. La barra inclinada (/) al final dels directoris dorigen 茅s important perqu猫 indica a rsync que nom茅s volem copiar el contingut del directori i no el directori en si mateix. Si no posem la barra inclinada, rsync crear un subdirectori amb el mateix nom que el directori dorigen dins del directori de destinaci贸. Per a m茅s informaci贸 sobre rsync, podeu consultar la documentaci贸 (man rsync).\n\n\nUn cop copiem les dades, 茅s important verificar que les dades shan copiat correctament. Per a aix貌, podem utilitzar la comanda diff per a comparar els directoris dorigen i destinaci贸.\ndiff -r /var /mnt/var\ndiff -r /opt /mnt/opt\ndiff -r /home /mnt/home\nSi la comanda diff no mostra cap sortida, significa que els directoris s贸n id猫ntics i que les dades shan copiat correctament. Si hi ha difer猫ncies, la comanda diff mostrar les l铆nies que s贸n diferents entre els dos directoris.\nMuntarem les noves particions en els directoris corresponents.\nmount /dev/nvme0n2p1 /var\nmount /dev/nvme0n2p3 /opt\nmount /dev/nvme0n2p4 /home\nUtiltiza la comanda df per a comprovar que les particions shan muntat correctament o lsblk per a veure totes les particions i els seus punts de muntatge.\n\n\nConfigurar el Muntatge Automtic\nSi ara reinicieu el sistema reboot, les particions no estaran muntades automticament. Per a que les particions es muntin automticament en larrencada del sistema, hem deditar el fitxer /etc/fstab i afegir les noves particions amb els seus punts de muntatge corresponents.\necho \"/dev/nvme0n2p1 /var ext4 defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p2 /tmp xfs defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p3 /opt ext4 defaults 0 0\" &gt;&gt; /etc/fstab\necho \"/dev/nvme0n2p4 /home xfs defaults 0 0\" &gt;&gt; /etc/fstab\n\n\n\n\n\n\nNota/etc/fstab\n\n\n\nEl fitxer /etc/fstab cont茅 la informaci贸 de les particions que es muntaran automticament en larrencada del sistema. Cada l铆nia del fitxer cont茅 la informaci贸 duna partici贸. Els camps de cada l铆nia s贸n: dispositiu, punt de muntatge, sistema de fitxers, opcions, freq眉猫ncia de comprovaci贸 i ordre de comprovaci贸. Podeu consultar la documentaci贸 del fitxer per a m茅s informaci贸 (man fstab).\n\n\nPots provar la configuraci贸 del fitxer /etc/fstab sense reiniciar el sistema amb la comanda mount -a. Aquesta comanda muntar totes les particions que estan definides en el fitxer /etc/fstab. Tamb茅 podem fer un reboot per a comprovar que les particions es muntin automticament en larrencada del sistema, sempre hi quan la comanda mount -a no hagi donat cap error.\nEn aquest punt podriam optimitzar la configuraci贸 particions per a millorar el rendiment del sistema.\n\nUtiltizarem els UUIDs en lloc dels dispositius per a muntar les particions. Aix貌 ens permetr identificar les particions de forma un铆voca i evitar problemes en cas que els dispositius canvi茂n didentificador. Per fer-ho podem utilitzar la comanda sed per actualitzar el fitxer /etc/fstab.\nsed -i \"s|/dev/nvme0n2p1|UUID=$(blkid -s UUID -o value /dev/nvme0n2p1)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p2|UUID=$(blkid -s UUID -o value /dev/nvme0n2p2)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p3|UUID=$(blkid -s UUID -o value /dev/nvme0n2p3)|\" /etc/fstab\nsed -i \"s|/dev/nvme0n2p4|UUID=$(blkid -s UUID -o value /dev/nvme0n2p4)|\" /etc/fstab\n\n Pregunta: En quins casos poden canviar els dispositius o tenir duplicats?\nEls dispositius poden canviar didentificador en cas que es connectin m茅s dispositius al sistema o es canvii lordre de connexi贸 dels dispositius. Aix貌 pot provocar que les particions es muntin en llocs diferents dels esperats. Per a evitar aquest problema, 茅s recomanable utilitzar els UUIDs en lloc dels dispositius per a muntar les particions.\n\nUtilitzarem opcions m茅s espec铆fiques per protegir la partici贸 /tmp per a evitar que sexecutin programes des de la partici贸. Utilitzant les opcions nodev, nosuid, i noexec:\n\nEdita el fitxer /etc/fstab i afegeix les opcions nodev, nosuid, i noexec a la partici贸 /tmp.\n\n\n\n\n\n\n\n\nNotaOpcions de Muntatge\n\n\n\nLa opci贸 defaults 茅s una col路lecci贸 dopcions que sutilitzen per defecte en la majoria de sistemes de fitxers. Aquestes opcions inclouen rw (lectura i escriptura), suid (permet l煤s de latribut suid), 茅s a dir, evita que es puguin exectuar programaes amb permisos de superusuari, dev (permet l煤s de dispositius), exec (permet lexecuci贸 de fitxers binaris), auto (muntatge automtic en larrencada del sistema), nouser (nom茅s lusuari root pot muntar la partici贸) i async (permet lescriptura as铆ncrona).\n\n\n\nComprova les opcions despr茅s deditar el fitxer /etc/fstab.\n\nmount | grep /tmp\n\nPer aplicar les opcions de muntatge a la partici贸 /tmp, farem un reboot del sistema.\nTestem les opcions de muntatge de la partici贸 /tmp:\n\nProva dexecutar un programa des de la partici贸 /tmp com a usuari no privilegiat.\n\necho \"echo 'Hello, World'\" &gt; /tmp/hello.sh\nchmod +x /tmp/hello.sh\n/tmp/hello.sh\nbash /tmp/hello.sh\n\nProva de fer el mateix com a usuari privilegiat.\n\nsu -\n/tmp/hello.sh\nbash /tmp/hello.sh\n\n锔 Observaci贸:\nObserveu que la opci贸 noexec impedeix la execuci贸 dels binaris per貌 no ens protegeix contra lexecuci贸 de scripts de bash.\n\n\nProva daccedir a un dispositiu creat a /tmp:\n\nInicialitza un dispositiu a /tmp utilitzant la comanda mknod.\n\nmknod /tmp/dispositiu c 1 3\n\n锔 Compte:\nLa comanda mknod 煤nica i exclusivament la poden fer els usuaris amb permisos de superusuari. Per tant, feu servir la comanda su per a canviar a lusuari root abans de fer servir la comanda mknod.\n\n\nPer accedir al dispositiu, utilitza la comanda cat.\n\ncat /tmp/dispositiu\n\n锔 Observaci贸:\nFixeu-vos que quan intento accedir a un dispositiu al directori actual, no hi ha cap problema. Per貌 quan intento accedir al dispositiu creat a /tmp, rebre un missatge derror indicant que no es pot accedir al dispositiu. Aix貌 茅s degut a la opci贸 nodev que impedeix lacc茅s a dispositius en la partici贸.\n\n\n\nPer veure, les implicacions de la opci贸 nosuid, podem realitzar el seg眉ent experiment:\nPer fer-ho, crearem un executable amb c que ens indicar lidentificador de lusuari real i lidentificador de lusuari efectiu. On lusuari real 茅s lusuari que ha iniciat la sessi贸 i lusuari efectiu 茅s lusuari que executa el programa. Si un programa t茅 el bit suid activat, lusuari efectiu ser lusuari propietari del programa i no lusuari que lha executat.\n#include &lt;stdio.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n\nint main() {\n    printf(\"Effective user ID: %d\\n\", geteuid());\n    printf(\"Real user ID: %d\\n\", getuid());\n    return 0;\n}\nCompilem el programa amb la comanda gcc.\ngcc -o /tmp/suid /tmp/suid.c\nDesactiva la opci贸 nosuid i tamb茅 la opci贸 noexec per a la partici贸 /tmp. Per fer-ho, utilitza lusuari root per a editar el fitxer /etc/fstab.\nRemunta la partici贸 /tmp.\nProva dexecutar el programa com a usuari no privilegiat.\n/tmp/suid\nActiva la opci贸 nosuid i torna a provar dexecutar el programa.\n/tmp/suid\n\n\n锔 Observaci贸:\nFixeu-vos que quan la opci贸 nosuid est activada, no es pot executar el programa amb permisos de superusuari. Aix貌 茅s important per a evitar que els usuaris no privilegiats puguin executar programes amb permisos de superusuari. Aquesta opci贸 pot permetre escalar privilegis i comprometre la seguretat del sistema.\n\n\n\n Pregunta: Per qu猫 茅s important tenir els directoris /var, /tmp i /opt en particions diferents?\nLa ra贸 principal per a tenir els directoris /var, /tmp i /opt en particions diferents 茅s per a millorar el rendiment i la seguretat del sistema. El directori /var cont茅 dades variables com ara logs, bases de dades, correu electr貌nic, etc. Si aquest directori es queda sense espai, el sistema podria fallar. El mateix raonament saplica al directori /tmp i /opt. Per aix貌, 茅s important tenir-los en particions separades per a evitar que el sistema falli. A m茅s, tenir els directoris /var, /tmp i /opt en particions separades tamb茅 millora la seguretat del sistema ja que si una partici贸 falla, les altres particions seguiran funcionant.\n\nAnem a fer una simulaci贸 de com respon el sistema en cas de no tenir els directoris /var, /tmp i /opt en particions separades. Per a aix貌, simularem que el directori /opt es va omplint fins a ocupar tot lespai disponible en la partici贸 principal del sistema.\n\nDesmuntem la partici贸 /opt per a poder continuar amb lexercici.\numount /opt\nCreeu un fitxer de 20GB al directori /opt:\ndd if=/dev/urandom of=/opt/fitxer bs=1M count=20480\nComprova lestat del sistema.\ndf -h\n\n\n\nComprova lestat del sistema\n\n\nIntenta instal路lar un paquet amb apt i comprova que el sistema falla.\napt install htop\n\n\n\nIntenta instal路lar un paquet amb apt i comprova que el sistema falla\n\n\nCom podeu veure, el sistema fallar ja que no t茅 espai suficient per a instal路lar el paquet. Aix貌 茅s un problema greu ja que el sistema no podr funcionar correctament fins que no alliberem espai en la partici贸 principal.\nElimina el fitxer que has creat per a poder continuar amb la resta de lexercici.\nrm /opt/fitxer\nMunteu la partici贸 /opt i torneu a crear el fitxer per a omplir el directori.\nmount /dev/nvme0n2p3 /opt\ndd if=/dev/urandom of=/opt/fitxer bs=1M count=20480\nAra 煤nicament teniu la partici贸 /opt plena; per貌 el sistema pot continuar fent tasques:\napt install htop",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 8 路 Administraci贸 bsica de Sistemes de Fitxers"
    ]
  },
  {
    "objectID": "exercises/03-fs/08-ex-week5.html#simulant-una-corrupci贸-a-home",
    "href": "exercises/03-fs/08-ex-week5.html#simulant-una-corrupci贸-a-home",
    "title": "Administraci贸 bsica de Sistemes de Fitxers",
    "section": "Simulant una corrupci贸 a /home",
    "text": "Simulant una corrupci贸 a /home\nEn aquest escenari simularem que hem patit una corrupci贸 a la partici贸 /home i quines eines podem utiltzar per intentar recuperar les dades. Bsicament editarem alguns bits de la partici贸 /home amb un editor hexadecimal per a simular la corrupci贸 i despr茅s utilitzarem leina xfs_repair per a intentar recuperar les dades.\nEl primer pas que farem ser migrar el directori /home a una partici贸 diferent per a poder simular la corrupci贸. A continuaci贸, simularem la corrupci贸 i finalment recuperarem les dades.\nAra podem crear fitxers i directoris al directori /home del vostre usuari normal, en el meu cas jordi.\nmkdir codi\nmkdir dades\ntouch dades/pokemon.csv\ntouch codi/main.c\ntouch codi/Makefile\ntouch codi/README.md\ntouch .vim\nPer a simular una corrupci贸 editarem alguns valors de la partici贸 /home amb un editor hexadecimal.\n\nDesmuntem la partici贸 /home.\numount /home\n\nCompte!: Si esteu connectats per SSH, no podreu desmuntar la partici贸 /home ja que el vostre usuari est utilitzant aquesta partici贸. En la primera sessi贸. Per tant, haure de fer-ho a la consola de la mquina virtual.\n\nObrirem la partici贸 /home amb un editor hexadecimal:\n\nhexedit /dev/nvme0n2p4 \n\nModifiqueu bits a latzar i deseu els canvis. Per fer-ho escriviu damunt dels valors hexadecimals altres valors. Un cop fet guardeu amb Ctrl + X i Y.\nAra intentarem muntar la partici贸 /home per a comprovar que ha estat corrompuda.\n\nmount /home\nSi la partici贸 /home sha corromput, haur铆eu de veure un missatge derror com aquest:\n\nEls diferents sistemes de fitxers tenen eines per a comprovar la integritat dels fitxers. Per exemple, el sistema de fitxers xfs t茅 leina xfs_ncheck que permet comprovar la integritat dels fitxers.\nxfs_ncheck /dev/nvme0n2p4\nPer a reparar la partici贸 /home utilitzarem leina xfs_repair.\nxfs_repair /dev/nvme0n2p4\nUn cop reparada la partici贸 /home, la muntarem de nou.\nmount /home\nComprovarem que la partici贸 /home sha muntat correctament i cont茅 els fitxers que hav铆em creat.\nls /home",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 8 路 Administraci贸 bsica de Sistemes de Fitxers"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html",
    "title": "Emulaci贸 en mode dusuari amb QEMU",
    "section": "",
    "text": "Aquest exercici tintroduir a lemulaci贸 en mode dusuari de QEMU, una eina que et permet executar un programa compilat per a una arquitectura de CPU diferent de la teva mquina. Concretament, executars un programa de 32 bits compilat per a ARM en un sistema x86 (processadors Intel o AMD) o ARM de 64 bits (processadors Apple M). Per simplificar lexercici, utiltizarem un Hello, World! com a programa dexemple.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 2 路 Emulaci贸 en mode d'usuari amb QEMU"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#requeriments-previs",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#requeriments-previs",
    "title": "Emulaci贸 en mode dusuari amb QEMU",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nDisposar duna mquina virtual amb Debian configurada segons les instruccions de lexercici de configuraci贸 dentorn de virtualitzaci贸.\nDisposar de les eines bsiques de desenvolupament instal路lades a la mquina virtual (compilador gcc, make, etc.). Pots instal路lar-les com a root amb la comanda seg眉ent: apt install build-essential.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 2 路 Emulaci贸 en mode d'usuari amb QEMU"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#objectius",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#objectius",
    "title": "Emulaci贸 en mode dusuari amb QEMU",
    "section": "Objectius",
    "text": "Objectius\n\nIntroduir-se en l煤s de QEMU en mode dusuari per a lemulaci贸 daplicacions.\nComprendre la difer猫ncia entre compilaci贸 nativa i compilaci贸 creuada.\nCompilar i executar un programa senzill per a una arquitectura diferent de la teva mquina.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 2 路 Emulaci贸 en mode d'usuari amb QEMU"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#tasques",
    "href": "exercises/01-foundations-of-systems-administration/02-ex-week1.html#tasques",
    "title": "Emulaci贸 en mode dusuari amb QEMU",
    "section": "Tasques",
    "text": "Tasques\n\nEscriure i compilar un programa Hello World per a ARM\n\nCrea un fitxer anomenat hello.c amb el seg眉ent contingut:\n\n#include &lt;stdio.h&gt;\n\nint main() {\n    printf(\"Hello, World!\\n\");\n    return 0;\n}\nPer compilar-lo per a larquitectura ARM, necessites un compilador creuat. En aquest laboratori, utilitzarem el GNU ARM toolchain per a Linux. Instal路lal amb la seg眉ent comanda:\n# Com a root\napt install gcc-arm-linux-gnueabi\nAra, compila el programa per a ARM amb aquesta comanda:\n# Com a usuari normal\narm-linux-gnueabi-gcc -o helloarm -static hello.c\nAix貌 generar un executable anomenat helloarm. La bandera -static crea un binari estticament enlla莽at, la qual cosa significa que totes les biblioteques necessries sinclouen dins del propi fitxer.\nSi intentes executar helloarm directament, rebrs un error:\n./helloarm\n-bash: ./helloarm: no es pot executar el fitxer binari: Error de format d'execuci贸\nAquest error es produeix perqu猫 el teu sistema operatiu no reconeix larquitectura del fitxer. Pots verificar-ho amb la comanda file:\nfile helloarm\nhelloarm: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), statically linked, not stripped\n\n\nCompilaci贸 per a larquitectura de la teva MV\nPer entendre la difer猫ncia, ara compila el mateix codi per a larquitectura de la teva mquina amb gcc:\ngcc -o hellohost hello.c\nSi lexecutes, funcionar sense problemes:\n./hellohost\nHello, World!\nPer comprovar-ne larquitectura, utilitza de nou la comanda file:\nfile hellohost\n# Exemple per a x86\nhellohost: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked...\n# Exemple per a Apple M Series (ARM 64-bit)\nhellohost: ELF 64-bit LSB shared object, ARM aarch64, version 1 (SYSV), dynamically linked...\n\n\nExecuci贸 del programa amb QEMU\nFinalment, per executar el binari ARM a la teva mquina, necessites el component de QEMU per a emulaci贸 en mode dusuari. Instal路lal amb aquesta comanda:\n# Com a root\napt install qemu-user\nUn cop instal路lat, pots executar el programa helloarm amb lemulador qemu-arm:\nqemu-arm helloarm\nHello, World!\n\n\nPreguntes finals\n\nInvestiga quines altres arquitectures s贸n compatibles amb QEMU en mode dusuari. Prova de compilar i executar un programa per a una daquestes arquitectures.\nPer qu猫 la compilaci贸 esttica 茅s important en aquest context? Per qu猫 no cal incloure la bandera -static en la compilaci贸 normal? Quines avantatges i inconvenients t茅 cada enfocament?",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 2 路 Emulaci贸 en mode d'usuari amb QEMU"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#contextutalitzaci贸",
    "href": "slides/03-filesystem-part3.html#contextutalitzaci贸",
    "title": "Sistema de fitxers (III)",
    "section": "Contextutalitzaci贸",
    "text": "Contextutalitzaci贸\nImaginem que disposem dun servidor amb un 煤nic disc dur, dividit en quatre particions. Aquestes particions s贸n:\nFilesystem      Size  Used   Avail  Use%   Mounted on\n/dev/sda1       20G   5.5G   14G    29%    /\n/dev/sda2       10G   10G    0G     100%   /home\n/dev/sda3       5G    1G     4G     20%    /var\n/dev/sda4       5G    1G     4G     20%    /tmp\n\nQu猫 passa si la partici贸 /home somple i la resta de particions tenen espai lliure?\n\n\nLa soluci贸 tradicional seria redimensionar les particions per alliberar espai per a /home.\n\n\n★ Aix貌 implica complexitat i possibilitat derrors.\n\n\nPer tant, necessitem una soluci贸 m茅s flexible que ens permeti redimensionar les particions sense haver de moure dades i en temps real.\n\n\nUna situaci贸 t铆pica quan administrem servidors 茅s que una partici贸 sompli i la resta de particions tinguin espai lliure. En aquest cas, la partici贸 /home sha omplert i la resta de particions tenen espai lliure. Per solucionar aquest problema, haur铆em de redimensionar les particions per alliberar espai per a /home. Aix貌 implica complexitat i possibilitat derrors. Per tant, necessitem una soluci贸 m茅s flexible. Que ens permeti redimensionar les particions sense haver de moure dades i en temps real.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#introducci贸-a-lvm-1",
    "href": "slides/03-filesystem-part3.html#introducci贸-a-lvm-1",
    "title": "Sistema de fitxers (III)",
    "section": "Introducci贸 a LVM",
    "text": "Introducci贸 a LVM\nLogical Volume Manager (LVM) 茅s un sistema de gesti贸 de discos que permet als administradors gestionar lespai de disc de manera m茅s flexible que amb les particions tradicionals, resolent problemes comuns.\n\nEn la situaci贸 anterior, LVM ens permetria en temps real i sense aturar el sistema:\n\nRedimensionar les particions /var i /tmp per alliberar espai per a /home.\nRedimensionar la partici贸 /home a partir de lespai alliberat.\n\n\n\no b茅 tamb茅 ens permetria:\n\nAfegir un nou disc dur f铆sic al servidor.\nUtilitzar aquest disc dur per a augmentar lespai de la partici贸 /home.\n\n\n\nCrear, eliminar, redimensionar i moure particions en temps real.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#caracter铆stiques-de-lvm",
    "href": "slides/03-filesystem-part3.html#caracter铆stiques-de-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Caracter铆stiques de LVM",
    "text": "Caracter铆stiques de LVM\n\nAprovisionament: Permet combinar la capacitat de diferents dispositius f铆sics per crear un 煤nic o m煤ltiples volums v铆rtuals. Per exemple, es poden combinar quatre discs durs de 1TB per crear un 煤nic volum virtual de 4TB.\nElasticitat: Permet augmentar o disminuir lespai assignat a un volum virtual, sense necessitat de reiniciar el sistema. Per exemple, si un volum virtual sest quedant sense espai, es pot augmentar la seva mida o reduir-la.\nEscalabilitat: Permet afegir o eliminar dispositius f铆sics al grup de volums per augmentar o disminuir lespai demmagatzematge segons les necessitats. Per exemple, si es necessita m茅s espai demmagatzematge, es poden afegir nous discs f铆sics.\nResili猫ncia: Atorga la capacitat de crear c貌pies de seguretat de les dades per protegir-les davant possibles errors o danys. Per exemple, es poden crear snapshots o miralls (mirroring).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#components-de-lvm",
    "href": "slides/03-filesystem-part3.html#components-de-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Components de LVM",
    "text": "Components de LVM\n\n\n\nPV (Physical Volume): Dispositiu f铆sic que es pot utilitzar per emmagatzemar dades. Per exemple, un disc dur, una partici贸, un dispositiu RAID, etc.\nLV (Logical Volume): Bloc de dades que es pot utilitzar per emmagatzemar dades i contenir el seu propi sistema de fitxers. Equivalent a una partici贸 de disc en un sistema sense LVM.\nVG (Volume Group): Agrupaci贸 de LVs i PVs en una unitat administrativa. Un VG pot contenir diversos PVs i LVs.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#mapeig-i-extensions",
    "href": "slides/03-filesystem-part3.html#mapeig-i-extensions",
    "title": "Sistema de fitxers (III)",
    "section": "Mapeig i Extensions",
    "text": "Mapeig i Extensions\n\n\nPE (Physical Extent)\ns la unitat m铆nima demmagatzematge que es pot assignar a un PV. Normalment, un PE t茅 una mida de 4MB.\nLE (Logical Extent)\ns la unitat m铆nima demmagatzematge que es pot assignar a un LV. Per exemple, si un LE t茅 una mida de 4MB, un LV de 1GB tindr 256 LE.\nObservacions\n\nCada VG sencarrega de gestionar lemmagatzematge f铆sic (physical extents) mappejant-lo en emmagatzematge l貌gic (logical extents).\nEls PE i LE tenen la mateixa mida per貌 s贸n diferents en funci贸 de lestrategia de mapeig.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#estrat猫gies-de-mapeig",
    "href": "slides/03-filesystem-part3.html#estrat猫gies-de-mapeig",
    "title": "Sistema de fitxers (III)",
    "section": "Estrat猫gies de Mapeig",
    "text": "Estrat猫gies de Mapeig",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemple-i-consideracions",
    "href": "slides/03-filesystem-part3.html#exemple-i-consideracions",
    "title": "Sistema de fitxers (III)",
    "section": "Exemple i Consideracions",
    "text": "Exemple i Consideracions\n\n\n\n\n\nEs poden utilitzar dispositius de diferents mides i velocitats.\nUn PV nom茅s pot pertnyer a un VG.\nUn LV nom茅s pot pertnyer a un VG.\nUn VG pot contenir diversos PVs i LVs.\nLes funcions de mirror i snapshot requereixen m茅s dun PV.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#snapshots",
    "href": "slides/03-filesystem-part3.html#snapshots",
    "title": "Sistema de fitxers (III)",
    "section": "Snapshots",
    "text": "Snapshots\nEls snapshots s贸n c貌pies instantnies dun LV en un moment concret. El seu funcionament 茅s incremental: nom茅s es copien les dades que han canviat des de l煤ltim snapshot.\nPer qu猫 s贸n 煤tils?\n\nC貌pies de seguretat: Realitzar c貌pies de seguretat de les dades sense aturar el sistema.\nRestauraci贸: Restaurar les dades a un estat anterior.\nTests: Provar canvis en el sistema sense afectar les dades originals.\n\nCompte!\nLes instantnies ocupen espai en el VG. Per tant, si es crea una instantnia i despr茅s es sobreescriu completament el LV original, linstantnia hauria de ser almenys tan gran com el LV original per poder emmagatzemar tots els canvis.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#paquet-lvm2",
    "href": "slides/03-filesystem-part3.html#paquet-lvm2",
    "title": "Sistema de fitxers (III)",
    "section": "Paquet lvm2",
    "text": "Paquet lvm2\nEn la majoria de les distribucions de Linux, el paquet lvm2 permet la creaci贸 i gesti贸 de dispositius LVM.\n\n\nDistribucions basades en Red Hat\ndnf search lvm2\ndnf install lvm2 -y\n\nDistribucions basades en Debian\napt search lvm2\napt install lvm2 -y\n\n\nEl funcionament del paquet lvm2 茅s similar en totes les distribucions de Linux. Per tant, les instruccions d煤s s贸n similars i no importa la distribuci贸 que sutilitzeu.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#creaci贸-de-pvs",
    "href": "slides/03-filesystem-part3.html#creaci贸-de-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Creaci贸 de PVs",
    "text": "Creaci贸 de PVs\npvcreate PV [opcions]\nOn: PV pot ser un disc dur, una partici贸, un dispositiu RAID, etc.\n\ndataalignment mida[Unitat]: Alinia el comen莽ament del PV.\ndataalignmentoffset mida[Unitat]: Offset per modificar alineaci贸 de dades.\nlabelsector sector: Per defecte, el PV est etiquetat amb un identificador LVM2 al seu segon sector (sector 1). Aix貌 us permet utilitzar un sector diferent a prop de linici del disc (entre 0 i 3).\nmetadatasize mida[Unitat]: Mida de les metadades.\nsetphysicalvolumesize mida[Unitat]: Mida dels PE.\nlonghelp: Mostra totes les opcions (semblant a man pvcreate).\nuuid uuid: Assigna un UUID al PV.\n\n\ns tradicional: pvcreate /dev/sdb sense opcions.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#organitzaci贸-interna-dels-pvs",
    "href": "slides/03-filesystem-part3.html#organitzaci贸-interna-dels-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Organitzaci贸 interna dels PVs",
    "text": "Organitzaci贸 interna dels PVs",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemples-de-l煤s-de-pvcreate",
    "href": "slides/03-filesystem-part3.html#exemples-de-l煤s-de-pvcreate",
    "title": "Sistema de fitxers (III)",
    "section": "Exemples de l煤s de pvcreate",
    "text": "Exemples de l煤s de pvcreate\n\nInicialitzaci贸 a partir dun disc dur amb alineaci贸 de dades de 1MB comen莽ant des del sector 7.\n\n\npvcreate --dataalignment 1M --dataalignmentoffset 7s /dev/sdb\n\n\nInicialitzaci贸 a partir duna partici贸 amb un UUID espec铆fic.\n\n\npvcreate --uuid \"my-pv-uuid\" /dev/sdb1\n\n\nInicialitzaci贸 a partir dun raid amb mida de metadades 128MB i 8MB per PE (enlloc de 4MB).\n\n\npvcreate --setphysicalvolumesize 8M --metadatasize 128M /dev/md0",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#modificar-pvs-amb-pvchange",
    "href": "slides/03-filesystem-part3.html#modificar-pvs-amb-pvchange",
    "title": "Sistema de fitxers (III)",
    "section": "Modificar PVs amb pvchange",
    "text": "Modificar PVs amb pvchange\npvchange [opcions] PV\n\nall: Aplica lacci贸 a tots els PVs (no cal especificar el PV).\naddtag tag: Afegeix una etiqueta al PV.\ndeltag tag: Elimina una etiqueta del PV.\nlonghelp: Mostra totes les opcions (semblant a man pvcreate).\nuuid uuid: Assigna un UUID al PV.\nallocatable y/n: Activa o desactiva lassignaci贸 de PE al PV.\nautobackup y/n: Activa o desactiva la c貌pia de seguretat automtica de les metadades.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#redimensionar-pvs-amb-pvresize",
    "href": "slides/03-filesystem-part3.html#redimensionar-pvs-amb-pvresize",
    "title": "Sistema de fitxers (III)",
    "section": "Redimensionar PVs amb pvresize",
    "text": "Redimensionar PVs amb pvresize\npvresize [opcions] PV\n\nsetphysicalvolumesize mida[Unitat]: Redimensiona el PV.\nlonghelp: Mostra totes les opcions (semblant a man pvresize).\n\n\nConsideracions prctiques\n\npvresize redimensiona el PV, per貌 no redimensiona les particions o els sistemes de fitxers que cont茅. Haurs de fer aix貌 manualment si 茅s necessari.\npvresize refusar reduir un PV si t茅 extensiones assignades m茅s enll del nou final. Haurs de moure o eliminar aquestes extensions primer.\npvresize permet redimensionar un PV encara que estigui incl貌s en un VG amb LVs actius.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exemples-pvresize",
    "href": "slides/03-filesystem-part3.html#exemples-pvresize",
    "title": "Sistema de fitxers (III)",
    "section": "Exemples pvresize",
    "text": "Exemples pvresize\n\nExpandir un PV despr茅s dampliar la partici贸 per utilitzar tot el nou espai disponible.\n\n\npvresize /dev/sdb1\n\n\nReduir un PV abans de reduir la partici贸 (assegurar-se que la mida del PV 茅s adequada per a la nova mida de la partici贸).\n\n\npvresize --setphysicalvolumesize 40G /dev/sdb1",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#eliminar-pvs-amb-pvremove",
    "href": "slides/03-filesystem-part3.html#eliminar-pvs-amb-pvremove",
    "title": "Sistema de fitxers (III)",
    "section": "Eliminar PVs amb pvremove",
    "text": "Eliminar PVs amb pvremove\npvremove PV\n# Podeu obtenir la llista d'opcions amb pvremove --longhelp \n# o b茅 pvremove --help\n\npvremove elimina totes les metadades del PV, per貌 no elimina les dades.\npvremove no permet eliminar PVs que estiguin en 煤s. Haurs de moure o eliminar les extensions primer.\npvremove no permet eliminar PVs que formin part dun VG. Haurs de treure el PV del VG primer.\n\n\nPer eliminar les dades del PV, haurs de sobreescriure el PV amb zeros dd if=/dev/zero of=PV bs=1M count=1 o b茅 formatejar el dispositiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#obtenir-informaci贸-pvs",
    "href": "slides/03-filesystem-part3.html#obtenir-informaci贸-pvs",
    "title": "Sistema de fitxers (III)",
    "section": "Obtenir informaci贸 pvs",
    "text": "Obtenir informaci贸 pvs\npvs [opcions]\n\nallpvs: Mostra tots els PVs, inclosos els PVs inactius.\nall: Mostra tots els dispositius que no han estat inicialitzats com a PVs.\nnoheadings: No mostra la cap莽alera (bona combinaci贸 amb grep).\ndevices PV: Restringeix la sortida als PVs especificats.\noptions String: Permet seleccionar les columnes a mostrar. Per a m茅s informaci贸, consulteu pvs -o help.\nlonghelp: Mostra totes les opcions (semblant a man pvs).\n\n\nAltres opcions per a visualitzar informaci贸n s贸n: pvdisplay i pvscan. La principal difer猫ncia 茅s que pvdisplay mostra la informaci贸 de tots els PVs, mentre que pvscan escaneja tots els dispositius per trobar PVs.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#inicialitzaci贸-de-vgs",
    "href": "slides/03-filesystem-part3.html#inicialitzaci贸-de-vgs",
    "title": "Sistema de fitxers (III)",
    "section": "Inicialitzaci贸 de VGs",
    "text": "Inicialitzaci贸 de VGs\nvgcreate VG PV [opcions]\n\nclustered y/n: Activa o desactiva el VG per a l煤s en un cl煤ster.\nmaxlogicalvolumes nombre: N煤mero mxim de LVs que es poden crear en el VG.\nmaxphysicalvolumes nombre: N煤mero mxim de PVs que es poden afegir al VG.\nphysicalextentsize mida[Unitat]: Mida dels PE.\nmetadatasize mida[Unitat]: Mida de les metadades.\nalloc [contiguous|cling|normal|anywhere]: Estrat猫gia dassignaci贸 de PE.\nlonghelp: Mostra totes les opcions (semblant a man vgcreate).\n\n\nQuan un VG sinicialitza a partir dun PV, els valors de la mida de les metadades, comen莽ament dels PE, es prenen del PV, encara que shagin especificat opcions diferents amb vgcreate. ★ si voleu canviar-ho, pvremove. I despr茅s vgcreate amb les opcions desitjades.\n\n\n\nvgcreate incialitza el PV en cas que no estigui inicialitzat.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#augmentar-o-reduir-vgs-amb-vgextend-i-vgreduce",
    "href": "slides/03-filesystem-part3.html#augmentar-o-reduir-vgs-amb-vgextend-i-vgreduce",
    "title": "Sistema de fitxers (III)",
    "section": "Augmentar o Reduir VGs amb vgextend i vgreduce",
    "text": "Augmentar o Reduir VGs amb vgextend i vgreduce\nvgextend VG PV [opcions] # Afegir un PV o una llista de PVs a un VG\nvgreduce VG PV [opcions] # Treure un PV o una llista de PVs d'un VG\n\nvgextend permet afegir PVs no inicialitzats. En aquest cas, vgextend inicialitzar els PVs amb les opcions especificades de --labelsector, --metadatasize, --metadataignore, --pvmetadatacopies, --dataalignment, --dataalignmentoffset.\nvgreduce detecta que un o m茅s PVs estan perduts, necessita vgreduce --removemissing per fer que les metadades del VG siguin consistents de nou.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#altres-operacions-amb-vgs",
    "href": "slides/03-filesystem-part3.html#altres-operacions-amb-vgs",
    "title": "Sistema de fitxers (III)",
    "section": "Altres operacions amb VGs",
    "text": "Altres operacions amb VGs\n\nModificar les propietats dun VG\n\n\nvgchange [opcions] VG\n\n\nEliminar un VG\n\n\nvgremove VG\n\n\nMostrar informaci贸 detallada dun VG\n\n\nvgs\nvgdisplay VG\nvgscan\n\n\nTotes aquestes comandes tenen opcions similars a les ja vistes per a pvchange, pvremove, pvs, pvdisplay i pvscan. Per a m茅s informaci贸, consulteu el manual de cada comanda.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#inicialitzaci贸-de-lvs",
    "href": "slides/03-filesystem-part3.html#inicialitzaci贸-de-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Inicialitzaci贸 de LVs",
    "text": "Inicialitzaci贸 de LVs\nlvcreate LV VG [opcions]\n\n-n|name nom: Nom del LV.\n-L|size mida[Unitat]: Mida del LV en unitats com MiB,GiB,TiB,.\n-l|extents nombre: Defineix com un % del VG o b茅 com un nombre enter.\n-i|stripes nombre: Defineix el nombre de stripes a utilitzar.\n-I|stripesize mida[Unitat]: Defineix la mida de les stripes.\n-m|mirrors nombre: Defineix el nombre de miralls a utilitzar.\n-s|snapshot: Crea un snapshot del LV.\n-c|chunksize mida[Unitat]: Defineix la mida dels chunks.\n-C|contiguous y/n: Activa o desactiva lassignaci贸 de PE contigus.\n-p|permission r|rw: Defineix els permisos del LV.\n-t|thinpool VG: Crea un thin pool LV.\nlonghelp: Mostra totes les opcions (semblant a man lvcreate).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#consideracions-prctiques-sobre-lvcreate-i",
    "href": "slides/03-filesystem-part3.html#consideracions-prctiques-sobre-lvcreate-i",
    "title": "Sistema de fitxers (III)",
    "section": "Consideracions prctiques sobre lvcreate (I)",
    "text": "Consideracions prctiques sobre lvcreate (I)\n\nlvcreate crea un nou LV en un VG. ★ Assigna extensions l貌giques a les extensions f铆siques lliures del VG.\n\n\nQu猫 passaria si no hi ha prou espai lliure al VG? Haur铆em dampliar el VG amb altres PVs (vgextend), o b茅 reduir o eliminar els LV existents (lvremove, lvreduce). Aquesta 茅s una consideraci贸 important a tenir en compte quan es treballa amb grans volums de dades.\n\n\nlvcreate permet especificar quins PVs utilitzar un nou LV. ★ lvcreate assignar extensi贸 f铆siques nom茅s dels PVs especificats. Aix貌 pot ser 煤til quan es vol controlar lassignaci贸 despai en un sistema amb m煤ltiples PVs.\nlvcreate tamb茅 pot crear LV RAID especificant un tipus de LV en crear el LV. ★ Diferents nivells de RAID requereixen diferents nombres de PVs 煤nics en el VG per a lassignaci贸. Aix貌 pot ser 煤til per a la redundncia de dades i la tolerncia a fallades.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#consideracions-prctiques-sobre-lvcreate-ii",
    "href": "slides/03-filesystem-part3.html#consideracions-prctiques-sobre-lvcreate-ii",
    "title": "Sistema de fitxers (III)",
    "section": "Consideracions prctiques sobre lvcreate (II)",
    "text": "Consideracions prctiques sobre lvcreate (II)\n\nlvcreate tamb茅 pot crear thin pools i cache pools. ★ Aquests no s贸n utilitzables com a dispositius de bloc estndard, per貌 els noms dels LV actuen com a refer猫ncies. Aquests pools ens poden interesar en servidors on molts usuaris comparteixen recursos demmagatzematge i es volen limitar els recursos demmagatzematge per usuari.\nlvcreate tamb茅 pot crear LV thin i LV VDO. ★ Aquests es creen amb una mida virtual en lloc duna mida f铆sica. Permeten sobreprovisionament i compressi贸 de dades. ★ Tots el usuaris tenen dret a m茅s espai del que realment tenen.\nPodeu utilitzar qualsevol --size o --extents per especificar la mida del LV.\nEn cas de no especificar un nom, es generar un nom de LV amb el prefix lvol i un sufix num猫ric 煤nic. Aix貌 pot ser 煤til quan es vol crear m煤ltiples LVs de forma rpida i eficient.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#altres-operacions-amb-lvs",
    "href": "slides/03-filesystem-part3.html#altres-operacions-amb-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Altres operacions amb LVs",
    "text": "Altres operacions amb LVs\nEls LVs ens permeten les mateixes operacions amb opcions similars a les ja vistes per a PVs i VGs:\n\nMostrar informaci贸 detallada dun LV: lvs, lvdisplay, lvscan.\nModificar les propietats dun LV: lvchange.\nEliminar un LV: lvremove.\nIncrementar o disminuir la mida dun LV: lvextend, lvreduce.\n\n\nPer a m茅s informaci贸, consulteu el manual de cada comanda o b茅 executeu comanda --help.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-01-lvm-i-bootloaders",
    "href": "slides/03-filesystem-part3.html#cas-prctic-01-lvm-i-bootloaders",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 01: LVM i BootLoaders",
    "text": "Cas Prctic 01: LVM i BootLoaders\nDurant la realitzaci贸 duna instal路laci贸 dun sistema operatiu, sha de decidir si utilitzar LVM per a la partici贸 /boot o /boot/efi. Creus que 茅s recomanable utilitzar LVM per a aquestes particions?\n\nNo, no 茅s recomanable utilitzar LVM per a la partici贸 /boot o /boot/efi. Els BootLoaders com GRUB no poden llegir els sistemes de fitxers LVM. Per tant, 茅s millor utilitzar particions tradicionals per a /boot i /boot/efi.\n\n\nDurant el proc茅s darrancada, el bootloader carrega el kernel i la imatge initramfs des de la partici贸 /boot. Si aquesta partici贸 est en un sistema de fitxers LVM, el bootloader no podr llegir-la i no podr carregar el sistema operatiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-02-dispositiu-compartit-usb",
    "href": "slides/03-filesystem-part3.html#cas-prctic-02-dispositiu-compartit-usb",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 02: Dispositiu compartit (USB)",
    "text": "Cas Prctic 02: Dispositiu compartit (USB)\nAssumeix que tens un disc dur extern de 2TB i vols fer-ho servir per guardar c貌pies de seguretat de dos usuaris. El disc es connecta per usb f铆sicament als dos dispositius. Lusuari 1 necessita 1TB i lusuari 2 necessita 500GB. Assumeix que lusuari 1 utilitza Windows i lusuari 2 utilitza Linux. Recomanaries utilitzar LVM per aquest cas d煤s?\n\nNo, LVM 茅s una tecnologia espec铆fica de Linux i no 茅s compatible amb Windows. Per tant, no 茅s recomanable utilitzar LVM per aquest cas d煤s. En aquest cas, seria millor utilitzar particions tradicionals per a cada usuari. Podeu crear dues particions: una de 1TB formatada amb NTFS per a lusuari 1 (Windows) i una altra de 500GB formatada amb ext4 per a lusuari 2 (Linux). La resta de lespai es podria deixar sense particionar o crear una partici贸 compartida si es desitja.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-02-dispositiu-compartit-nas",
    "href": "slides/03-filesystem-part3.html#cas-prctic-02-dispositiu-compartit-nas",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 02: Dispositiu compartit (NAS)",
    "text": "Cas Prctic 02: Dispositiu compartit (NAS)\nAssumeix ara que el disc dur extern sutilitza en un NAS on sofereix emmagatzematge compartit per a tots els usuaris en xarxa local. En aquest cas, recomanaries utilitzar LVM per aquest cas d煤s?\n\nS铆, en aquest cas, LVM pot ser una bona opci贸 per a la gesti贸 de lespai demmagatzematge compartit. LVM permet crear volums l貌gics que es poden redimensionar en temps real. Cada usuari podria tenir el seu LV per emmagatzemar les seves dades. Com el NAS 茅s un servidor de xarxa, els usuaris podrien accedir als seus LVs a trav茅s de la xarxa; independentment del sistema operatiu que utilitzin els usuaris en els seus dispositius.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-03-servidor-de-base-de-dades",
    "href": "slides/03-filesystem-part3.html#cas-prctic-03-servidor-de-base-de-dades",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 03: Servidor de Base de Dades",
    "text": "Cas Prctic 03: Servidor de Base de Dades\nConsiderant que hem de configurar un servidor de base de dades amb 4 discos durs de 1TB cadascun. Quins avantatges i desavantatges tindria la implementaci贸 de LVM en aquest context?\n\nLVM permet la creaci贸 de volums l貌gics que es poden distribuir en diversos discos f铆sics, cosa que pot millorar el rendiment mitjan莽ant el striping. ★ Aquesta configuraci贸 pot ser 煤til per a bases de dades que requereixen un alt rendiment dE/S. Per貌, tamb茅 augmenta la complexitat i pot induir a overheads addicionals dels Volums L貌gics.\n\n\nA m茅s, LVM admet instantnies, que poden ser 煤tils per a les c貌pies de seguretat i la recuperaci贸 de les dades. Ara b茅, si les instantnies es guarden en el mateix disc f铆sic que la base de dades, i aquest disc falla, es perdran tant la base de dades com les instantnies.\n\n\nTamb茅 permet afegir o eliminar discos f铆sics sense temps dinactivitat, cosa que millora la disponibilitat del servidor de base de dades. ★ Ens permet la seva ampliaci贸 en un futur sense haver de parar el servei.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-04-errors-i-fallades-i",
    "href": "slides/03-filesystem-part3.html#cas-prctic-04-errors-i-fallades-i",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 04: Errors i Fallades (I)",
    "text": "Cas Prctic 04: Errors i Fallades (I)\nImagineu-vos que esteu treballant amb un grup de volums (VG1) que cont茅 diversos discos f铆sics, entre ells el PV1. A m茅s, teniu un altre grup de volums (VG2) en un disc f铆sic diferent (PV2) on guardeu les vostres instantnies. Qu猫 passaria amb les metadades de LVM i les instantnies si el disc f铆sic PV1 falla?\n\nSi les metadades de LVM no estan en el disc fallat PV1, llavors els volums l貌gics que no estaven en el disc fallat segueixen estant disponibles. ★ En aquest cas, les metadades de LVM no es perden i es pot recuperar la informaci贸 dels volums l貌gics del VG1.\n\n\nNo obstant aix貌, si el disc fallat PV1 contenia dades dun volum l貌gic, aquestes dades es perdran a menys que tinguem una instantnia. A m茅s, si el disc fallat contenia una part dun volum l貌gic que sestenia per diversos discos (com en el cas dun volum l貌gic distribu茂t o striped), tot el volum l貌gic pot quedar inutilitzable. ★ En aquest cas, les metadades de LVM es perden i no es pot recuperar la informaci贸 dels volums l貌gics del VG1.\n\n\nVG2 cont茅 les instantnies, per tant, si el disc f铆sic PV1 falla, les instantnies no es perdran. ★ Aix貌 permet restaurar les dades del volum l貌gic original del VG1 a partir de les instantnies del VG2.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-i",
    "href": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-i",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 05: Escalabilitat dApps (I)",
    "text": "Cas Prctic 05: Escalabilitat dApps (I)\nUna empresa est experimentant un rpid creixement i necessita implementar un nou servidor per donar suport a una nova aplicaci贸 cr铆tica per al negoci. El departament dIT t茅 pressupost limitat i nom茅s t茅 disponible un emmagatzematge de 2TB per a aquest nou servidor. Laplicaci贸 requereix un m铆nim de 1TB demmagatzematge per funcionar correctament, per貌 es preveu que el seu 煤s creixer rpidament en els propers mesos.\n\nCom a administrador us plantejeu la possibilitat dutilitzar el thin provisioning de LVM per donar suport a laplicaci贸 en creixement. Aquesta t猫cnica permet sobreprovisionar lespai demmagatzematge, 茅s a dir, assignar m茅s espai del que realment teniu. Aix貌 茅s possible perqu猫 el thin provisioning de LVM nom茅s assigna lespai demmagatzematge real a mesura que laplicaci贸 lutilitza.★ Si assigneu 4TB demmagatzematge a laplicaci贸 en un VG format pel disc de 2TB, inicialment nom茅s sutilitzar lespai que laplicaci贸 necessita realment. Aix铆, podreu planificar una ampliaci贸 del disc dur a 4TB en el futur sense haver de parar el servei.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-ii",
    "href": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-ii",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 05: Escalabilitat dApps (II)",
    "text": "Cas Prctic 05: Escalabilitat dApps (II)\nNo obstant aix貌, que pot passar si les vostres previsions no s贸n correctes i el creixement es mes r谩pid de lesperat. ★ Laplicaci贸 intenta escriure m茅s de 2TB de dades al disc.\n\nEl thin provisioning de LVM no evitar que laplicaci贸 saturi o es produeixin errors dE/S quan laplicaci贸 excedeixi la capacitat real. ★ Quan laplicaci贸 intenti escriure m茅s de 2TB de dades al disc, es produir un error dE/S, ja que no hi haur prou espai demmagatzematge disponible per emmagatzemar les dades.\n\n\nEn aquest cas, es necessitar afegir m茅s espai demmagatzematge al grup de volums i ampliar el volum l貌gic thin provisioned per donar suport a laplicaci贸 en creixement.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-iii",
    "href": "slides/03-filesystem-part3.html#cas-prctic-05-escalabilitat-dapps-iii",
    "title": "Sistema de fitxers (III)",
    "section": "Cas Prctic 05: Escalabilitat dApps (III)",
    "text": "Cas Prctic 05: Escalabilitat dApps (III)\nEn la situaci贸 anterior, heu decidit utilitzar el thin provisioning de LVM per donar suport a laplicaci贸 en creixement. Per貌, com a administrador de sistemes, us preocupa que laplicaci贸 pugui aturar-se o produir errors dE/S si lespai demmagatzematge somple rpidament. Qu猫 far铆eu per reduir el risc daturades i errors dE/S en aquest escenari?\n\nUna opci贸 seria implementar un sistema de monitoreig i alertes que supervisi l煤s de lespai demmagatzematge del grup de volums. Quan l煤s demmagatzematge superi un determinat llindar, el sistema generaria una alerta per afegir m茅s espai demmagatzematge al grup de volums i ampliar el volum l貌gic thin provisioned per donar suport a laplicaci贸 en creixement.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratoris",
    "href": "slides/03-filesystem-part3.html#laboratoris",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratoris",
    "text": "Laboratoris\n\nLaboratori 01: Instal路laci贸 de LVM a AlmaLinux\nLaboratori 02: Gesti贸 de LVM a AlmaLinux",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-installaci贸-de-lvm-a-almalinux",
    "href": "slides/03-filesystem-part3.html#laboratori-01-installaci贸-de-lvm-a-almalinux",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Instal路laci贸 de LVM a AlmaLinux",
    "text": "Laboratori 01: Instal路laci贸 de LVM a AlmaLinux\nRequeriments\n\nMquina virtual amb 1 disc dur de 20 GB, 1 GB de RAM i 1 CPU.\nImatge ISO dAlmaLinux.\n\n\nTasques\n\nInstal路lar AlmaLinux i configurar LVM durant la instal路laci贸.\nCrearem un PV a partir del disc dur principal de 20GB.\nCrearem un VG anomenta almalinux.\n/ ser un LV amb un sistema de fitxers xfs de 16,4 GB (almalinx-root).\n/boot i boot/efi seran particions tradicionals de 600MiB i 1024MiB respectivament.\nswap ser un LV de 2GB (almalinux-swap).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-selecci贸-de-dispositius",
    "href": "slides/03-filesystem-part3.html#laboratori-01-selecci贸-de-dispositius",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Selecci贸 de dispositius",
    "text": "Laboratori 01: Selecci贸 de dispositius",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-configuraci贸-lvm",
    "href": "slides/03-filesystem-part3.html#laboratori-01-configuraci贸-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Configuraci贸 LVM",
    "text": "Laboratori 01: Configuraci贸 LVM",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-01-configuraci贸-de-les-particions",
    "href": "slides/03-filesystem-part3.html#laboratori-01-configuraci贸-de-les-particions",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 01: Configuraci贸 de les particions",
    "text": "Laboratori 01: Configuraci贸 de les particions",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-configuraci贸-manual-lvm",
    "href": "slides/03-filesystem-part3.html#laboratori-02-configuraci贸-manual-lvm",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Configuraci贸 manual LVM",
    "text": "Laboratori 02: Configuraci贸 manual LVM\nRequeriments\n\nAfegir un disc dur secundari de 10 GB a la mquina virtual.\n\n\nTasques\n\nCrear un PV a partir del disc dur secundari.\nCrear un VG anomenat datavg a partir del PV.\nCrear un LV anomenat home amb un sistema de fitxers ext4 de 5GB.\nMuntarem el LV home a /home.\nRedimensionarem el LV en calent.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-creaci贸-de-pvs-vgs-i-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-creaci贸-de-pvs-vgs-i-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Creaci贸 de PVs, VGs i LVs",
    "text": "Laboratori 02: Creaci贸 de PVs, VGs i LVs\n\nCreaci贸 dun PV amb el dispositiu /dev/vdb:\n\n\npvcreate /dev/vdb\n\n\nCreaci贸 dun VG anomenat datavg amb el PV /dev/vdb:\n\n\nvgcreate datavg /dev/vdb\n\n\nCreaci贸 dun LV de 5GB anomenat home en el VG datavg:\n\n\nlvcreate -L 5GB M -n home datavg",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-creaci贸-de-sistema-de-fitxers-i-muntatge",
    "href": "slides/03-filesystem-part3.html#laboratori-02-creaci贸-de-sistema-de-fitxers-i-muntatge",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Creaci贸 de sistema de fitxers i muntatge",
    "text": "Laboratori 02: Creaci贸 de sistema de fitxers i muntatge\n\nCreaci贸 dun sistema de fitxers ext4 en el LV home:\n\n\nmkfs.ext4 /dev/datavg/home\n\n\nMuntatge del LV home en el directori /home:\n\n\nmount /dev/datavg/home /home",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-ampliaci贸-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-ampliaci贸-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Ampliaci贸 LVs",
    "text": "Laboratori 02: Ampliaci贸 LVs\n\nAmpliaci贸 del LV home a 7GB:\n\n\nlvextend -L 7GB /dev/datavg/home\n\n\nRedimensionar el sistema de fitxers ext4:\n\n\nresize2fs /dev/datavg/home",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#laboratori-02-reducci贸n-lvs",
    "href": "slides/03-filesystem-part3.html#laboratori-02-reducci贸n-lvs",
    "title": "Sistema de fitxers (III)",
    "section": "Laboratori 02: Reducci贸n LVs",
    "text": "Laboratori 02: Reducci贸n LVs\n\nReducci贸 del sistema de fitxers ext4:\n\n\nresize2fs /dev/datavg/home 6G\n\n\nReducci贸 del LV home a 6GB:\n\n\nlvreduce -L 6GB /dev/datavg/home",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#exercicis",
    "href": "slides/03-filesystem-part3.html#exercicis",
    "title": "Sistema de fitxers (III)",
    "section": "Exercicis",
    "text": "Exercicis\n\nDeplegament dun servidor web amb LVM",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part3.html#thats-all",
    "href": "slides/03-filesystem-part3.html#thats-all",
    "title": "Sistema de fitxers (III)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\n\nLVM 茅s una eina potent que simplifica la gesti贸 de lespai demmagatzematge en sistemes Linux.\nOfereix als administradors de sistemes la flexibilitat de crear, modificar i eliminar particions de manera dinmica sense necessitat daturar el sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting.html#etapes-de-larrancada",
    "href": "slides/02-booting.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Etapes de larrancada",
    "text": "Etapes de larrancada",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#fase-1-mquinaria",
    "href": "slides/02-booting.html#fase-1-mquinaria",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 1: Mquinaria",
    "text": "Fase 1: Mquinaria\n\nEn pr茅mer el bot贸 dencesa, la placa base envia un senyal a la PSU (Power Supply Unit).\nLa PSU proporciona tensi贸 estable a tots els components i activa la CPU.\nLa CPU inicialitza registres interns i col路loca el Puntador dInstrucci贸 (EIP) a la direcci贸 de reset 0xFFFFFFF0.\n\n\n\nAquesta adre莽a cont茅 una instrucci贸 de salt (jmp) que redirigeix la CPU al Firmware (BIOS/UEFI) per iniciar el proc茅s de diagn貌stic i arrencada del sistema (POST).",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#fase-2-firmware",
    "href": "slides/02-booting.html#fase-2-firmware",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 2: Firmware",
    "text": "Fase 2: Firmware\nEl teu ordinador necessita un firmware per: provar, detectar, configurar i inicialitzar dispositius. Aquest firmware en sistemes moderns 茅s lUEFI i en sistemes antics el BIOS (normalment compatibles amb IBM PC).\n\n\nYouve probably read a lot of stuff on the internet about UEFI. Here is something important you should understand: 95% of it was probably garbage.  Adam Williamson",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#fase-2-etapes",
    "href": "slides/02-booting.html#fase-2-etapes",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Fase 2: Etapes",
    "text": "Fase 2: Etapes\n\nInicialitzaci贸 del firmware\n\nCarrega i execuci贸 del codi de firmware (BIOS/UEFI).\nLectura de la configuraci贸 de la NVRAM.\nVerificaci贸 de la integritat del firmware.\n\nDiagn貌stic i detecci贸\n\nPower-On Self Test (POST): comprovaci贸 de CPU, RAM, grfics bsics\nDetecci贸 i inicialitzaci贸 dels dispositius connectats.\nAplicaci贸 de la configuraci贸 als dispositius.\n\nArrencada del sistema\n\nSelecci贸 del dispositiu darrencada.\nCrrega del bootloader de primera etapa.\nTransfer猫ncia del control al bootloader.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#actualitzaci贸-del-firmware",
    "href": "slides/02-booting.html#actualitzaci贸-del-firmware",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Actualitzaci贸 del firmware",
    "text": "Actualitzaci贸 del firmware\nEl firmware est emmagatzemat en un xip de mem貌ria flash a la placa base. Lactualitzaci贸 (flashing) substitueix el contingut daquest xip per una versi贸 nova.\n\n\n Objectius\n\nCorregir errades de microcodi de la CPU.\nAfegir suport per a nou maquinari (CPU, RAM, targetes).\nAplicar parches de seguretat (ex.: vulnerabilitats Spectre/Meltdown.\nMillorar funcions de gesti贸 denergia i arrencada segura (Secure Boot).\n\n\n锔 Riscos\n\nUn error en el proc茅s (tall de corrent, imatge corrupta, versi贸 incorrecta) pot deixar el xip inservible (brick).\nAlguns fabricants ofereixen mecanismes de recuperaci贸 (dual BIOS, BIOS flashback, cpsules UEFI).\nEn entorns de producci贸, 茅s recomanable validar la nova versi贸 en un entorn de test abans de desplegar-la.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#difer猫ncies-entre-bios-i-uefi-i",
    "href": "slides/02-booting.html#difer猫ncies-entre-bios-i-uefi-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Difer猫ncies entre BIOS i UEFI (I)",
    "text": "Difer猫ncies entre BIOS i UEFI (I)\n\n\n\n\n\n\n\n\nCaracter铆stica\nBIOS\nUEFI\n\n\n\n\nEmmagatzematge\nTradicionalment en ROM (avui dia flash EEPROM)\nFlash SPI a la placa base + EFI System Partition (ESP) al disc\n\n\nCapacitat de disc\nFins a 2,2 TB (per limitaci贸 32-bit LBA, sectors 512 B)\nFins a 9,4 ZB (GPT)\n\n\nInterf铆cie\nText\nGrfica, amb suport per ratol铆 i resolucions altes\n\n\nSeguretat\nSense proteccions avan莽ades\nSecure Boot, verificaci贸 de signatures i protecci贸 contra codi malici贸s\n\n\nCompatibilitat\nPrincipalment IBM PC compatibles antics\nCompatible amb sistemes moderns, amb suport per Legacy BIOS via CSM",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#difer猫ncies-entre-bios-i-uefi-ii",
    "href": "slides/02-booting.html#difer猫ncies-entre-bios-i-uefi-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Difer猫ncies entre BIOS i UEFI (II)",
    "text": "Difer猫ncies entre BIOS i UEFI (II)\n\n\n\n\n\n\n\n\nCaracter铆stica\nBIOS\nUEFI\n\n\n\n\nVelocitat darrencada\nM茅s lenta\nM茅s rpida grcies a inicialitzaci贸 paral路lela de drivers i fast boot\n\n\nTaula de particions\nMBR\nGPT\n\n\nNombre mxim de particions\n4 primries (amb l貌giques dins destesa)\nFins a 128 entrades de particions\n\n\nModularitat\nMonol铆tica\nModular, permet afegir drivers, aplicacions i extensions UEFI",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-mbr",
    "href": "slides/02-booting.html#taula-de-particions-mbr",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions MBR",
    "text": "Taula de particions MBR\n\n\nEstructura\n\nBootloader de primera etapa (446 bytes): Cont茅 el codi darrencada.\nTaula de particions (64 bytes): Cont茅 la informaci贸 de les particions. Pot contenir fins a 4 entrades.\nSignatura (2 bytes): Marca de final de la taula de particions. Permet identificar la taula de particions com a vlida.\n\n\n\n\n\n\n\n\nL铆mitaci贸\n\n\n\nCom MBR utiltiza entrades de 32 bits per blocs l貌gics (LBA)  \\(2^{32}\\) sectors  \\(512 B = 2 TB\\) aproximadament.\nNom茅s suporta 4 particions primries.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#particions-mbr-i",
    "href": "slides/02-booting.html#particions-mbr-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Particions MBR (I)",
    "text": "Particions MBR (I)\n\nParticions primries\n\nFins a 4 per disc.\nContenen directament un sistema de fitxers (ext4, NTFS, FAT32).\nPot tenir un Volume Boot Record (VBR) que carrega el sistema operatiu de la partici贸.\n\nPartici贸 estesa\n\nUna partici贸 primria especial per superar la limitaci贸 de 4 primries.\nNo cont茅 sistema de fitxers ni VBR; actua com a contenidor de particions l貌giques.\n\nParticions l貌giques\n\nResideixen dins de la partici贸 estesa.\nCada partici贸 l貌gica t茅 un Extended Boot Record (EBR) amb la seva taula de particions.\nLa linked list dEBRs permet afegir dinmicament m茅s particions l貌giques.\nPot contenir un VBR per carregar el sistema operatiu",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#particions-mbr-ii",
    "href": "slides/02-booting.html#particions-mbr-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Particions MBR (II)",
    "text": "Particions MBR (II)",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-gpt-i",
    "href": "slides/02-booting.html#taula-de-particions-gpt-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions GPT (I)",
    "text": "Taula de particions GPT (I)\n\nCompatibilitat i protecci贸\n\nBloqueja utilitats basades en MBR per no sobreescriure un disc GPT.\nCont茅 una 煤nica partici贸 especial que identifica el disc com GPT.\nOS i eines que no suporten GPT reconeixen el disc, per貌 normalment no el modifiquen.\n\nGPT Header Primari\n\nSituat al segon sector del disc (LBA 1).\nDefineix els blocs utilitzables del disc.\nCont茅 la taula de particions (m铆nim 128 entrades, 128 B cadascuna).\n\nGPT Header Secundari\n\nC貌pia de seguretat del Primary GPT Header.\nSituat als 煤ltims sectors del disc.\nPermet recuperar la informaci贸 si el Primary Header est corrupte.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#taula-de-particions-gpt",
    "href": "slides/02-booting.html#taula-de-particions-gpt",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Taula de particions GPT",
    "text": "Taula de particions GPT",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#qu猫-茅s-uefi-i",
    "href": "slides/02-booting.html#qu猫-茅s-uefi-i",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu猫 茅s UEFI? (I)",
    "text": "Qu猫 茅s UEFI? (I)\n\nSistema de fitxers propi\n\nUEFI no utilitza MBR tradicional de 512 B ni codi de boot limitat.\nDisposa dun filesystem propi (FAT32, 100 a 550 MB) anomenat EFI System Partition (ESP).\nLa partici贸 EFI 茅s marcada amb boot flag, per貌 mai cont茅 OS partitions.\n\nEstructura de la partici贸 EFI\n\nCada OS t茅 la seva carpeta dins de la ESP.\nCont茅 tots els fitxers necessaris per carregar el sistema operatiu.\nEn Linux, la ESP sovint es munta sota /boot/efi.\n\n\n\n/\n boot\n    efi\n       EFI\n          BOOT\n             BOOTX64.EFI",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#qu猫-茅s-uefi-ii",
    "href": "slides/02-booting.html#qu猫-茅s-uefi-ii",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu猫 茅s UEFI? (II)",
    "text": "Qu猫 茅s UEFI? (II)\n\nMini sistema operatiu\n\nUEFI 茅s com un mini sistema operatiu.\n\nExecuta fitxers en format EFI executable.\nPermet drivers i aplicacions independents del SO.\n\nQuan escrius un bootloader natiu UEFI, has de respectar aquest format.\n\nUEFI Boot Manager\n\nMotor de pol铆tica del firmware per arrencada.\nConfigurable via variables globals a NVRAM.\nCarrega drivers UEFI i aplicacions UEFI (incloent OS bootloaders) en lordre definit per les variables.\nLinux disposa de leina efibootmgr per modificar la configuraci贸 del boot manager.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#m貌duls-de-la-uefi",
    "href": "slides/02-booting.html#m貌duls-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "M貌duls de la UEFI",
    "text": "M貌duls de la UEFI",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#efibootmgr",
    "href": "slides/02-booting.html#efibootmgr",
    "title": "Arrencada del sistema (Part 1)",
    "section": "efibootmgr",
    "text": "efibootmgr\n# efibootmgr -v\nBootCurrent: 0002\nTimeout: 3 seconds\nBootOrder: 0003,0002,0000,0004\nBoot0000* CD/DVD Drive  BIOS(3,0,00)\nBoot0001* Hard Drive    HD(2,0,00)\nBoot0002* Fedora        HD(1,800,61800,6d98f360-cb3e-4727-8fed-5ce0c040365d)File(\\EFI\\fedora\\grubx64.efi)\nBoot0003* opensuse      HD(1,800,61800,6d98f360-cb3e-4727-8fed-5ce0c040365d)File(\\EFI\\opensuse\\grubx64.efi)\nBoot0004* Hard Drive    BIOS(2,0,00)P0: ST1500DM003-9YN16G \n\nLes entrades Boot0000 i Boot0004 corresponen a modes de compatibilitat BIOS (CSM), no s贸n natives- dUEFI.\nGenerades automticament pel firmware, sense intervenci贸 externa.\nSafegeixen directament a les variables NVRAM del sistema.\nEntrades UEFI natives (Boot0002, Boot0003) apunten directament als fitxers EFI dels OS:\n\nFedora : \\EFI\\fedora\\grubx64.efi\nopenSUSE: \\EFI\\opensuse\\grubx64.efi\n\nLordre darrencada es defineix a la variable BootOrder.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#qu猫-茅s-la-consola-de-la-uefi",
    "href": "slides/02-booting.html#qu猫-茅s-la-consola-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Qu猫 茅s la consola de la UEFI?",
    "text": "Qu猫 茅s la consola de la UEFI?\nLa consola de la UEFI 茅s una interf铆cie de l铆nia de comandes que permet interactuar directament amb el firmware UEFI per realitzar tasques avan莽ades de diagn貌stic, configuraci贸 i manteniment del sistema.\n\n\nFuncions\n\nConfiguraci贸 del maquinari i perif猫rics (CPU, mem貌ria, dispositius PCIe).\nComprovaci贸 del funcionament dels dispositius i diagn貌stic de fallades.\nAcc茅s als sistemes de fitxers EFI i gesti贸 de fitxers de boot.\nInstal路laci贸, reparaci贸 o actualitzaci贸 de bootloaders i OS.\nExecuci贸 de aplicacions UEFI natives (mini-aplicacions tipus OS).\n\n\nAcc茅s\n\nPrement una tecla durant lengegada del sistema, segons el fabricant: F2, F10, F12, ESC o Supr.\nDes de sistemes operatius:\n\nLinux: efibootmgr o systemctl reboot --firmware-setup.\nWindows: Opci贸 Advanced Startup i UEFI Firmware Settings.\nmacOS: Reboot amb Option/Alt.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#comandes-de-la-consola-de-la-uefi",
    "href": "slides/02-booting.html#comandes-de-la-consola-de-la-uefi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Comandes de la consola de la UEFI",
    "text": "Comandes de la consola de la UEFI\n\n\n\n\n\n\n\n\nComanda\nFunci贸\nExemple\n\n\n\n\nmap\nMostra els dispositius detectats i les unitats l貌giques associades\nmap fs*  llista tots els sistemes de fitxers detectats\n\n\nmem\nMostra l煤s de mem貌ria i mapa f铆sic de la RAM\nmemmap  mapa detallat de la mem貌ria f铆sica\n\n\nls\nLlista fitxers i directoris dins un FS accessible\nls fs0:\\EFI\\Boot  mostra fitxers de la partici贸 EFI\n\n\ncd\nNavegar entre carpetes dins del FS\ncd EFI\\Boot  mou a la carpeta darrencada EFI\n\n\ncp\nCopiar fitxers entre unitats o directoris\ncp fs0:\\EFI\\Boot\\bootx64.efi fs1:\\EFI\\Backup\\\n\n\nedit\nEditar fitxers, 煤til per configurar scripts darrencada\nedit fs0:\\EFI\\Boot\\bootx64.efi",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#importncia-de-la-partici贸-efi",
    "href": "slides/02-booting.html#importncia-de-la-partici贸-efi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Importncia de la partici贸 EFI",
    "text": "Importncia de la partici贸 EFI\n\nPunt de partida per a larrencada del sistema operatiu.\nEssencial per a larrencada dels sistemes UEFI.\nCont茅 fitxers cr铆tics per carregar el bootloader de segona etapa, com:\n\nGRUB (Linux)\nGestor darrencada de Windows\n\nPermet tenir m煤ltiples sistemes operatius en el mateix disc.\nFacilita la gesti贸 i actualitzaci贸 de bootloaders sense afectar les particions del sistema operatiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#arrencar-sense-partici贸-efi",
    "href": "slides/02-booting.html#arrencar-sense-partici贸-efi",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Arrencar sense partici贸 EFI",
    "text": "Arrencar sense partici贸 EFI\n\nTe貌ricament possible: configurar UEFI per carregar el bootloader directament des del disc dur.\nPoc com煤 i no recomanat, ja que:\n\nComplica la gesti贸 dels sistemes operatius.\nImpedeix actualitzacions i reparacions automtiques dels bootloaders.\n\nLa partici贸 EFI proporciona un punt centralitzat i estndard per a tots els fitxers darrencada.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#tipus-de-bootloaders",
    "href": "slides/02-booting.html#tipus-de-bootloaders",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Tipus de bootloaders",
    "text": "Tipus de bootloaders\n\nBootloader de primera etapa: Carregat directament pel firmware (BIOS/UEFI). Sencarrega de carregar el bootloader de segona etapa.\nBootloader de segona etapa: Carregat pel bootloader de primera etapa. Sencarrega de carregar el sistema operatiu.\n\n\nEn sistemes UEFI, el bootloader de primera etapa 茅s un fitxer executable en format EFI (per exemple, grubx64.efi per a GRUB). Mentre que en sistemes BIOS, el bootloader de primera etapa es troba en el MBR del disc.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#funcions-del-bootloader",
    "href": "slides/02-booting.html#funcions-del-bootloader",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Funcions del bootloader",
    "text": "Funcions del bootloader\nUn bootloader 茅s el programa encarregat de:\n\nMostrar un men煤 amb les diverses opcions darrencada disponibles.\nCarregar el nucli (kernel) i lInitrd (si sescau) a la mem貌ria principal.\nEl kernel de linux t茅 una convenci贸 darrencada on el bootloader ha de preparar el mapa de mem貌ria i els registres de la CPU abans de transferir el control al nucli.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#diferents-gestors-darrencada",
    "href": "slides/02-booting.html#diferents-gestors-darrencada",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Diferents gestors darrencada",
    "text": "Diferents gestors darrencada\n\n\n\n\n\n\n\n\nBootloader\nCompatibilitat\nCaracter铆stiques principals\n\n\n\n\nLILO\nBIOS\nAntic bootloader Linux, obsolet.\n\n\nGRUB\nBIOS/UEFI\nPopular en Linux; men煤 configurable; suport multiboot.\n\n\nGRUB2\nBIOS/UEFI\nVersi贸 moderna; suport FAT, NTFS, ext4; millor multiboot i scripting.\n\n\nrEFInd\nUEFI\nPermet arrencar m煤ltiples OS; interf铆cie grfica amigable.\n\n\nsystemd-boot\nUEFI\nSimple i rpid; integraci贸 amb systemd; no recomanat per multiboot.\n\n\nWindows Boot Manager\nUEFI\nGestiona arrencada de Windows i altres OS compatibles; integraci贸 amb BCD.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#exercicis-propostas",
    "href": "slides/02-booting.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nBooting amb MBR i BIOS\nBooting amb UEFI\nDual Boot amb UEFI",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/02-booting.html#thats-all",
    "href": "slides/02-booting.html#thats-all",
    "title": "Arrencada del sistema (Part 1)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc茅s darrencada 茅s un proc茅s complex. Els administradors de sistemes han de con猫ixer aquest proc茅s per poder gestionar i solucionar problemes durant larrencada del sistema i garantir un sistema segur, estable i eficient.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#arquitectura-de-credencials-del-kernel",
    "href": "slides/04-authentication-part1.html#arquitectura-de-credencials-del-kernel",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Arquitectura de credencials del kernel",
    "text": "Arquitectura de credencials del kernel\nstruct cred {\n    // Identitats reals, efectives i de seguretat\n    kuid_t uid, euid, suid, fsuid; \n    // Grups associats     \n    kgid_t gid, egid, sgid, fsgid;\n    // Capabilities heretables      \n    kernel_cap_t cap_inheritable; \n    // Capabilities permeses      \n    kernel_cap_t cap_permitted;\n    // Capabilities actives         \n    kernel_cap_t cap_effective;  \n    // Claus de sessi贸      \n    struct key *session_keyring;\n    // Estructura d'usuari global        \n    struct user_struct *user;           \n};\nEls attributs euid/egid permet als progames operar amb elevaci贸 de privilegis.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#usuaris-a-linux",
    "href": "slides/04-authentication-part1.html#usuaris-a-linux",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Usuaris a Linux",
    "text": "Usuaris a Linux\n\nCada entitat al sistema t茅 un Identificador nic (UID) i un Grup Primari (GID).\nEls recursos (fitxers, directoris, processos) s贸n propietat dun UID i un GID.\nObjectiu de Seguretat: Implementar el Principi de M铆nims Privilegis (PoLP).\nObjectiu dAuditoria: Registrar i tra莽ar les accions de cada usuari.\n\n\n\n\n\n\n\n\n\n\n\nRang\nCategoria\nDescripci贸\nPol铆tica\n\n\n\n\n0\nroot\nSuperusuari, privilegis absoluts\nEvitar-ne l煤s directe\n\n\n1999\nSistema\ndimonis, serveis (nginx, mysql)\nSense shell interactiu\n\n\n1000+\nHumans\nUsuaris interactius, grups secundaris\nPAM, auditoria\n\n\n65534\nnobody\nSense privilegis\nA茂llament de processos",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#el-superusuari-root",
    "href": "slides/04-authentication-part1.html#el-superusuari-root",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "El Superusuari (root)",
    "text": "El Superusuari (root)\n\nUID 0 amb privilegis il路limitats i acc茅s absolut a tots els fitxers i processos.\nRecomanaci贸 de Seguretat: Evitar l煤s directe de root.\n\nUn error com猫s per root pot ser catastr貌fic.\nAugmenta el rastre dauditoria de lusuari real.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#elevaci贸-de-privilegis",
    "href": "slides/04-authentication-part1.html#elevaci贸-de-privilegis",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Elevaci贸 de Privilegis",
    "text": "Elevaci贸 de Privilegis\n\nsudo: Permet executar comandes com a un altre usuari (per defecte root).\n\nLa configuraci贸 es fa al fitxer /etc/sudoers mitjan莽ant visudo.\nPermet un control granular: qui, des don, i quines comandes pot executar.\n\nsu -c comanda: Permet executar una comanda com a un altre usuari incloent root.\n\nRequereix la contrasenya de lusuari objectiu.\nNo ofereix control granular ni registre detallat.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#grups-dusuaris",
    "href": "slides/04-authentication-part1.html#grups-dusuaris",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Grups dusuaris",
    "text": "Grups dusuaris\n\nUn grup 茅s una col路lecci贸 dusuaris que comparteixen permisos comuns en fitxers i directoris.\nCada usuari t茅 un grup primari i pot pertnyer a m煤ltiples grups.\n\n\n$ id usuari\nuid=1001(usuari) gid=1001(usuari) groups=1001(usuari),27(sudo),1002(grup2)\n\n$ groups usuari\nusuari : usuari sudo grup2",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#bases-de-dades",
    "href": "slides/04-authentication-part1.html#bases-de-dades",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Bases de dades",
    "text": "Bases de dades\n\n\n\n\n\n\n\n\n\nFitxer\nPropietari\nPermisos\nContingut\n\n\n\n\n/etc/passwd\nroot\n644\nuid, gid, comentari, shell (p煤blic)\n\n\n/etc/shadow\nroot\n600\nhashs de contrasenyes (secret)\n\n\n/etc/group\nroot\n644\ndefinicions de grups\n\n\n/etc/gshadow\nroot\n600\ncontrasenyes de grups (rares)\n\n\n\n\nCal comprovar regularment els permissos de:\nstat /etc/passwd /etc/shadow /etc/group",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#etcpasswd",
    "href": "slides/04-authentication-part1.html#etcpasswd",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "/etc/passwd",
    "text": "/etc/passwd\nEl fitxer /etc/passwd 茅s un fitxer que cont茅 la base de dades dusuaris del sistema. Cada l铆nia del fitxer descriu un compte dusuari.\n$ less /etc/passwd\nnom:clau:uid:gid:comentari:directori:shell\n\nnom: Algunes versions limiten el nom a 8 carcters. Es recomana utilitzar m铆niscules i n煤meros.\nclau: s un camp que ja no sutilitza. La clau semmagatzema en /etc/shadow.\nuid: N煤mero intern associat al nom dusuari.\ngid: N煤mero associat al grup principal de lusuari. Cada identificador t茅 la seva entrada a /etc/group.\ncomentari: Normalment sutilitza per al nom complet de lusuari o altres dades descriptives.\ndirectori: Directori dinici de lusuari.\nshell: Int猫rpret de comandes per defecte de lusuari (per exemple, /bin/bash).",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#etcpasswd-nom",
    "href": "slides/04-authentication-part1.html#etcpasswd-nom",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "/etc/passwd: nom",
    "text": "/etc/passwd: nom\n\nHa de ser 煤nic.\nNo pot contenir els carcters :, \\n\nEs permet fins a 32 carcters. El primer carcter ha de ser min煤scula o _.\nSaccepten maj煤scules, min煤scules, -, _ i n煤meros.\nEs recomana mxim 8 carcters per tenir compatibilitat amb legacy systems.\nEs recomana no utilitzar maj煤scules.\nEs recomana no utilitzar nicknames.\nEs recomana mantenir un esquema de noms.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#etcgroup",
    "href": "slides/04-authentication-part1.html#etcgroup",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "/etc/group",
    "text": "/etc/group\nEl fitxer /etc/group 茅s un fitxer que cont茅 la base de dades de grups del sistema. Cada l铆nia del fitxer descriu un grup dusuaris.\n$ less /etc/group\nnom:clau:gid:llista_usuaris\n\nnom: Nom del grup. Pot ser el mateix que el de lusuari (si 茅s l煤nic membre). Saconsella min煤scules i n煤meros.\nclau: Fa refer猫ncia a una contrasenya opcional pel grup. Un * com a carcter invlid impedeix que els usuaris normals canvi茂n al grup. Una x fa refer猫ncia al fitxer de contrasenya separat /etc/gshadow. gpasswd\ngid: N煤mero intern associat al grup. Els nombres baixos es reserven pels grups de sistema. Els nombres 200, 500 o 1000 es troben els comptes normals.\nmembres: Una llista de noms dusuaris separats per comes. Aquesta llista cont茅 tots els usuaris que tenen aquest grup com a grup secundari, 茅s a dir, que s贸n membres daquest grup, per貌 tenen un valor diferent del camp GID del seu /etc/passwd.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#etcshadow",
    "href": "slides/04-authentication-part1.html#etcshadow",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "/etc/shadow",
    "text": "/etc/shadow\nEl fitxer /etc/shadow 茅s un fitxer que cont茅 la informaci贸 de les contrasenyes dels usuaris del sistema. Aquest fitxer 茅s llegible nom茅s per lusuari root i els processos amb privilegis elevats.\n$ less /etc/shadow\nnom:password_hash:change:min:max:warn:grace:lock\n\n\n\n\n\n\n\n\nCamp\nDescripci贸\nGesti贸\n\n\n\n\npassword_hash\nHash (xifrat) de la contrasenya + salt.\n\n\n\nchange\nData de l煤ltim canvi (dies des de 01-01-1970).\nchage -m\n\n\nmin\nDies m铆nims entre canvis de contrasenya.\nchage -m\n\n\nmax\nDies mxims abans de lexpiraci贸.\nchage -M\n\n\nwarn\nDies dav铆s abans de lexpiraci贸.\nchage -W\n\n\ngrace\nDies de grcia despr茅s de lexpiraci贸 abans de bloquejar el compte.\nchage -I\n\n\nlock\nData dexpiraci贸 del compte (Bloqueig).\nchage -E",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#xifrat-de-contrasenyes",
    "href": "slides/04-authentication-part1.html#xifrat-de-contrasenyes",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Xifrat de Contrasenyes",
    "text": "Xifrat de Contrasenyes\nEls sistemes moderns utilitzen algorismes de hashing forts amb salt.\n\nSHA-512: El m茅s segur i actual (per defecte a Debian/RedHat).\nSHA-256: Encara com煤.\nMD5: Considerat insegur (Legacy).\n\n\nNormalment el xifrat es configura a /etc/login.defs o /etc/pam.d/common-password. M茅s endavant veurem PAM i els seus m貌duls com pam_pwquality.so.\n\n\nFins al moment, els algorismes de xifratge atorguen una seguretat adequada per a la majoria daplicacions. Per a entorns amb requisits de seguretat m茅s estrictes, es poden utiltizar m猫todes addicionals com lautenticaci贸 de dos factors (2FA) o l煤s de tokens de seguretat. La computaci贸 quntica podria afectar els algorismes actuals en el futur, per貌 encara no 茅s una amena莽a immediata per a la majoria dels sistemes.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#useradd",
    "href": "slides/04-authentication-part1.html#useradd",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "useradd",
    "text": "useradd\nCreaci贸 dun nou compte dusuari amb useradd [opcions] [nom_usuari].\n\n\n\n\n\n\n\n\n\nOpci贸\nClau\nDescripci贸\nAplicaci贸\n\n\n\n\n-c comentari\nComentari\nNom complet o informaci贸 addicional.\nIdentificaci贸 dusuaris.\n\n\n-e YYYY-MM-DD\nExpiraci贸\nData de caducitat del compte.\nComptes temporals.\n\n\n-g grup\nGrup Primari\nAssigna el grup primari de lusuari.\nGesti贸 de permisos.\n\n\n-k /directori/skel\nEsquelet\nEspecifica un directori desquelet diferent.\nConfiguraci贸 personalitzada.\n\n\n-m\nCrea Home\nCrea el directori home si no existeix.\nA茂llament dusuaris.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#usermod-i-userdel",
    "href": "slides/04-authentication-part1.html#usermod-i-userdel",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "usermod i userdel",
    "text": "usermod i userdel\n\nLa comanda usermod permet modificar un compte dusuari existent amb usermod [opcions] [nom_usuari]. Les opcions s贸n similars a les de useradd. Per veure les opcions man usermod.\nLa comanda userdel permet eliminar el compte dun usuari amb userdel [-r] [nom_usuari] . Largument r elimina el directori homei la b煤stia de correu de lusuari.\nLa comanda userdel no elimina les dades relacionades amb les tasques cron (crontabs).",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#passwd-gesti贸-de-contrasenyes-i",
    "href": "slides/04-authentication-part1.html#passwd-gesti贸-de-contrasenyes-i",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "passwd (Gesti贸 de Contrasenyes I)",
    "text": "passwd (Gesti贸 de Contrasenyes I)\npasswd\n$ passwd\nChanging password for jmateo.\n(current) UNIX password:12345678\nEnter new UNIX password:87654321\nRetype new UNIX password:87654321\npasswd: password updated successfull\n# Show info\n$ passwd -S jmateo\n# Lock the account\n$ passwd -l jmateo\n# Unlock the account\n$ passwd -u jmateo\n# Password change at most every 7 days\n$ passwd -n 7 jmateo\n# Password change at least every 30 days\n$ passwd -x 30 jmateo\n# 3 days grace period before password expires\n$ passwd -w 3 jmateo",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#chage-gesti贸-de-contrasenyes-ii",
    "href": "slides/04-authentication-part1.html#chage-gesti贸-de-contrasenyes-ii",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "chage (Gesti贸 de Contrasenyes II)",
    "text": "chage (Gesti贸 de Contrasenyes II)\n# Lock account from 1 Dec 2009\n$ chage -E 2009-12-01 jmateo\n# Cancel expiry date\n$ chage -E -1 jmateo\n# Grace period 1 week from password expiry\n$ chage -I 7 jmateo\n# Like passwd -n\n$ chage -m 7 jmateo\n# Like passwd -x\n$ chage -M 7 jmateo\n# Like passwd -w\n$ chage -W 3 jmateo",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#exemples-de-comandes-usuaris",
    "href": "slides/04-authentication-part1.html#exemples-de-comandes-usuaris",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Exemples de comandes (usuaris)",
    "text": "Exemples de comandes (usuaris)\n# Crear usuari amb opcions de seguretat avan莽ada\nsudo useradd -m -d /home/ana -s /bin/bash \\\n    -c \"Ana Garc铆a\" -g developers -G sudo,docker \\\n    -e 2025-12-31 -f 7 ana\n\n# Modificar data de caducitat\nsudo usermod -e 2025-06-30 ana\n\n# Bloquejar/desbloquejar compte\nsudo passwd -l ana          # Lock\nsudo passwd -u ana          # Unlock\n\n# Consultar estat de la contrasenya i pol铆tiques\nsudo chage -l ana\nRecomanaci贸: Manualment, revisar UIDs actius: awk -F: '$3 &gt;= 1000 {print}' /etc/passwd",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#gesti贸-de-grups",
    "href": "slides/04-authentication-part1.html#gesti贸-de-grups",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Gesti贸 de Grups",
    "text": "Gesti贸 de Grups\n$ groupadd [-g GID] [group name]\n# Modificaci贸 del grup: -g modifica el GID,\n# -n actualitza el nom.\n$ groupmod [-g GID] [-n nom] [group name]\n# Eliminant grups\n$ grupdel [group name]\n# Afegint un usuari a un grup\n$ gpasswd -a [user] [group]\n# Eliminant lusuari del grup\n$ gpasswd -d [user] [group]\n\nUn compte dusuari pot pertnyer a m煤ltiples grups secundaris.\nUn compte dusuari nom茅s pot tenir un grup primari.\nEl grup primari sespecifica al camp GID del fitxer /etc/passwd.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#exemples-de-comandes-grups",
    "href": "slides/04-authentication-part1.html#exemples-de-comandes-grups",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Exemples de comandes (grups)",
    "text": "Exemples de comandes (grups)\n# Crear grup amb GID espec铆fic\nsudo groupadd -g 2001 devops\n\n# Afegir usuari a grup secundari sense perdre altres\nsudo usermod -aG devops,docker,audit ana\n\n# Consultar grups de l'usuari\nid ana\ngroups ana\n\n# Canviar temporalment el grup\nnewgrp devops\n\n# Llistar membres d'un grup\ngetent group devops",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#permisos-clssics-unix",
    "href": "slides/04-authentication-part1.html#permisos-clssics-unix",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Permisos clssics Unix",
    "text": "Permisos clssics Unix\ndrwxr-xr-x  3 joan developers 4096 Oct 15 10:20 project/\n    others: r-x (lectura, acc茅s)\n   group: r-x (lectura, acc茅s)\n owner: rwx (total)\n type: d (directori)\n\nCada fitxer i directori t茅 associats tres tipus de permisos:\n\nRead (r): Permet llegir el contingut del fitxer o llistar el contingut del directori.\nWrite (w): Permet modificar el contingut del fitxer o crear/eliminar fitxers dins del directori.\nExecute (x): Permet executar el fitxer com un programa o accedir als fitxers dins del directori.\n\nEls permisos sapliquen a tres categories dusuaris:\n\nOwner (u): Lusuari propietari del fitxer o directori.\nGroup (g): Els usuaris que pertanyen al grup associat al fitxer o directori.\nOthers (o): Tots els altres usuaris del sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#chmod-canviant-permisos",
    "href": "slides/04-authentication-part1.html#chmod-canviant-permisos",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "chmod: Canviant permisos",
    "text": "chmod: Canviant permisos\n\nLa comanda chmod sutilitza per canviar els permisos dun fitxer o directori.\n\n\nchmod [opcions] mode fitxer/directori\n\n\nEl mode es pot especificar de dues maneres:\n\nSimbolica: Utilitza lletres per representar usuaris i permisos.\n\nExemple: chmod u+rwx,g+rx,o-r file.txt\n\nOctal: Utilitza n煤meros per representar els permisos.\n\nExemple: chmod 755 file.txt (rwxr-xr-x)",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#exmmples-prctics-chmod-i",
    "href": "slides/04-authentication-part1.html#exmmples-prctics-chmod-i",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Exmmples prctics chmod (I)",
    "text": "Exmmples prctics chmod (I)\njordi@debianlab:~$ chmod +x a.txt\njordi@debianlab:~$ ls -la a.txt\n-rwxr-xr-x 1 jordi jordi 0 11 de jul.  11:26 a.txt\njordi@debianlab:~$ chmod -x a.txt\njordi@debianlab:~$ ls -la a.txt\n-rw-r--r-* 1 jordi jordi 0 11 de jul.  11:26 a.txt\njordi@debianlab:~$ chmod o-r a.txt\njordi@debianlab:~$ ls -la a.txt\n-rw-r----* 1 jordi jordi 0 11 de jul.  11:26 a.txt\njordi@debianlab:~$ chmod g+w a.txt\njordi@debianlab:~$ ls -la a.txt\n-rw-rw---* 1 jordi jordi 0 11 de jul.  11:26 a.txt\njordi@debianlab:~$ chmod o+w a.txt\njordi@debianlab:~$ ls -la a.txt\n-rw-rw--w* 1 jordi jordi 0 11 de jul.  11:26 a.txt",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#exmmples-prctics-chmod-ii",
    "href": "slides/04-authentication-part1.html#exmmples-prctics-chmod-ii",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Exmmples prctics chmod (II)",
    "text": "Exmmples prctics chmod (II)\njordi@debianlab:~$ chmod a-w a.txt\njordi@debianlab:~$ ls -la a.txt\n-r--r----* 1 jordi jordi 0 11 de jul.  11:26 a.txt\njordi@debianlab:~$ echo \"a\" &gt;&gt; a.txt\n-bash: a.txt: Sha denegat el perm铆s\njordi@debianlab:~$ cat a.txt\njordi@debianlab:~$ chmod +w a.txt\njordi@debianlab:~$ echo \"a\" &gt;&gt; a.txt\njordi@debianlab:~$ cat a.txt\na\njordi@debianlab:~$ chmod -r a.txt\njordi@debianlab:~$ cat a.txt\ncat: a.txt: Sha denegat el perm铆s",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#chown-i-chgrp-canviant-propietaris-i-grups",
    "href": "slides/04-authentication-part1.html#chown-i-chgrp-canviant-propietaris-i-grups",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "chown i chgrp: Canviant propietaris i grups",
    "text": "chown i chgrp: Canviant propietaris i grups\n\nLa comanda chown sutilitza per canviar el propietari dun fitxer o directori.\n\n\nchown [opcions] nou_propietari fitxer/directori\n\n\nLa comanda chgrp sutilitza per canviar el grup associat a un fitxer o directori.\n\n\nchgrp [opcions] nou_grup fitxer/directori",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#comandes-bsiques",
    "href": "slides/04-authentication-part1.html#comandes-bsiques",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Comandes Bsiques",
    "text": "Comandes Bsiques\n# Canviar permisos (simb貌lic i octal)\nchmod u+rwx,g+rx,o-r fitxer        # Simb貌lic\nchmod 750 fitxer                   # Octal: rwxr-x---\n\n# Canviar propietari i grup\nsudo chown joan:developers fitxer\nsudo chgrp developers fitxer\n\n# Aplicar recursivament \n## -R per recursiu\n## --changes per mostrar canvis\nsudo chmod -R 750 /home/joan --changes",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#umask",
    "href": "slides/04-authentication-part1.html#umask",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "umask",
    "text": "umask\n\nLa umask (user file-creation mode mask) 茅s un valor que determina els permisos per defecte dels fitxers i directoris nous creats per un usuari.\n\n\n# Umask actual (resta de 777/666)\numask                              # Ex: 0022\n\n# Crear fitxer: 666 - 022 = 644 (rw-r--r--)\n# Crear directori: 777 - 022 = 755 (rwxr-xr-x)\n\n# Canviar umask per sessi贸 (segura)\numask 0077                         # Els nous arxius: -rw------- (600)\n\n# Configurar permanent a ~/.bashrc\necho \"umask 0077\" &gt;&gt; ~/.bashrc\n\n\nSaconsella utilitzar una umask 0002 en entorns on els usuaris treballen en grups, ja que permet als membres del grup escriure als fitxers creats per altres membres del mateix grup. Aix貌 facilita la col路laboraci贸 i lintercanvi de fitxers dins del grup.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#permisos-especials",
    "href": "slides/04-authentication-part1.html#permisos-especials",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Permisos especials",
    "text": "Permisos especials\n\nSetuid (s): Quan saplica a un fitxer executable, permet que el programa sexecuti amb els privilegis del propietari del fitxer.\nSetgid (s): Quan saplica a un fitxer executable, permet que el programa sexecuti amb els privilegis del grup del fitxer. Quan saplica a un directori, els fitxers creats dins daquest directori hereten el grup del directori.\nSticky bit (t): Quan saplica a un directori, nom茅s el propietari del fitxer o el propietari del directori poden eliminar o renombrar fitxers dins daquest directori.\n\n\n# Exemple de permisos especials\nchmod u+s programa   # Setuid\nchmod g+s directori  # Setgid\nchmod +t directori   # Sticky bit",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#setuid-s-executar-com-a-propietari",
    "href": "slides/04-authentication-part1.html#setuid-s-executar-com-a-propietari",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Setuid (s): Executar com a propietari",
    "text": "Setuid (s): Executar com a propietari\n# El programa 'passwd' s'executa com a root\nls -l /usr/bin/passwd\n-rwsr-xr-x  1 root root 68208 /usr/bin/passwd\n\n# Permetre a programa espec铆fic operar com a root\nsudo chmod u+s /usr/local/bin/myscript\nEls programes amb setuid poden ser un vector datac si tenen vulnerabilitats. Es important auditar-los peri貌dicament.\nfind / -perm -4000 -type f 2&gt;/dev/null | sort",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#setgid-s-her猫ncia-de-grup-en-directoris",
    "href": "slides/04-authentication-part1.html#setgid-s-her猫ncia-de-grup-en-directoris",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Setgid (s): Her猫ncia de grup en directoris",
    "text": "Setgid (s): Her猫ncia de grup en directoris\n# Col路laboraci贸: Els fitxers nous hereten el grup del directori\nsudo mkdir /srv/projectX\nsudo chgrp developers /srv/projectX\nsudo chmod g+s /srv/projectX           # setgid activat\nsudo chmod g+w /srv/projectX\n\n# Tots els fitxers creats dins seran del grup developers",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#sticky-bit-t-protecci贸-en-tmp",
    "href": "slides/04-authentication-part1.html#sticky-bit-t-protecci贸-en-tmp",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Sticky bit (t): Protecci贸 en /tmp",
    "text": "Sticky bit (t): Protecci贸 en /tmp\n# Nom茅s el propietari pot eliminar el seu fitxer\nls -ld /tmp\ndrwxrwxrwt 12 root root 4096 /tmp\n\n# Aplicar sticky a directori compartit\nsudo chmod +t /srv/shared",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#limitacions-del-model-tradicional",
    "href": "slides/04-authentication-part1.html#limitacions-del-model-tradicional",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Limitacions del model tradicional",
    "text": "Limitacions del model tradicional\nProblema: Tres usuaris (alice, bob, charlie) necessiten permisos diferents sobre un fitxer, per貌 el model tradicional nom茅s permet propietari, grup, altres.\nalice  R (read)\nbob    RW (read, write)\ncharlie  (cap acc茅s)\n\nSoluci贸: ACL (Access Control Lists)",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#acls-permissos-granulars",
    "href": "slides/04-authentication-part1.html#acls-permissos-granulars",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "ACLs: Permissos granulars",
    "text": "ACLs: Permissos granulars\n\nLes Access Control Lists (ACLs) permeten definir permisos m茅s detallats per a usuaris i grups espec铆fics.\nEl problema dels permisos tradicionals 茅s que nom茅s permeten definir permisos per a lusuari propietari, el grup i els altres usuaris.\nLes ACLs permeten assignar permisos a m煤ltiples usuaris i grups per a un mateix fitxer o directori.\n\n\n# Comandes bsiques per gestionar ACLs\nsetfacl -m u:usuari:rwx fitxer      # Assigna permisos rwx a un usuari espec铆fic\ngetfacl fitxer                      # Mostra les ACLs\nsetfacl -x u:usuari fitxer          # Elimina les ACLs d'un usuari espec铆fic\nsetfacl -d -m g:grup:rwx directori  # Assigna permisos per defecte a un grup en un directori per als fitxers nous",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#introducci贸-a-les-acl",
    "href": "slides/04-authentication-part1.html#introducci贸-a-les-acl",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Introducci贸 a les ACL",
    "text": "Introducci贸 a les ACL\n# Veure ACL actual\ngetfacl /srv/dades.txt\n\n# file: /srv/dades.txt\n# owner: root\n# group: developers\nuser::rw-\nuser:alice:r--\nuser:bob:rw-\ngroup::r--\nmask::rw-\nother::---",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#assignaci贸-granular-dacl",
    "href": "slides/04-authentication-part1.html#assignaci贸-granular-dacl",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Assignaci贸 granular dACL",
    "text": "Assignaci贸 granular dACL\n# Donar lectura a usuari espec铆fic\nsetfacl -m u:alice:r /srv/dades.txt\n\n# Donar lectura i escriptura a grup\nsetfacl -m g:teamX:rw /srv/dades.txt\n\n# Permetre execuci贸 a un usuari\nsetfacl -m u:bob:rwx /srv/script.sh\n\n# Eliminar ACL d'usuari\nsetfacl -x u:alice /srv/dades.txt",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#acl-per-defecte-en-directoris",
    "href": "slides/04-authentication-part1.html#acl-per-defecte-en-directoris",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "ACL per defecte en directoris",
    "text": "ACL per defecte en directoris\n# ACL per defecte: nous fitxers hereten permisos\nsudo mkdir /srv/shared\nsudo setfacl -d -m u:alice:rx /srv/shared\nsudo setfacl -d -m g:devops:rwx /srv/shared\n\n# Verificar her猫ncia\ntouch /srv/shared/testfile.txt\ngetfacl /srv/shared/testfile.txt\nLa herencia dACL 茅s especialment 煤til en entorns col路laboratius on diversos usuaris necessiten accedir i modificar fitxers dins dun directori compartit. Permet establir pol铆tiques de permisos coherents i assegurar que els nous fitxers i directoris creats dins del directori heretin els permisos adequats.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#mscara-i-preced猫ncia-dacl",
    "href": "slides/04-authentication-part1.html#mscara-i-preced猫ncia-dacl",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Mscara i preced猫ncia dACL",
    "text": "Mscara i preced猫ncia dACL\n# La mscara limita permisos mxims efectius\nsetfacl -m m::rx /srv/dades.txt     # Limita ACL a r-x\nLordre de preced猫ncia:\n\nACL de lusuari propietari\nACL espec铆fic de lusuari\nMscara\nACL del grup propietari\nACL de grup espec铆fic\nAltres\n\nAquesta jerarquia assegura que els permisos m茅s espec铆fics tinguin prioritat sobre els m茅s generals.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#auditor铆a-i-migracions-dacl",
    "href": "slides/04-authentication-part1.html#auditor铆a-i-migracions-dacl",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Auditor铆a i migracions dACL",
    "text": "Auditor铆a i migracions dACL\n# Exportar ACL per backup\ngetfacl -R /srv/dades &gt; acl_backup.txt\n\n# Restaurar ACL\nsetfacl --restore=acl_backup.txt\n\n# Identificar fitxers amb ACL no estndar\nfind /home -type f -exec sh -c 'getfacl {} | grep -q \"^user:\" && echo {}' \\;",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#sudo",
    "href": "slides/04-authentication-part1.html#sudo",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "sudo",
    "text": "sudo\n\nsudo permet executar comandes amb els privilegis dun altre usuari (per defecte root).\nLa configuraci贸 es fa al fitxer /etc/sudoers mitjan莽ant leina visudo.\nPermet un control granular: qui, des don, i quines comandes pot executar.\n\n\n# Configuraci贸 a /etc/sudoers (editar amb 'visudo')\njoan ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2\n\n# Sintaxi: user host=(runasuser) [NOPASSWD:] command\n\n\nLusuari joan pot reiniciar el servei apache2 sense necessitat de proporcionar la contrasenya.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#control-granular-de-permisos",
    "href": "slides/04-authentication-part1.html#control-granular-de-permisos",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Control granular de permisos",
    "text": "Control granular de permisos\n# Definir alias per a reutilitzaci贸\nCmnd_Alias RESTART = /usr/bin/systemctl restart *, /usr/bin/systemctl reload *\nUser_Alias SYSADMINS = joan, anna, pere\nHost_Alias SERVERS = web01, web02\n\n# Pol铆tica: els sysadmins poden reiniciar serveis sense password\nSYSADMINS SERVERS = NOPASSWD: RESTART\n\n# Restricci贸 per hora (integrada amb PAM)\njoan web01 = (root) Cmnd=/usr/sbin/reboot [1-5/09:00-18:00]",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#auditor铆a-d煤s-de-sudo",
    "href": "slides/04-authentication-part1.html#auditor铆a-d煤s-de-sudo",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Auditor铆a d煤s de sudo",
    "text": "Auditor铆a d煤s de sudo\n# Configurar log detallat a /etc/sudoers\nDefaults logfile=\"/var/log/sudo.log\"\nDefaults log_output\n\n# Visualitzar comandos executades\nsudo journalctl SYSLOG_IDENTIFIER=sudo | head -20\n\n# Script per auditar 煤s sospit贸s\ngrep COMMAND /var/log/sudo.log | grep -E \"(rm|dd|chmod|chown)\"",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#capabilities-alternatives-a-setuid",
    "href": "slides/04-authentication-part1.html#capabilities-alternatives-a-setuid",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Capabilities: alternatives a setuid",
    "text": "Capabilities: alternatives a setuid\n# En lloc de setuid root, es pot utilitzar capabilities\n# Exemple: ping no necessita root complet\ngetcap /usr/bin/ping\n\n# Si es necessita, assignar capability espec铆fica\nsudo setcap cap_net_raw+p /usr/bin/ping\n\n# Capabilities comunes\n# CAP_NET_BIND_SERVICE: obrir ports &lt; 1024\n# CAP_SYS_ADMIN: admin del sistema (omnibus)\n# CAP_SETUID: canviar UID\n# CAP_DAC_OVERRIDE: ignorar DAC\nAvantatge: Menor superf铆cie datac que setuid.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#namespaces-dusuari-i-contenidors",
    "href": "slides/04-authentication-part1.html#namespaces-dusuari-i-contenidors",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Namespaces dusuari i contenidors",
    "text": "Namespaces dusuari i contenidors\n# Crear namespace d'usuari per a茂llament\nunshare --user --map-root-user --mount-proc bash\n\n# Dins del namespace: sou root (UID 0 local)\n# Per貌 sense privilegis globals del sistema\n\n# Fonament de contenidors: processos a茂llats per UID\ndocker run --user=nobody:nogroup ubuntu id\n# uid=65534(nobody) gid=65534(nogroup)\nCas d煤s: A茂llament de microserveis i entorns CI/CD.",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/04-authentication-part1.html#exercicis-propostas",
    "href": "slides/04-authentication-part1.html#exercicis-propostas",
    "title": "Autenticaci贸 i Autoritzaci贸 (Part 1)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nLord of the system",
    "crumbs": [
      "Diapositives",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸 (Part 1)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-larrancada",
    "href": "slides/02-booting-part2.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de larrancada",
    "text": "Etapes de larrancada",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#qu猫-茅s-el-grubgrub2",
    "href": "slides/02-booting-part2.html#qu猫-茅s-el-grubgrub2",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu猫 茅s el GRUB/GRUB2?",
    "text": "Qu猫 茅s el GRUB/GRUB2?\nGRUB (GRand Unified Bootloader) 茅s un gestor darrencada molt utilitzat en sistemes operatius Linux i altres sistemes Unix-like. La seva funci贸 principal 茅s carregar un kernel del sistema operatiu a la mem貌ria i iniciar el proc茅s darrencada.\n\nFuncions principals:\n\nPermet seleccionar entre m煤ltiples sistemes operatius instal路lats en un mateix ordinador (multi-boot).\nProporciona una interf铆cie per configurar opcions darrencada, com ara parmetres del kernel.\nSuporta diferents sistemes de fitxers, permetent accedir a particions amb formats com ext4, Btrfs, XFS, entre altres.\nOfereix una consola interactiva per a la resoluci贸 de problemes i la configuraci贸 avan莽ada.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-dexecuci贸-del-grub",
    "href": "slides/02-booting-part2.html#etapes-dexecuci贸-del-grub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes dexecuci贸 del GRUB",
    "text": "Etapes dexecuci贸 del GRUB\n\nStage 1:\n\nEn sistemes BIOS: efectivament 茅s el codi al MBR (o VBR)  molt petit ( 446 bytes).\nEn sistemes UEFI: 茅s un fitxer executable EFI (normalment a /boot/efi/EFI/grub/grubx64.efi).\n\nStage 1.5 (nom茅s en BIOS, opcional):\n\nProporciona suport bsic per a sistemes de fitxers.\nNormalment es troba en sectors buits despr茅s del MBR (espai entre MBR i primera partici贸). core.img.\n\nStage 2:\n\nCont茅 el GRUB complet amb el men煤 darrencada.\nPot carregar m貌duls addicionals (drivers de FS, v铆deo, xarxa, criptografia).\nTransfereix el control al kernel per iniciar el sistema operatiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#diagrama-darrencada-del-grub",
    "href": "slides/02-booting-part2.html#diagrama-darrencada-del-grub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Diagrama darrencada del GRUB",
    "text": "Diagrama darrencada del GRUB\n\n\nset root=hd0,msdos1: Indica la partici贸 arrel on es troba el sistema operatiu que es vol arrencar.\nlinux /vmlinuz root=/dev/sda1: Indica la ruta del kernel i la partici贸 arrel.\ninitrd /initramfs.img: Indica la ruta de linitramfs.\nboot: Inicia el sistema operatiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci贸-del-grub-i",
    "href": "slides/02-booting-part2.html#configuraci贸-del-grub-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci贸 del GRUB (I)",
    "text": "Configuraci贸 del GRUB (I)\nEl fitxer principal de configuraci贸 de GRUB2 茅s:\n- /boot/grub/grub.cfg (o /boot/grub2/grub.cfg en algunes distribucions).\n\n\n\n\n\n\n\nImportant\n\n\nNo sha deditar directament, ja que es regenera automticament.\n\n\n\n\nFitxers i directoris\n\n/etc/default/grub : Opcions generals de configuraci贸 i variables dentorn.\n/etc/grub.d/\nDirectori amb scripts que generen grub.cfg:\n\n00_header  configuraci贸 inicial\n\n10_linux  detecta kernels Linux\n\n30_os-prober  detecta altres SO\n\n40_custom  entrades personalitzades",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci贸-del-grub-ii",
    "href": "slides/02-booting-part2.html#configuraci贸-del-grub-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci贸 del GRUB (II)",
    "text": "Configuraci贸 del GRUB (II)\nUn cop modificats els fitxers anteriors, cal regenerar grub.cfg:\n# Distribucions Debian/Ubuntu\nsudo update-grub\n\n# Distribucions Arch, Fedora, openSUSE...\nsudo grub-mkconfig -o /boot/grub/grub.cfg",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#variables-etcdefaultgrub",
    "href": "slides/02-booting-part2.html#variables-etcdefaultgrub",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Variables /etc/default/grub",
    "text": "Variables /etc/default/grub\n\n\n\n\n\n\n\nVariable\nDescripci贸\n\n\n\n\nGRUB_BACKGROUND\nImatge de fons que es mostrar al men煤 darrencada.\n\n\nGRUB_TIMEOUT\nTemps en segons abans de carregar lentrada predeterminada.\n\n\nGRUB_DEFAULT\nEntrada per defecte que es carregar (index o nom)\n\n\nGRUB_CMDLINE_LINUX\nOpcions de l铆nia de comandes que es passen al nucli en arrencar el sistema.\n\n\nGRUB_DISABLE_RECOVERY\nSi true, desactiva les opcions de mode de recuperaci贸.\n\n\nGRUB_DISABLE_OS_PROBER\nSi true, impedeix que GRUB busqui altres sistemes operatius instal路lats.\n\n\nGRUB_PRELOAD_MODULES\nLlista de m貌duls GRUB que es carregaran abans de mostrar el men煤 darrencada.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#parmetres-del-kernel-m茅s-comuns",
    "href": "slides/02-booting-part2.html#parmetres-del-kernel-m茅s-comuns",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Parmetres del kernel m茅s comuns",
    "text": "Parmetres del kernel m茅s comuns\n\n\n\n\n\n\n\nParmetre\nDescripci贸\n\n\n\n\nquiet\nSuprimeix els missatges del nucli durant larrencada.\n\n\nsingle\nInicia el sistema en mode dusuari 煤nic (single-user mode) per a tasques de manteniment.\n\n\nnomodeset\nDesactiva la detecci贸 de modes de v铆deo, 煤til per a solucions de problemes amb grfics.\n\n\nroot=\nEspecifica la partici贸 arrel del sistema de fitxers.\n\n\ninit=\nEspecifica un fitxer dinit alternatiu.\n\n\nro\nMuntatge de la partici贸 arrel en mode de nom茅s lectura durant larrencada.\n\n\nrw\nMuntatge de la partici贸 arrel en mode de lectura i escriptura durant larrencada.\n\n\nsystemd.unit =\nEspecifica el target de systemd a iniciar (ex: multi-user.target, graphical.target).",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#consideracions-addicionals",
    "href": "slides/02-booting-part2.html#consideracions-addicionals",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Consideracions addicionals",
    "text": "Consideracions addicionals\n\nEn UEFI, GRUB2 茅s un fitxer EFI a /boot/efi/EFI//grubx64.efi.\nEs poden protegir entrades amb contrasenya a /etc/grub.d/40_custom.\nAl men煤, amb e es poden passar parmetres temporals al kernel.\nGRUB permet chainloading per arrencar altres SO (Windows, BSD).\nAmb UEFI Secure Boot, GRUB pot ser signat digitalment.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#secure-boot",
    "href": "slides/02-booting-part2.html#secure-boot",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Secure Boot",
    "text": "Secure Boot\nSecure Boot 茅s una caracter铆stica de seguretat del firmware UEFI que assegura que nom茅s es carregui i sexecuti programari de confian莽a durant el proc茅s darrencada del sistema.\n\nUEFI comprova la signatura digital del bootloader EFI (per exemple, grubx64.efi) abans de carregar-lo.\nLa signatura 茅s comparada amb les claus de confian莽a emmagatzemades en la DB (Database of allowed signatures) del firmware.\nSi la signatura 茅s vlida, UEFI carrega i executa el bootloader. Sin贸, impedeix lexecuci贸 del bootloader i mostra un missatge derror.\nPot carregar m貌duls addicionals signats, que tamb茅 poden ser verificats pel mateix GRUB (opcional).\nEl kernel Linux tamb茅 pot estar signat (opcional, si sutilitza Linux Kernel Signing).\nSi sutilitza Shim, aquest actua com a intermediari: el firmware UEFI confia en Shim, i Shim verifica despr茅s GRUB i el kernel.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#problemes-de-secure-boot",
    "href": "slides/02-booting-part2.html#problemes-de-secure-boot",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Problemes de Secure Boot",
    "text": "Problemes de Secure Boot\n\nCompatibilitat: No tots els sistemes operatius o distribucions Linux suporten Secure Boot de manera nativa.\nClaus de confian莽a: La gesti贸 de claus pot ser complexa, especialment en entorns corporatius.\nActualitzacions: Les actualitzacions del bootloader o del kernel poden requerir la re-signatura dels components.\nRestriccions: Algunes funcionalitats avan莽ades poden estar limitades per les pol铆tiques de Secure Boot.\n\nMalgrat Secure Boot, shan detectat vulnerabilitats que permeten carregar bootloaders no autoritzats en alguns dispositius (ArsTechnica, 2024).",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#qu猫-茅s-el-kernel",
    "href": "slides/02-booting-part2.html#qu猫-茅s-el-kernel",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu猫 茅s el kernel?",
    "text": "Qu猫 茅s el kernel?\nEl kernel 茅s el nucli del sistema operatiu, responsable de gestionar els recursos del sistema, com la mem貌ria, el processador, els dispositius dentrada/sortida, la xarxa i els processos dusuari.\n\n\n\n\n\n\n\nEl kernel es carrega a la mem貌ria RAM durant el proc茅s darrencada i es troba normalment a la partici贸 arrel del sistema de fitxers (generalment en /boot).\nEl kernel 茅s un programa binari que es compila espec铆ficament per a larquitectura de maquinari del sistema (per exemple, x86, ARM, etc.)\nPot ser personalitzat amb diferents m貌duls i controladors segons les necessitats del sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#carregar-el-kernel",
    "href": "slides/02-booting-part2.html#carregar-el-kernel",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Carregar el kernel",
    "text": "Carregar el kernel\nPer carregar el kernel, el bootloader necessita:\n\nRuta del kernel\n\nNormalment un fitxer com vmlinuz-version dins de /boot.\n\nPartici贸 arrel\n\nLa partici贸 on es troba el sistema de fitxers del sistema operatiu.\n\nFitxer de configuraci贸 del bootloader\n\nCom grub.cfg en el cas de GRUB, que indica ruta del kernel, parmetres i initramfs.\n\nCrrega de linitramfs\n\nInitramfs (initial RAM filesystem) 茅s un sistema de fitxers temporal a RAM.\n\nPermet inicialitzar controladors bsics i muntar la partici贸 arrel real abans de transferir el control al kernel complet.\n\n\n\nLinitramfs facilita la portabilitat i modularitat del kernel, permetent arrencar diferents configuracions de maquinari sense necessitat de recompilar el kernel cada cop.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#qu猫-茅s-linitramfs",
    "href": "slides/02-booting-part2.html#qu猫-茅s-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Qu猫 茅s lInitramfs?",
    "text": "Qu猫 茅s lInitramfs?\nLInitramfs (Initial RAM Filesystem) 茅s un petit sistema de fitxers integrat dins la imatge del nucli Linux.\n\nPermet que el kernel pugui muntar la partici贸 arrel durant larrencada.\n\nA difer猫ncia de lantic initrd, que residia en un disc, linitramfs es carrega completament a RAM com a imatge comprimida.\n\n\nObjectius\n\nProporcionar un sistema de fitxers temporal i m铆nim.\n\nCarregar m貌duls essencials del kernel necessaris per accedir a maquinari i sistemes de fitxers.\n\nExecutar scripts dinicialitzaci贸 abans de transferir el control al sistema complet.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-i",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de lInitramfs (I)",
    "text": "Etapes de lInitramfs (I)\n\nDescompressi贸 a la RAM\n\nEl fitxer CPIO de linitramfs es descomprimeix a un sistema de fitxers temporal a RAM (tmpfs), creant lentorn m铆nim necessari per iniciar el kernel.\n\n\nExecuci贸 de lscript /init\n\n/init 茅s lentrypoint principal de linitramfs.\n\nExecuta la seq眉猫ncia dinicialitzaci贸: muntatge de sistemes virtuals, crrega de m貌duls i preparaci贸 de lentorn.\n\n\nCreaci贸 del sistema de fitxers temporal\n\nMuntatge de /proc, /sys i /dev.\n\nCreaci贸 de directoris temporals (/tmp, /run) per permetre que els scripts i utilitats funcionin.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-ii",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de lInitramfs (II)",
    "text": "Etapes de lInitramfs (II)\n\nCarregar m貌duls del kernel\n\nCarrega controladors necessaris per accedir a maquinari (discos, controladors de xarxa, LVM, RAID, xifrat).\n\nSi els m貌duls estan integrats al kernel, aquesta etapa pot ser m铆nima o nul路la.\n\nMuntatge de la partici贸 arrel real\n\nLocalitza la partici贸 arrel (per exemple /dev/sda1 o UUID=...).\n\nMuntatge en un punt temporal (/mnt/root o similar).\n\n\nTransici贸 al sistema complet (switch_root)\n\nSubstitueix lentorn temporal de linitramfs pel sistema de fitxers real.\n\nExecuta el binari init del sistema complet (normalment /sbin/init o systemd).",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#etapes-de-linitramfs-iii",
    "href": "slides/02-booting-part2.html#etapes-de-linitramfs-iii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Etapes de lInitramfs (III)",
    "text": "Etapes de lInitramfs (III)\n\nAlliberament de linitramfs\n\nDestruir lentorn temporal a RAM.\n\nAlliberar la mem貌ria utilitzada pel sistema de fitxers temporal, deixant el control complet al sistema operatiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#caracter铆stiques-de-linitramfs",
    "href": "slides/02-booting-part2.html#caracter铆stiques-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Caracter铆stiques de lInitramfs",
    "text": "Caracter铆stiques de lInitramfs\n\nFacilita la portabilitat i modularitat del kernel, permetent arrencar diferents configuracions de maquinari sense necessitat de recompilar el kernel cada cop.\nNo sempre est present, pot estar buit o om猫s si el sistema no necessita un espai RAM inicial (per exemple, en sistemes simples o compilacions esttiques del nucli).\nEs configura durant la compilaci贸 del nucli make menuconfig i es pot definir el contingut de linitramfs amb un fitxer de configuraci贸, sutiltizen variables:\n\nCONFIG_BLK_DEV_INITRD: Activa la creaci贸 de linitramfs.\nCONFIG_INITRAMFS_SOURCE: Especifica el fitxer CPIO, un directori o un fitxer despecificaci贸.\n\nTamb茅 es pot personalitzar segons les necessitats del sistema, permetent afegir m貌duls del kernel, scripts personalitzats o utilitats addicionals.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#contingut-de-linitramfs",
    "href": "slides/02-booting-part2.html#contingut-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Contingut de linitramfs",
    "text": "Contingut de linitramfs\n\nFitxers executables\n\nEx: BusyBox, que encapsula moltes utilitats Unix (ls, cp, mount, shell, etc.).\n\nPoden incloure altres programes compilats estticament.\n\nM貌duls del kernel\n\nControladors per discos, xarxes, sistemes RAID o LVM.\n\nS贸n carregats si no estan integrats dins del nucli.\n\nFitxers de dispositiu i sistemes especials\n\n/dev cont茅 dispositius com tty o null.\n\nGestionats per utilitats com mdev o udev.\n\n\n\nTots aquests elements es troben comprimits en un fitxer CPIO, descomprimits a RAM durant larrencada i executats per lscript /init.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#configuraci贸-de-linitramfs",
    "href": "slides/02-booting-part2.html#configuraci贸-de-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Configuraci贸 de linitramfs",
    "text": "Configuraci贸 de linitramfs\nLinitramfs es pot personalitzar segons les necessitats del sistema, permetent afegir m貌duls del kernel, scripts personalitzats o utilitats addicionals. La configuraci贸 dep猫n de la distribuci贸:\nDebian/Ubuntu\nupdate-initramfs -u -k &lt;versi贸&gt;\n# -u actualitza l'initramfs\n# -k especifica la versi贸 del nucli\n\nFedora/Red Hat\ndracut -f /boot/initramfs-&lt;versi贸&gt;.img &lt;versi贸&gt;\n# -f for莽a la regeneraci贸\n# El primer argument 茅s la ruta on es vol guardar l'initramfs generat\n# El segon argument 茅s la versi贸 del nucli",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-i",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-i",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (I)",
    "text": "initramfs-tools (Debian) (I)\n\n/etc/initramfs-tools/modules\nLlista de m貌duls addicionals del kernel a incloure a linitramfs, per exemple controladors de xarxa o discos RAID.\n\n/etc/initramfs-tools/hooks/\nScripts que sexecuten durant la creaci贸 de linitramfs, 煤tils per afegir fitxers o directoris personalitzats.\n\n/etc/initramfs-tools/conf.d/\nFitxers de configuraci贸 addicionals per modificar parmetres espec铆fics de linitramfs.\n\n/etc/initramfs-tools/initramfs.conf\nConfiguraci贸 principal, inclou opcions com compressi贸, 煤s de scripts, parmetres de muntatge.\n\n/usr/share/initramfs-tools/\nScripts i fitxers estndard utilitzats per initramfs-tools, no modificats normalment.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-ii",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-ii",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (II)",
    "text": "initramfs-tools (Debian) (II)\n\n/etc/initramfs-tools/scripts/\nScripts que sexecuten durant larrencada:\n\ninit-top/  scripts executats just despr茅s de descomprimir linitramfs i abans de muntar /proc, /sys i /dev. Ideal per inicialitzar serveis cr铆tics o preparar dispositius especials.\n\ninit-bottom/  scripts executats just abans de fer switch_root al sistema complet. til per passos finals com muntar la partici贸 arrel, desbloquejar LUKS o activar LVM.\n\nlocal-bottom/  scripts addicionals definits per ladministrador.\nlocal-top/  scripts addicionals definits per ladministrador.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#initramfs-tools-debian-ii-1",
    "href": "slides/02-booting-part2.html#initramfs-tools-debian-ii-1",
    "title": "Arrencada del sistema (Part 2)",
    "section": "initramfs-tools (Debian) (II)",
    "text": "initramfs-tools (Debian) (II)\n\npremount/  scripts executats abans de muntar la partici贸 arrel. Ideal per preparar dispositius o sistemes de fitxers especials.\nmount/  scripts executats durant el muntatge de la partici贸 arrel. til per passos espec铆fics relacionats amb el muntatge.\ncleanup/  scripts executats despr茅s de fer switch_root al sistema complet. Ideal per netejar recursos temporals o realitzar tasques posteriors a larrencada.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#dracut-fedorared-hat",
    "href": "slides/02-booting-part2.html#dracut-fedorared-hat",
    "title": "Arrencada del sistema (Part 2)",
    "section": "dracut (Fedora/Red Hat)",
    "text": "dracut (Fedora/Red Hat)\n\n/etc/dracut.conf\nFitxer de configuraci贸 principal de Dracut, on es poden definir opcions generals: compressi贸, tipus de fitxer dinitramfs, parmetres del kernel, etc.\n\n/etc/dracut.conf.d/\nFitxers de configuraci贸 addicionals, 煤tils per a configuracions espec铆fiques de m貌duls o projectes.\n\n/usr/lib/dracut/modules.d/\nCont茅 m貌duls estndard de Dracut (ex: m貌duls de xarxa, lvm, cryptsetup), carregats automticament segons la configuraci贸.\n\n/etc/dracut/modules.d/\nM貌duls personalitzats creats per ladministrador, per afegir scripts o fitxers espec铆fics.\n\n/usr/share/dracut/\nCont茅 scripts i fitxers estndard utilitzats durant la generaci贸 de linitramfs, igual que a initramfs-tools.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#quan-regenerar-linitramfs",
    "href": "slides/02-booting-part2.html#quan-regenerar-linitramfs",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Quan regenerar linitramfs?",
    "text": "Quan regenerar linitramfs?\n\nActualitzaci贸 del nucli: Quan es compila o instal路la un nou kernel, linitramfs associat ha de ser regenerat per garantir que carrega correctament els m貌duls i el maquinari necessari.\nConfiguraci贸 RAID: Si es modifiquen o safegeixen sistemes RAID, linitramfs ha de reflectir aquests canvis per assegurar un arrencada correcta.\nXifrat de discos: Per a sistemes amb particions xifrades (LUKS), cal actualitzar linitramfs despr茅s de canvis en la configuraci贸 de xifrat per poder accedir a les particions durant larrencada.\nConfiguraci贸 de xarxa: Si es canvien components de xarxa que sutilitzen en el proc茅s darrencada (sistemes amb arrencada PXE).",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#cas-dus-usb-amb-clau-de-desxifrat",
    "href": "slides/02-booting-part2.html#cas-dus-usb-amb-clau-de-desxifrat",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Cas dus: USB amb clau de desxifrat",
    "text": "Cas dus: USB amb clau de desxifrat\nUn cas d煤s com煤 de linitramfs 茅s en sistemes amb particions xifrades amb LUKS que utilitzen una clau emmagatzemada en un dispositiu USB per desxifrar la partici贸 arrel durant larrencada.\n\n\n\nMunti els sistemes virtuals necessaris (/proc, /sys).\n\nMunti la unitat USB que cont茅 la clau.\n\nLlegeixi la clau i desxifri la partici贸 LUKS.\n\nActivar volums LVM si cal.\n\nMuntar la partici贸 arrel i transferir el control amb switch_root.\n\n\n#!/bin/busybox sh\nmount -t proc proc /proc\nmount -t sysfs sys /sys\nmount /dev/sdb1 /mnt\nKEYFILE=/mnt/keyfile\ncryptsetup luksOpen /dev/sda1 crypted --key-file $KEYFILE\necho \"Retira el dispositiu USB i prem Enter per continuar.\"\nread\nvgchange -a y\nmount /dev/mapper/vg-root /mnt\nexec switch_root /mnt /sbin/init",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#exercicis-propostas",
    "href": "slides/02-booting-part2.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nModificant la contrasenya de lusuari root a trav茅s del GRUB\nDesxifrat automtic mitjan莽ant clau en disc secundari (USB emulat)\nDiscussi贸: Secure Boot 茅s realment segur?: Cerca not铆cies recents sobre Secure Boot i comparteix-les al f貌rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi猫ncies personals.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "slides/02-booting-part2.html#thats-all",
    "href": "slides/02-booting-part2.html#thats-all",
    "title": "Arrencada del sistema (Part 2)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc茅s darrencada 茅s un proc茅s complex. Els administradors de sistemes han de con猫ixer aquest proc茅s per poder gestionar i solucionar problemes durant larrencada del sistema i garantir un sistema segur, estable i eficient.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 2)"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "AMSA 105013: Administraci贸 de Sistemes",
    "section": "",
    "text": "Benvinguts al curs dAdministraci贸 de sistemes i aplicacions (AMSA). Aquest curs est dissenyat per proporcionar als estudiants els coneixements i habilitats necessaris per gestionar i mantenir sistemes informtics en entorns professionals.\n\n\n\nCourse Title\nSystems and Applications Administration and Management\n\n\nSemester\n1st Semester of the Bachelors Degree in Computer Engineering\n\n\nCourse Year\nThird Year\n\n\nProfessor\nJordi Mateo\n\n\nSchedule\n\n\n\nCourse Guide\n\n\n\nSchool\n\n\n\nUniversity\n\n\n\nDepartment"
  },
  {
    "objectID": "projects/01-project/01-project.html",
    "href": "projects/01-project/01-project.html",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "",
    "text": "Comprendre el proc茅s darrencada en Linux (GRUB  initramfs  systemd).\nConfigurar i gestionar serveis systemd.\nCrear snapshots de lestat del sistema i restaurar-los.\nIntroduir-se a la personalitzaci贸 dinitramfs i opcionalment GRUB.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#objectius",
    "href": "projects/01-project/01-project.html#objectius",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "",
    "text": "Comprendre el proc茅s darrencada en Linux (GRUB  initramfs  systemd).\nConfigurar i gestionar serveis systemd.\nCrear snapshots de lestat del sistema i restaurar-los.\nIntroduir-se a la personalitzaci贸 dinitramfs i opcionalment GRUB.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#context",
    "href": "projects/01-project/01-project.html#context",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "Context",
    "text": "Context\nEn entorns reals, 茅s freq眉ent necessitar tornar a un estat anterior del sistema despr茅s duna fallada o una actualitzaci贸 incorrecta. Aquesta prctica simula aquest escenari: configurarem un mecanisme de snapshots i un proc茅s per restaurar-los en arrencar la mquina.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#entorn-de-treball",
    "href": "projects/01-project/01-project.html#entorn-de-treball",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "Entorn de treball",
    "text": "Entorn de treball\n\nMquina virtual amb Debian 12 i amb UEFI amb 20 GB de disc.\nDisc virtual addicional de 20 GB per emmagatzemar els snapshots.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#preparaci贸-de-la-mquina-virtual",
    "href": "projects/01-project/01-project.html#preparaci贸-de-la-mquina-virtual",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "Preparaci贸 de la mquina virtual",
    "text": "Preparaci贸 de la mquina virtual\nUn cop arrencada la mquina virtual, afegiu un disc dur addicional de 20 GB. Aquest disc ser utilitzat per emmagatzemar els snapshots. Per exemple, si el disc principal 茅s /dev/nvme0n1, el nou disc podria ser /dev/nvme0n2. Un cop afegit el disc, inicieu la mquina virtual i comproveu que el nou disc 茅s visible amb lsblk.\nUn cop identificat el nou disc, cal crear-hi un sistema de fitxers i muntar-lo. Per exemple, si el nou disc 茅s /dev/nvme0n2, podeu fer-ho aix铆:\n# Com a root o amb sudo\nmkfs.ext4 /dev/nvme0n2\nmount /dev/nvme0n2 /mnt\nmkdir -p /mnt/snapshots\nPer evitar haver de muntar el disc manualment cada cop, afegiu una entrada a /etc/fstab. Per exemple, afegiu aquesta l铆nia al final del fitxer:\n/dev/nvme0n2  /mnt  ext4  defaults  0  2\n\n\n\n\n\n\nAlertaAdvert猫ncia\n\n\n\nAssegureu-vos dindicar el disc correcte que pot ser nvme0n2, sdb, vdb, No utilitzeu el disc principal on est instal路lat el sistema operatiu.\n\n\nUn cop muntat el disc, instal路leu rsync si no est instal路lat:\n# Com a root o amb sudo\napt update\napt install rsync\nEn cas de problemes amb el update, igual necessitareu fer un apt upgrade abans.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#tasques",
    "href": "projects/01-project/01-project.html#tasques",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "Tasques",
    "text": "Tasques\n\nCrear snapshots amb rsync (2 punts) \n\nEscriure un script que cre茂 snapshots dels directoris /home, /opt, /bin, /usr a /mnt/snapshots utilitzant rsync.\nCrea un primer snapshot manualment per tenir una base de dades inicial i anomeneu-lo snapshot_00000000_000000, feu servir script com a root.\nProvar lscript manualment i assegurar-se que es poden crear diversos snapshots.\nUtilitzar un format de nom com snapshot_YYYYMMDD_HHMMSS per al directori.\nEls snapshots han de ser c貌pies completes: /home, /opt, /bin, /usr . No cal comprimir aquests snapshots. Poden ser carpetes independents utilitzant la nomenclatura indicada.\nImplementar una pol铆tica per mantenir el snapshot inicial i els 3 snapshots m茅s recents, eliminant els m茅s antics.\n\nAutomatitzar la creaci贸 de snapshots amb systemd (3 punts) 锔\n\nCrear un servei systemd que executi lscript de creaci贸 de snapshots a cada apagada de la mquina.\nValidar que cada vegada que saturi la mquina es crea un nou snapshot.\n\nRestaurar snapshots en arrencada amb systemd (3 punts) \n\nEscriure un script que mostri un llistat de snapshots disponibles i permeti seleccionar-ne un per restaurar.\nCrear un servei systemd que sexecuti abans de multi-user.target i cridi aquest script.\nComprovar que en arrencar la mquina es mostra el men煤 de snapshots.\nValidar que es pot restaurar un snapshot seleccionat.\n\nRestaurar snapshots des dinitramfs (1/2 punts) \n\nAfegir un parametre al kernel per indicar el fitxer de snapshot a restaurar. Aquest parmetresanomenar snapshot= i rebrr el nom de la snapshot a restaurar, per exemple snapshot=snapshot_20240101_120000. En cas de no rebre cap parmetre, no es restaurar cap snapshot.\nAfegir un script a initramfs que carregui el disc secundari, llegeixi el parmetre i restauri el snapshot abans de muntar /.\n\nSimple: Utilitzant comandes integrades a initramfs. (1 punt)\nAvan莽at: Afegint programari compilat estaticament a initramfs. (2 punts)\n\nReconstruir linitramfs i validar que sha restaurat el snapshot correcte.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "projects/01-project/01-project.html#organitzaci贸-i-lliurament",
    "href": "projects/01-project/01-project.html#organitzaci贸-i-lliurament",
    "title": "Prctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "section": "Organitzaci贸 i lliurament",
    "text": "Organitzaci贸 i lliurament\nAccediu a lactivitat a trav茅s de lenlla莽 al Github Classroom. Un cop acceptada lactivitat, clonareu el repositori a la vostra mquina local i comen莽areu a treballar. Podeu treballar amb grups de fins a 3 persones.\n practica01/\n SOLUCI.md               \n scripts/\n    create_snapshot.sh    \n    restore_snapshot.sh   \n    helpers.sh            \n systemd/\n    snapshot.service      \n    restore.service       \n initramfs/\n    snapshot_menu        \n grub/\n     40_custom_snapshot    \nEl document SOLUCI.md ha dincloure:\n\nExplicaci贸 de cada part de la prctica i comandes utilitzades.\nDifer猫ncies entre les comandes cp, rsync i tar per fer c貌pies de seguretat.\nConjunt de proves realitzades per validar cada part.\nEnregistrament en format v铆deo de la consola on es demostri el funcionament correcte de les diferents parts de la prctica, o b茅 captures de pantalla on es mostri el proc茅s i els resultats.\nDocumentaci贸 o prompts consultats.",
    "crumbs": [
      "Projectes",
      "Projecte 1 路 Snapshots i Backups amb systemd i initramfs"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "",
    "text": "Configurar un servidor Jupyter Notebook a AWS EC2.\nUtilitzar systemd per gestionar Jupyter com a servei.\nDescobrir lemmagatzematge al n煤vol amb AWS S3.\nAccedir a S3 des de Jupyter i diferents clients.\nSincronitzar dades entre EC2 i S3.\nAutomatitzar la sincronitzaci贸 amb scripts i Lambda.",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#objectius",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#objectius",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "",
    "text": "Configurar un servidor Jupyter Notebook a AWS EC2.\nUtilitzar systemd per gestionar Jupyter com a servei.\nDescobrir lemmagatzematge al n煤vol amb AWS S3.\nAccedir a S3 des de Jupyter i diferents clients.\nSincronitzar dades entre EC2 i S3.\nAutomatitzar la sincronitzaci贸 amb scripts i Lambda.",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#fase-1-llan莽ament-del-n煤vol-ec2-jupyter-com-a-servei",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#fase-1-llan莽ament-del-n煤vol-ec2-jupyter-com-a-servei",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "П Fase 1: Llan莽ament del N煤vol (EC2 + Jupyter com a servei)",
    "text": "П Fase 1: Llan莽ament del N煤vol (EC2 + Jupyter com a servei)\n\n1.1 Crear instncia EC2\n\nAneu al AWS Educate Learner Lab i accediu al vostre entorn.\nCerqueu EC2 i creeu una nova instncia.\nSeleccioneu una AMI Linux i tipus dinstncia de baix cost (t2.micro).\nConfigureu un Security Group:\n\nPort 22 (SSH) acceptant 0.0.0.0/0.\nPort 8888 (Jupyter) acceptant 0.0.0.0/0.\n\nLlan莽eu la instncia.\n\n\n\n1.2 Instal路lar Jupyter Notebook\n\nConnecteu-vos a la instncia via SSH.\nActualitzeu els paquets:\nsudo yum update -y\nComproveu que Python3 est instal路lat:\npython3 --version\nCrearem un entorn virtual per Jupyter al directori /home/ec2-user/jupyter/env:\nmkdir -p /home/ec2-user/jupyter\npython3 -m venv /home/ec2-user/jupyter/env\nsource /home/ec2-user/jupyter/env/bin/activate\nInstal路leu Jupyter:\npip install jupyter\nComproveu la instal路laci贸:\njupyter --version\nArranqueu Jupyter:\njupyter-notebook --ip=0.0.0.0 --port=8888 --no-browser\nAccediu a Jupyter des del navegador amb http://&lt;IP_PUBLICA&gt;:8888. A la terminal veureu un token dacc茅s que necessitareu per entrar.\n\n\nPregunta de reflexi贸\n\nPer qu猫 茅s recomanable executar Jupyter en un entorn virtual separat en lloc dinstal路lar-lo directament al sistema?\n\n\n\n\n Servei jupyter amb systemd\nAra configurarem Jupyter per executar-lo com un servei de sistema amb systemd, de manera que sinici茂 automticament a larrencada i sexecuti en segon pla. La seg眉ent taula resumeix els components principals que crearem:\n\n\n\n\n\n\n\n\nComponent\nLloc\nProp貌sit\n\n\n\n\nUsuari de sistema\njupyter (no shell, no home)\nExecutar Jupyter de manera segura, 煤nicament per a aquest servei.\n\n\nConfiguraci贸 Jupyter\n/etc/jupyter\nConfiguraci贸 i credencials de Jupyter.\n\n\nEntorn virtual\n/opt/jupyter/env\nPaquets de Python a茂llats per Jupyter.\n\n\nDirectori de treball\n/srv/jupyter\nOn es guarden els notebooks i dades.\n\n\nUnitat systemd\n/etc/systemd/system/jupyter.service\nConfiguraci贸 del servei Jupyter per a systemd.\n\n\n\n\nCrearem un usuari dedicat per a Jupyter:\nsudo useradd --system --no-create-home --shell /sbin/nologin jupyter\nsudo passwd -l jupyter\nCrearem els directoris necessaris:\nsudo mkdir -p /etc/jupyter /opt/jupyter/env /srv/jupyter mkdir /etc/jupyter/runtime /srv/jupyter/notebooks\nsudo chown -R jupyter:jupyter /srv/jupyter /etc/jupyter /opt/jupyter\nInstal路larem Jupyter a lentorn virtual:\nsudo python3 -m venv /opt/jupyter/env\nsudo chown -R jupyter:jupyter /opt/jupyter/env\nsudo -u jupyter /opt/jupyter/env/bin/pip install --upgrade pip\nsudo -u jupyter /opt/jupyter/env/bin/pip install jupyter\nGenereu el fitxer de configuraci贸 de Jupyter:\nsudo -u jupyter env HOME=/tmp /opt/jupyter/env/bin/jupyter-notebook --generate-config --config-dir=/etc/jupyter\nEditeu el fitxer de configuraci贸 per definir directori i ports:\nsudo -u jupyter vi /etc/jupyter/jupyter_notebook_config.py\nAfegiu les l铆nies seg眉ents:\nc.ServerApp.ip = '0.0.0.0'\nc.ServerApp.port = 8888\nc.ServerApp.open_browser = False\nc.ServerApp.root_dir = '/srv/jupyter'\nc.ServerApp.notebook_dir = '/srv/jupyter/notebooks'\nc.serverApp.token = ''  \nc.ServerApp.password = ''  \nGenerar una contrasenya per Jupyter:\nsudo -u jupyter /opt/jupyter/env/bin/python3 -c \"from jupyter_server.auth import passwd; print(passwd())\"\nCopieu la sortida i afegiu-la a c.ServerApp.password al fitxer de configuraci贸.\nCreeu el fitxer de servei systemd:\nsudo vi /etc/systemd/system/jupyter.service\nAfegiu el seg眉ent contingut:\n[Unit]\nDescription=Jupyter Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=jupyter\nGroup=jupyter\nWorkingDirectory=/srv/jupyter\nEnvironment=\"XDG_DATA_HOME=/srv/jupyter/.local/share\"\nEnvironment=\"JUPYTER_CONFIG_DIR=/etc/jupyter\"\nEnvironment=\"PATH=/opt/jupyter/env/bin\"\nEnvironment=\"JUPYTER_RUNTIME_DIR=/etc/jupyter/runtime\"\nExecStart=/opt/jupyter/env/bin/jupyter-notebook --config=/etc/jupyter/jupyter_notebook_config.py\nRestart=failure\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nActiveu i inicieu el servei:\nsudo systemctl daemon-reload\nsudo systemctl enable jupyter\nsudo systemctl start jupyter\nsudo systemctl status jupyter\nAccediu a Jupyter des del navegador amb http://&lt;IP_PUBLICA&gt;:8888 i utilitzeu la contrasenya establerta.\n\n\n\n\n\n\n\nNoteLogs de Jupyter\n\n\n\nPodeu veure els logs de Jupyter amb:\njournalctl -u jupyter -f\n\n\n\nPreguntes de reflexi贸\n\nQu猫 passaria si canviem Type=simple a Type=forking? Quines modificacions haur铆em de fer al fitxer de servei?\nQuin avantatge t茅 separar lusuari que executa Jupyter del teu usuari dadministraci贸?\nQuines implicacions t茅 mantenir un servei com Jupyter en execuci贸 cont铆nua? (Considereu consum de recursos, seguretat, monitoritzaci贸.)",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#fase-2-configuraci贸-demmagatzematge-s3",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#fase-2-configuraci贸-demmagatzematge-s3",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": " Fase 2: Configuraci贸 demmagatzematge S3",
    "text": " Fase 2: Configuraci贸 demmagatzematge S3\n\n2.1 Creaci贸 de buckets S3\nCrearem diferents buckets S3 per emmagatzemar els notebooks, les dades, els resultats i tamb茅 per fer de backup. Per fer-ho, seguirem els passos seg眉ents:\n\nAneu al servei S3 a AWS i creeu els seg眉ents buckets (assegureu-vos que els noms siguin 煤nics a nivell global):\n\namsa-&lt;vostre_nom&gt;-notebooks\namsa-&lt;vostre_nom&gt;-data\namsa-&lt;vostre_nom&gt;-results\namsa-&lt;vostre_nom&gt;-backup\n\nConfigurarem que 煤nicament el vostre usuari tingui acc茅s als buckets creats.\n\n\n\n\n\n\n\nNotePol铆tica dAcc茅s S3\n\n\n\nA la realitat, haur铆eu de crear una pol铆tica dacc茅s S3 que permeti nom茅s al vostre usuari accedir als buckets. Per貌 ens els learner labs dAWS Educate, aix貌 no 茅s possible. Per tant, en aquest laboratori lowner del bucket (el vostre usuari dAWS Educate) ser l煤nic que podr accedir als seu continguts.\n\n\n\nSeleccioneu General purpose.\nACLs desactivades.\nActiveu tots els controls de bloqueig dacc茅s p煤blic.\nDesactiveu el versionat.\nServer-side encryption with Amazon S3 managed keys (SSE-S3).\nSeleccioneu Bucket Key activada.\n\n\nUn cop creats els buckets, anoteu-vos els noms per utilitzar-los m茅s endavant.\nPodeu pujar documents de mostra als buckets per exemple des del vostre ordinador local, aneu a la interf铆cie web de S3, seleccioneu el bucket i pengeu fitxers.\n\n\n\n2.2 Configuraci贸 de lAWS CLI a lEC2\n\nInstal路leu lAWS CLI a linstncia EC2:\nsudo yum install awscli -y\nConfigureu lAWS CLI amb les vostres credencials dAWS Educate:\naws configure\nAneu a la pesta帽a dacc茅s al Learner Lab i a la secci贸 AWS Details -&gt; Show AWS CLI -&gt; copieu lAccess Key ID i el Secret Access Key i enganxeu-los a la terminal quan us ho demani. Per a la regi贸, utilitzeu us-east-1 o la que correspongui al vostre entorn.\nAWS Access Key ID [None]: &lt;ACCESS_KEY&gt;\nAWS Secret Access Key [None]: &lt;SECRET_KEY&gt;\nDefault region name [None]: us-east-1\nDefault output format [None]: None\nComproveu que podeu accedir als buckets creats:\naws s3 ls\nCopiar fitxers entre lEC2 i S3:\ncd /tmp\necho \"Aix貌 茅s un fitxer de prova per a S3\" &gt; file.txt\naws s3 cp file.txt s3://amsa-&lt;vostre_nom&gt;-notebooks/file.txt\nComproveu que el fitxer sha pujat correctament:\naws s3 ls s3://amsa-&lt;vostre_nom&gt;-notebooks/\nConsulteu la cheat sheet al final del laboratori per veure i provar m茅s ordres de lAWS CLI relacionades amb S3.\n\n\n\nPreguntes de reflexi贸\n\nQuins avantatges t茅 utilitzar S3 per emmagatzemar dades en lloc de lemmagatzematge local de lEC2?\nQuin 茅s el risc de tenir les credencials dAWS configurades directament a lEC2 i com es podria mitigar?\nCerca informaci贸 sobre emmagatzematge basat en blocs (EBS) i emmagatzematge dobjectes (S3). Quines s贸n les difer猫ncies principals i en quins casos 茅s millor utilitzar cada tipus?\n\n\n\n2.3 Control de versions i sincronitzaci贸\nEl servei S3 permet habilitar el control de versions als buckets per mantenir un historial de canvis dels fitxers. Aix貌 茅s 煤til per recuperar versions anteriors en cas derrors o p猫rdua de dades.\n\nHabiliteu el control de versions al bucket de notebooks:\naws s3api put-bucket-versioning --bucket amsa-&lt;vostre_nom&gt;-notebooks --versioning-configuration Status=Enabled\nPugeu un fitxer i modifiqueu-lo diverses vegades per veure com es creen diferents versions:\necho \"Versi贸 1\" &gt; versioned_file.txt\naws s3 cp versioned_file.txt s3://amsa-&lt;vostre_nom&gt;-notebooks/versioned_file.txt\n\necho \"Versi贸 2\" &gt; versioned_file.txt\naws s3 cp versioned_file.txt s3://amsa-&lt;vostre_nom&gt;-notebooks/versioned_file.txt\n\necho \"Versi贸 3\" &gt; versioned_file.txt\naws s3 cp versioned_file.txt s3://amsa-&lt;vostre_nom&gt;-notebooks/versioned_file.txt\nLlisteu les versions del fitxer:\naws s3api list-object-versions --bucket amsa-&lt;vostre_nom&gt;-notebooks --prefix versioned_file.txt\nRecupereu una versi贸 espec铆fica del fitxer:\naws s3api get-object --bucket amsa-&lt;vostre_nom&gt;-notebooks --key versioned_file.txt --version-id &lt;VERSION_ID&gt; restored_versioned_file.txt\n\n\n\nPregunta de reflexi贸\n\nQuins problemes pot solucionar el control de versions en un bucket S3? Pensa un exemple prctic.\nSimula una situaci贸 on no pots o no vols utilitzar Git per gestionar els teus notebooks de Jupyter (per exemple, en un entorn cloud compartit). Com podries aprofitar el versionament de buckets S3 per mantenir versions dels teus notebooks i recuperar versions anteriors? Quins avantatges i limitacions tindria aquest enfocament comparat amb Git pel que fa a tra莽abilitat, col路laboraci贸 i efici猫ncia demmagatzematge?",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#fase-4-sincronitzaci贸-automtica-amb-s3",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#fase-4-sincronitzaci贸-automtica-amb-s3",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "锔 Fase 4: Sincronitzaci贸 automtica amb S3",
    "text": "锔 Fase 4: Sincronitzaci贸 automtica amb S3\nUn dels problemes dutilitzar 2 serveis diferents com a EC2 i S3 茅s que les dades poden quedar desincronitzades. Per exemple, si treballem amb notebooks a Jupyter i els guardem localment, aquests canvis no es reflectiran automticament a S3. Si pujem dades a S3 des dun altre lloc, aquestes dades no estaran disponibles localment a lEC2.\nUna soluci贸 seria abans de treballar a Jupyter sincronitzar les dades des de S3 a lEC2 i despr茅s de treballar, tornar a sincronitzar les dades de lEC2 a S3. Aix貌 es pot fer manualment amb lAWS CLI, per貌 茅s millor automatitzar-ho.\n#!/bin/bash\n\n# Sincronitzar des de S3 a EC2\naws s3 sync s3://amsa-&lt;vostre_nom&gt;-notebooks /srv/jupyter/notebooks/\n\n# Sincronitzar des de EC2 a S3\naws s3 sync /srv/jupyter/notebooks/ s3://amsa-&lt;vostre_nom&gt;-notebooks\nUn manera dautomatitzar-ho seria crear un timer de systemd que executi aquest script cada cert temps (per exemple, cada 5 minuts). Aix铆, les dades es mantindrien sincronitzades sense necessitat dintervenci贸 manual.\nUna altra opci贸 seria configurar una Lambda que sactivi quan hi hagi canvis al bucket S3 i sincronitzi aquests canvis a lEC2. Aquesta opci贸 茅s m茅s complexa per貌 permet una sincronitzaci贸 m茅s immediata.\n\nConfiguraci贸 de la funci贸 Lambda\nEn aquest entorn AWS Educate, Lambda no pot executar ordres directament a lEC2. En un entorn real, podr铆em utilitzar AWS Systems Manager (SSM) per enviar ordres a lEC2 des de Lambda. Per貌 com que no tenim permisos per configurar SSM al Learner Lab, no podem implementar aquest model directament.\nimport boto3\n\n ec2 = boto3.client('ec2')\n ssm = boto3.client('ssm')\n\n def lambda_handler(event, context):\n     # ID de la instncia EC2\n     instance_id = 'i-0fea0f11ae793a212'\n\n     # Comanda a executar a la instncia EC2\n     command = \"aws s3 sync s3://amsa-&lt;vostre_nom&gt;-notebooks /srv/jupyter/notebooks/\"\n\n     # Executa la comanda via AWS Systems Manager\n     response = ssm.send_command(\n         InstanceIds=[instance_id],\n         DocumentName=\"AWS-RunShellScript\",\n         Parameters={'commands': [command]}\n     )\n     return {\n         'statusCode': 200,\n         'body': 'Comanda de sincronitzaci贸 enviada correctament.'\n     }\n\n\nActivitats\n\nImplementa un timer de systemd que executi un script de sincronitzaci贸 cada 5 minuts.\nImplementa una funci贸 lambda que per cada modificaci贸 al bucket S3, creei un fitxer de backup al bucket de backup. Nota: Aquesta lambda si es pot implementar al Learner Lab, utiltizeu el LABROLE per executar el codi que c貌pia els fitxers al bucket de backup i seleccioneu lS3 com a trigger. Podeu fer servir python.",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#aws-s3---cheat-sheet",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#aws-s3---cheat-sheet",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": " AWS S3 - Cheat Sheet",
    "text": " AWS S3 - Cheat Sheet\n\nCopiar un document de EC2 a S3:\naws s3 cp &lt;local-path&gt;/file.txt s3://&lt;bucket-name&gt;/file.txt\nCopiar un document de S3 a EC2:\naws s3 cp s3://&lt;bucket-name&gt;/file.txt &lt;local-path&gt;/file.txt\nSincronitzar un directori local amb un bucket de S3:\naws s3 sync &lt;local-directory&gt; s3://&lt;bucket-name&gt;\nSincronitzar un bucket de S3 amb un directori local:\naws s3 sync s3://&lt;bucket-name&gt; &lt;local-directory&gt;\nCrear una carpeta a S3:\naws s3 mb s3://&lt;bucket-name&gt;/folder\nEliminar un document de S3:\naws s3 rm s3://&lt;bucket-name&gt;/file.txt\nEliminar documents de S3 de manera recursiva:\naws s3 rm s3://&lt;bucket-name&gt;/ --recursive\nLlistar els documents dun bucket de S3:\naws s3 ls s3://&lt;bucket-name&gt;\nLlistar els documents dun bucket de S3 de forma recursiva:\naws s3 ls s3://&lt;bucket-name&gt; --recursive",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#activitats-extra",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#activitats-extra",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "Activitats extra",
    "text": "Activitats extra\n\nBusca informaci贸 sobre con instal路la un servidor similar a Dropbox o Drive utilitzant EC2 i S3. Aquest servidor pot utilitzant el programari Nextcloud o ownCloud. Resumeix els passos principals per fer-ho. No pots utiltizar docker per aquesta activitat. A m茅s a m茅s, comparar el cost de tenir aquest servidor amb el cost dutilitzar serveis com Dropbox o Google Drive per a diferents quantitats demmagatzematge (per exemple, 100GB, 1TB, 10TB).",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/03-jupyter/01-aws-jupyter.html#finalitzaci贸-i-neteja",
    "href": "laboratories/03-jupyter/01-aws-jupyter.html#finalitzaci贸-i-neteja",
    "title": "Servidor de Python al Cloud amb Emmagatzematge S3 Compartit",
    "section": "Ч Finalitzaci贸 i Neteja",
    "text": "Ч Finalitzaci贸 i Neteja\nRecorda eliminar tots els recursos creats a AWS per evitar crrecs innecessaris.\n\nHappy SysAdmin! 碉锔",
    "crumbs": [
      "Laboratoris",
      "Storage and Services",
      "Laboratori 04 路 Servidor de Python al Cloud amb Emmagatzematge S3 Compartit"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html",
    "href": "laboratories/02-network/01-aws-wordpress.html",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "",
    "text": "En aquest laboratori intensiu, dissenyarem i implementarem una arquitectura de xarxa robusta i segura per allotjar una aplicaci贸 de WordPress. Larquitectura es basa en la separaci贸 de capes (p煤blica, aplicaci贸, dades) i l煤s de Zones de Disponibilitat (AZ) per garantir que el nostre WordPress sigui altament disponible i resistent a fallades.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#diagrama-de-larquitectura",
    "href": "laboratories/02-network/01-aws-wordpress.html#diagrama-de-larquitectura",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Diagrama de lArquitectura",
    "text": "Diagrama de lArquitectura\n\n\n\nEsquema de components, conexions i elements de larquitectura\n\n\nLa imatge mostra com a trav茅s dinternet, els usuaris accedeixen al Load Balancer, que distribueix el trfic a les instncies EC2 que allotgen WordPress. Aquestes instncies es connecten a la base de dades RDS per gestionar el contingut de WordPress. La instncia EC2 en la DMZ permet lacc茅s segur per a ladministraci贸 dels recursos privats.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#objectius",
    "href": "laboratories/02-network/01-aws-wordpress.html#objectius",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Objectius",
    "text": "Objectius\n\nDissenyar i implementar una arquitectura de xarxa segura i altament disponible a AWS.\nConfigurar VPCs, subxarxes, taules de rutes i grups de seguretat.\nConfigurar una VPN segura per a lacc茅s administratiu.\nConfigurar un load balancer per distribuir el trfic a les instncies EC2.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#requeriments-pr猫vis",
    "href": "laboratories/02-network/01-aws-wordpress.html#requeriments-pr猫vis",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Requeriments Pr猫vis",
    "text": "Requeriments Pr猫vis\n\nAcc茅s al curs AWS Academy Learner Lab.\nCompletar el laboratori Desplegament duna aplicaci贸 web amb AWS per entendre els conceptes bsics dAWS i la configuraci贸 inicial de WordPress.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#vpc-i-subxarxes",
    "href": "laboratories/02-network/01-aws-wordpress.html#vpc-i-subxarxes",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "VPC i Subxarxes",
    "text": "VPC i Subxarxes\nEl primer pas en la nostra arquitectura 茅s definir una VPC (Virtual Private Cloud) i les subxarxes necessries per a茂llar els diferents components de laplicaci贸. La VPC proporcionar un entorn de xarxa virtualitzat on podrem desplegar els nostres recursos dAWS. La configurarem amb la xarxa 10.0.0.0/16, la qual ens proporciona fins a 65.536 adreces IP, m茅s que suficients per al nostre cas d煤s.\n\n\n\n\n\n\nNotaCIDR, Hosts i Adreces Reservades \n\n\n\nLa mscara de subxarxa determina el nombre dadreces IP disponibles dins duna xarxa o subxarxa. Aix貌 sexpressa mitjan莽ant la Notaci贸 CIDR (Classless Inter-Domain Routing), on el valor (/n) indica la quantitat de bits reservats per a la part de Xarxa. Una mscara de subxarxa de /16 significa que els primers 16 bits de ladre莽a IP estan reservats per a la identificaci贸 de la xarxa, deixant els altres 16 bits per a la identificaci贸 dels hosts. Aix貌 permet tenir fins a 65.536 adreces IP (\\(2^{32-16}\\)) dins daquesta xarxa.\nQuan feu el Subnetting per crear subxarxes dins de la vostra VPC, esteu augmentant el valor CIDR (per exemple, de /16 a /24), per tal de reduir la mida de les subxarxes i a茂llar millor el trfic. Per exemple, una subxarxa amb CIDR /24 t茅 256 adreces IP (\\(2^{32-24}\\)).\nRecordeu que el total dadreces calculat no 茅s el total dadreces 煤tils per als vostres servidors (hosts). Algunes adreces es reserven per a usos especials, com identificar la xarxa i la difusi贸 (broadcast).\n\n\nPodem definir la VPC a trav茅s de la interf铆cie web dAWS, utilitzant els formularis disponibles:\n\n\n\nDefinici贸 de la VPC utilitzant AWS\n\n\n\nCreaci贸 de les subxarxes\nA continuaci贸, afegirem les subxarxes necessries per a la nostra arquitectura. Aneu a VPC  Subnets  Create subnet. Seleccioneu la VPC que acabem de crear i afegiu les subxarxes seg眉ents:\n\nAMSA-DMZ-01: Subxarxa p煤blica a la zona us-east-1a. Aquesta subxarxa allotjar la instncia EC2 que far de pont segur dacc茅s (mitjan莽ant t煤nel SSH) per a la gesti贸 de tots els recursos privats. (10.0.1.0/24).\n\n\n\n\nAMSA-DMZ-01\n\n\n\nAMSA-DMZ-02: Subxarxa p煤blica a la zona us-east-1b. Aquesta subxarxa allotjar la instncia EC2 que far de pont segur dacc茅s (mitjan莽ant t煤nel SSH) per a la gesti贸 de tots els recursos privats. (10.0.2.0/24).\n\n\n\n\nAMSA-DMZ-02\n\n\n\nAMSA-Private01: Subxarxa privada per a les instncies de WordPress a la zona de disponibilitat us-east-1a. (10.0.3.0/24).\n\n\n\n\nAMSA-Private01\n\n\n\nAMSA-Private02: Subxarxa privada per a les instncies de WordPress a la zona de disponibilitat us-east-1b. (10.0.4.0/24)\n\n\n\n\nAMSA-Private02\n\n\n\nAMSA-Data: Subxarxa privada per a dades a la zona de disponibilitat us-east-1c. (10.0.5.0/24)\n\n\n\n\nAMSA-Data",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#taules-denrutament-i-associacions",
    "href": "laboratories/02-network/01-aws-wordpress.html#taules-denrutament-i-associacions",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Taules dEnrutament i Associacions",
    "text": "Taules dEnrutament i Associacions\nPer gestionar les rutes del trfic i determinar com es distribueix entre les subxarxes, crearem taules de rutes i les associem a les subxarxes corresponents.\n\nConfiguraci贸 del Gateway dInternet\nUtilitzarem un Gateway dInternet (IGW) per permetre que les subxarxes p煤bliques (AMSA-DMZ-01 i AMSA-DMZ-02) tinguin acc茅s a Internet tant per a trfic entrant com sortint. Per fer-ho, primer crearem el IGW i despr茅s lassociarem a la nostra VPC.\nEl primer pas 茅s crear el Gateway dInternet. Aneu a VPC  Internet Gateways  Create internet gateway. Un cop creat, lanomeneu AMSA-IG.\n\n\n\nGateway dInternet per a la VPC\n\n\nEl segon pas 茅s associar el Gateway dInternet amb la VPC. Seleccioneu el Gateway dInternet que acabem de crear i feu clic a Actions  Attach to VPC. Seleccioneu la VPC AMSA-VPC i feu clic a Attach internet gateway.\n\n\n\nAssociaci贸 del Gateway dInternet amb la VPC\n\n\n\n\n\nAssociaci贸 del Gateway dInternet amb la VPC\n\n\n\n\n\n\n\n\nAlertaAttached IGW \n\n\n\nAssegureu-vos que el Gateway dInternet estigui correctament associat a la VPC. Si no est associat, les subxarxes p煤bliques no podran accedir a Internet.\n\n\n\n\nCreaci贸 de les taules de rutes\nCada subxarxa necessita una taula de rutes per definir com es dirigeix el trfic sortint i entrant. Crearem taules de rutes espec铆fiques per a cada tipus de subxarxa (p煤blica i privada) i les associem a les subxarxes corresponents.\n\nEnrutament per a les subxarxes p煤bliques (DMZ)\nEl primer pas 茅s crear la taula de rutes per a les subxarxes p煤bliques. Aneu a VPC  Route Tables  Create route table. Seleccioneu la VPC AMSA-VPC i anomeneu la taula de rutes AMSA-DMZ01-RT.\n\n\n\nTaula de rutes per a la subxarxa AMSA-DMZ01-RT\n\n\nEl segon pas 茅s associar la taula de rutes (AMSA-DMZ01-RT) amb la subxarxa AMSA-DMZ-01 i permetre el trfic de sortida a Internet a trav茅s del Gateway dInternet que hem creat anteriorment.\n\n\n\nAssociaci贸 de la taula de rutes amb la subxarxa AMSA-DMZ-01\n\n\nEl tercer pas 茅s permetre el trfic de sortida a Internet a trav茅s del Gateway dInternet que hem creat anteriorment. Per fer-ho aneu a la secci贸 Routes i clicareu a Edit routes. A continuaci贸, Add route i editareu (Destination: 0.0.0.0/0; Target:Seleccionar el AMSA-IG).\n\n\n\nPermetem el trfic amb lexterior a trav茅s del IG\n\n\n\n\n\n\n\n\nAlertaAMSA-DMZ-02 \n\n\n\nRealitzeu els mateixos passos per a la subxarxa AMSA-DMZ-02, modificant nom茅s el nom de la taula de rutes i lassociaci贸 amb la subxarxa.\n\n\n\n\nEnrutament per a les subxarxes privades\nLes subxarxes privades no tenen acc茅s directe a Internet per motius de seguretat. Per tant, necessitem configurar les taules de rutes per a aquestes subxarxes de manera que puguin accedir a Internet a trav茅s dun NAT Gateway (Network Address Translation Gateway). Aix貌 permetr que les instncies dins de les subxarxes privades puguin iniciar connexions cap a lexterior, per貌 impedir que lexterior inici茂 connexions cap a elles.\n\n\n\n\n\n\nNotaNAT Gateway \n\n\n\nUn NAT Gateway 茅s un servei gestionat per AWS que permet a les instncies en una subxarxa privada accedir a Internet per a actualitzacions de programari, descrregues de paquets, etc., sense exposar aquestes instncies directament a Internet. El NAT Gateway tradueix les adreces IP privades de les instncies a una adre莽a IP p煤blica quan aquestes instncies fan peticions a Internet.\n\n\nPer crear el NAT Gateway, necessitem una IP elstica (Elastic IP). Per tant, primer crearem una IP elstica i despr茅s la utilitzarem per crear el NAT Gateway. Lanomeneu AMSA-NAT-EIP.\n\n\n\nCreaci贸 de la IP elstica\n\n\n\n\n\nActualitzar el nom de la IP elstica\n\n\nUn cop tenim la IP elstica, podem crear el NAT Gateway. Lanomeneu AMSA-NG i lassocieu a la subxarxa AMSA-DMZ-01.\n\n\n\nCreaci贸 del NAT Gateway\n\n\nCrearem la taula de rutes (AMSA-Private01-RT) per a la subxarxa AMSA-Private01 i lassociarem a la subxarxa. Aquesta taula de rutes permetr que les instncies dins daquesta subxarxa accedeixin a Internet a trav茅s del NAT Gateway.\n\n\n\nTaula de rutes per a la subxarxa AMSA-Private01\n\n\nEl segon pas 茅s associar la taula de rutes (AMSA-Private01-RT) amb la subxarxa AMSA-Private01 i permetre el trfic de sortida a Internet a trav茅s del NAT Gateway que hem creat anteriorment.\n\n\n\nCreaci贸 de la taula de rutes per a la subxarxa AMSA-Private01\n\n\nEl tercer pas 茅s permetre el trfic de sortida a Internet a trav茅s del NAT Gateway que hem creat anteriorment. Per fer-ho aneu a la secci贸 Routes i clicareu a Edit routes. A continuaci贸, Add route i editareu (Destination: 0.0.0.0/0; Target:Seleccionar el AMSA-NG).\n\n\n\n\n\n\nAlertaAMSA-Private02 \n\n\n\nRepetiu els mateixos passos per a la subxarxa AMSA-Private02, modificant nom茅s el nom de la taula de rutes i lassociaci贸 amb la subxarxa.\n\n\n\n\nEnrutament per a la subxarxa de dades (AMSA-Data)\nLa subxarxa AMSA-Data no allotjar instncies que necessitin acc茅s a Internet. Per tant, no necessitem configurar cap ruta per a aquesta subxarxa. Crearem una taula de rutes buida i lassociarem a la subxarxa AMSA-Data. Aquesta xarxa ser completament a茂llada i nom茅s permetr la comunicaci贸 interna dins de la VPC.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#grups-de-seguretat",
    "href": "laboratories/02-network/01-aws-wordpress.html#grups-de-seguretat",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Grups de Seguretat",
    "text": "Grups de Seguretat\nEls grups de seguretat (Security Groups) s贸n una eina per controlar el trfic de xarxa de les instncies i altres recursos dAWS, actuant com un tallafocs virtual. Permeten definir regles que especifiquen quines connexions estan permeses tant dentrada (inbound) com de sortida (outbound).\n\nTrafic inbound: Permet decidir quins tipus de connexions entrants (cap al recurs) s贸n permeses.\nTrafic outbound: Controla quines connexions sortints (des del recurs cap a altres destinacions) estan autoritzades.\n\n\nGrup de Seguretat per a les instncies EC2\n\nConnexions entrants (inbound) per als serveis web HTTP (port 80) i HTTPS (port 443), accessibles des de qualsevol origen.\nConnexions SSH (port 22) per a administraci贸 remota, tamb茅 accessibles des de qualsevol origen (inicialment, per貌 m茅s endavant es restringiran).\nTotes les connexions sortints (outbound), que per defecte estan permeses a AWS, cosa que permet a les instncies EC2 comunicar-se amb altres recursos com ara RDS.\n\nPer fer-ho, navegarem a la consola de VPC dAWS, seleccionarem la secci贸 Security Groups i clicarem a Create security group. A continuaci贸, omplirem els camps amb la informaci贸 necessria i clicarem a Create security group. El podeu anomenar AMSA-WP-SG.\n\n\n\nGrup de Seguretat per a les instncies EC2\n\n\n\n\n\n\n\n\nNotaNota sobre la seguretat \n\n\n\nEn aquest moment, estem permetent tot el trfic de xarxa per als serveis web i SSH. Quan ho tinguem tot configurat, restringirem aquest acc茅s 煤nicament al trafic entrant provinent del balancejador de crrega pels serveis web i a la nostra xarxa interna per a SSH.\n\n\n\n\nGrup de Seguretat per a la base de dades RDS\n\nConnexions inbound: Nom茅s permetr trfic al port 3306 (MySQL) i exclusivament des de les instncies EC2 que pertanyin al grup de seguretat AMSA-WP-SG.\nConnexions outbound: Per defecte, AWS permetr totes les connexions sortints, cosa que garanteix que la base de dades pugui comunicar-se amb altres recursos si 茅s necessari.\n\nPer fer-ho, navegarem a la consola de VPC dAWS, seleccionarem la secci贸 Security Groups i clicarem a Create security group. A continuaci贸, omplirem els camps amb la informaci贸 necessria i clicarem a Create security group.\n\n\n\nGrup de Seguretat per a la base de dades RDS\n\n\n\n\nResum\n\n\n\n\n\n\n\n\nGrup de Seguretat\nInbound\nOutbound\n\n\n\n\nAMSA-WP-SG\nHTTP (80) i HTTPS (443) des de 0.0.0.0/0; SSH (22) des de 0.0.0.0/0\nTotes permeses\n\n\nAMSA-DB-SG\nMySQL (3306) des de AMSA-Web-SG\nTotes permeses",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#creaci贸-de-la-base-de-dades-rds",
    "href": "laboratories/02-network/01-aws-wordpress.html#creaci贸-de-la-base-de-dades-rds",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Creaci贸 de la Base de Dades RDS",
    "text": "Creaci贸 de la Base de Dades RDS\nLa base de dades ja la vam configurar en el laboratori anterior Desplegament duna aplicaci贸 web amb AWS. La 煤nica difer猫ncia 茅s que ara la base de dades es troba en una subxarxa privada i nom茅s 茅s accessible des de les instncies EC2 que pertanyen al grup de seguretat AMSA-Web-SG.\n\nCompute resources: Dont connect to an EC2 compute resource\nVPC: AMSA-VPC\nSubnet Group: Create new DB Subnet Group\nPublic accessibility: No\nVPC security group: AMSA-DB-SG\nAvailability Zone: us-east-1d",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#creaci贸-de-les-instncies-ec2",
    "href": "laboratories/02-network/01-aws-wordpress.html#creaci贸-de-les-instncies-ec2",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Creaci贸 de les instncies EC2",
    "text": "Creaci贸 de les instncies EC2\nLes instncies EC2 que allotjaran WordPress es desplegaran en les subxarxes privades, recordeu que vam configurar ansible en el laboratori anterior Desplegament duna aplicaci贸 web amb AWS. AWS ens permet crear plantilles dinstncies (Launch Templates) que faciliten la creaci贸 dinstncies amb una configuraci贸 predefinida. Per tant, crearem una plantilla dinstncia que inclogui la configuraci贸 necessria per a les nostres instncies EC2 de WordPress, enlloc dutiltizar el m猫tode amb ansible que vam utilitzar en el laboratori anterior.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#configuraci贸-del-balancejador-de-crrega",
    "href": "laboratories/02-network/01-aws-wordpress.html#configuraci贸-del-balancejador-de-crrega",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Configuraci贸 del Balancejador de Crrega",
    "text": "Configuraci贸 del Balancejador de Crrega\nEn aquest punt, crearem un balancejador de crrega per a les nostres instncies EC2. Aquest balancejador de crrega ser responsable de distribuir uniformement el trfic entre les instncies EC2 que allotgen WordPress.\nExisteixen 3 tipus de balancejadors de crrega a AWS: Application Load Balancer (ALB), Network Load Balancer (NLB) i Gateway Load Balancer (GWLB). En aquest cas, utilitzarem un Application Load Balancer (ALB), ja que 茅s el recomanat per a aplicacions web que utiltizen HTTP i HTTPS.\nNavegueu a la consola de AWS i seleccioneu el servei EC2. A la barra lateral, seleccioneu Load Balancers i despr茅s Create Load Balancer. Seleccioneu Application Load Balancer i feu clic a Create.\n\nNom del balancejador de crrega: AMSA-ALB\nScheme: Internet-facing\nIP Address Type: IPv4\n\n\n\n\nConfiguraci贸 del balancejador de crrega\n\n\n\nVPC: AMSA-VPC\nAvailability Zones: Seleccionar les zones de disponibilitat on tenim la subxarxa p煤blica AMSA-DMZ-01 (us-east-1a) i les AMSA-DMZ-02 (us-east-1b).\nGrups de Seguretat: Nou grup de seguretat (AMSA-ALB-SG), aquest grup de seguretat permetr el trfic dentrada per als ports 80 (HTTP) i 443 (HTTPS) des de qualsevol origen per貌 restringir el trfic de sortida a les instncies EC2 (grup de seguretat AMSA-WP-SG).\n\n\n\nGrup de Seguretat per al balancejador de crrega\n\n\n\n\n\nConfiguraci贸 del balancejador de crrega\n\n\nListeners: Crearem un listener per al port 80 (HTTP), que redirigir el trfic al port 80 de les instncies EC2. Al port 443 (HTTPS) de moment no configurarem cap redirecci贸. Per fer-ho, primer haureu de crear un Target Group. Aquest grup es necessari per indicar al balancejador de crrega on enviar el trfic.\n\nTarget Group:\n\nTarget Type: Instances\nNom: AMSA-WP-TG\nProtocol: HTTP\nPort: 80\nVPC: AMSA-VPC\nHealth checks: HTTP, ruta /\n\n\n\n\nConfiguraci贸 del target group\n\n\n\n\n\n\n\n\n\n\nNotaHealth Check \n\n\n\nEl balancejador de crrega comprova la salut de les instncies EC2 a trav茅s del port 80 i la ruta /. Aix貌 significa que el balancejador de crrega enviar trfic a les instncies EC2 que responguin correctament a les peticions HTTP a la ruta /. Com que les nostres instncies EC2 tenen WordPress instal路lat, aquestes instncies respondran correctament a les peticions HTTP a la ruta /. Podem deixar la configuraci贸 per defecte. La instal路laci贸 de WordPress inclou una pgina dinici que respondr amb 302 (Found) quan saccedeixi a la ruta arrel (/), per aix貌 pot passar que el health check mostri que la instncia no est saludable. Un cop configurat el WordPress, el health check mostrar que la instncia est saludable.\n\n\n\nSeleccionarem les dos instncies EC2 que allotgen WordPress (AMSA-WP-01 i AMSA-WP-02) i les afegirem al target group. Utilitzant el bot贸 Include as pending below i despr茅s Add to registered.\n\n\n\nConfiguraci贸 del target group\n\n\nUn cop creat el target group, el seleccionarem com a target del listener del balancejador de crrega.\n\n\n\nConfiguraci贸 del balancejador de crrega\n\n\nUn cop creat el balancejador de crrega, heu desperar uns minuts fins que el seu estat passi de Provisioning a Active. Un cop lestat sigui Active, podeu accedir al balancejador de crrega a trav茅s de la seva adre莽a DNS.\n\n\n\n\nBalancejador de crrega actiu\n\n\n\nAra ja podem accedir al balancejador de crrega a trav茅s de la seva adre莽a DNS i veure la pgina dinstal路laci贸 de WordPress:\n\n\n\n\nInstal路laci贸 de WordPress a trav茅s del balancejador de crrega\n\n\nProcedirem a instal路lar WordPress a trav茅s del balancejador de crrega. Seguiu els passos de la instal路laci贸 i configureu lusuari administrador i la contrasenya. Ara ja teniu el servidor web configurat amb WordPress i el balancejador de crrega per distribuir el trfic entre les instncies EC2.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#configuraci贸-vpn",
    "href": "laboratories/02-network/01-aws-wordpress.html#configuraci贸-vpn",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Configuraci贸 VPN",
    "text": "Configuraci贸 VPN\n\nEC2 per desplegar el servidor VPN\nPer desplegar el servidor VPN, crearem una nova instncia EC2 que actuar com a servidor VPN. Aquesta instncia EC2 haur destar en una subxarxa p煤blica connectada a interent. Anomenarem aquesta instncia AMSA-VPN i la situarem a la subxarxa p煤blica AMSA-DMZ-01. Aquesta instncia EC2 utilitzar el grup de seguretat AMSA-VPN-SG que permetr el trfic necessari per al funcionament del servidor VPN.\n\nNavegueu a la consola de AWS i seleccioneu el servei EC2. A la barra lateral, seleccioneu Instances i despr茅s Launch Instances.\nSeleccioneu la imatge Ubuntu Server 22.04 LTS.\nSeleccioneu la instncia t2.micro.\nConfigureu la instncia:\n\nNetwork: AMSA-VPC\nSubnet: AMSA-DMZ-01\nAuto-assign Public IP: Enable\n\n\n\n\nConfiguraci贸 de la instncia EC2 per al servidor VPN\n\n\nConfigureu el grup de seguretat: AMSA-VPN-SG.\nSi reviseu la documentaci贸 dinstal路laci贸 del servidor OpenVPN: OpenVPN Access Server System Administrator Guide. Veure que necessitem els seg眉ents ports oberts: TCP 943, UDP 1194.\n\n\n\nConfiguraci贸 del grup de seguretat per al servidor VPN\n\n\nConnecteu-vos a la instncia EC2 a trav茅s de la consola online de AWS o amb una connexi贸 SSH i executeu la seg眉ent comanda per instal路lar el servidor OpenVPN:\nsudo apt update -y\nsudo apt install ca-certificates gnupg wget net-tools -y\nsudo wget https://as-repository.openvpn.net/as-repo-public.asc -qO /etc/apt/trusted.gpg.d/as-repo-public.asc\nsudo echo \"deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/as-repo-public.asc] http://as-repository.openvpn.net/as/debian jammy main\" | sudo tee /etc/apt/sources.list.d/openvpn-as-repo.list\nsudo apt update && sudo apt install openvpn-as -y\n\n\n\nInstal路laci贸 del servidor OpenVPN\n\n\nAmb aquestes credencials, podreu accedir a la interf铆cie web del servidor OpenVPN a trav茅s del vostre navegador web. Navegueu a la IP p煤blica de la instncia EC2 (en el meu cas https://44.199.196.242:943/admin), com no tenim el certificat SSL configurat, ens sortir un missatge dadvert猫ncia, ignoreu-lo i continueu. Inicieu sessi贸 amb les credencials que heu configurat anteriorment.\n\nNota: Si heu perdut les credencials de lusuari openvpn, les podeu recuperar consultat el fitxer de logs del servidor OpenVPN. Per exemple, podeu consultar el fitxer de logs amb la seg眉ent comanda:\nsudo less /usr/local/openvpn_as/init.log \n\n\n\n\nInterf铆cie web del servidor OpenVPN\n\n\n\nAccepteu els termes de llic猫ncia.\n\n\n\n\nAcceptaci贸 dels termes de llic猫ncia\n\n\n\nAneu a VPN Server/Network Settings i configureu el Hostname or IP Address amb la IP p煤blica de la instncia EC2 on teniu el servidor OpenVPN. Un cop fet, clicareu a Save.\n\n\n\nConfiguraci贸 de la IP p煤blica del servidor VPN\n\n\nAneu a Access Controls/Internet Access and DNS i seleccioneu lopci贸 Split Tunnel per evitar que tot el trfic del client sigui redirigit a trav茅s de la VPN. nicament el trfic dirigit a les subxarxes de la VPC ser redirigit a trav茅s de la VPN.\n\n\n\nConfiguraci贸 de Split Tunnel\n\n\nAneu a Access Controls/Global Access Rules i afegiu una regla per permetre el trfic de la VPN a les subxarxes de la VPC:\n\n\n\nConfiguraci贸 de les regles dacc茅s global\n\n\nAneu a User i creu-vos un usuari i una contrasenya per connectar-vos al servidor VPN.\n\n\n\nCreaci贸 dun usuari per al servidor VPN\n\n\nUn cop tinguem el fitxer de configuraci贸, ja podeu fer un Restart del servei OpenVPN per aplicar tots els canvis. Torneu a accedir a la interf铆cie web del servidor OpenVPN.\nAneu a User/user/Connection Profiles i creeu un perfil de connexi贸 per defecte. Un cop creat us baixar un fitxer de configuraci贸 que despr茅s utilitzarem per connectar-nos al servidor VPN.\n\n\n\nDescrrega del fitxer de configuraci贸 del client VPN\n\n\nInstalleu laplicaci贸 OpenVPN Connect al vostre ordinador. Aquesta aplicaci贸 茅s el client VPN que utilitzarem per connectar-nos al servidor VPN.\nUn cop instal路lat, obriu laplicaci贸 i importeu el fitxer de configuraci贸 que heu descarregat anteriorment.\n\nUn cop tot configurat, actualitzarem el grup de seguretat de les instncies EC2 per permetre el trfic al port 22 煤nicament provinent del servidor VPN. Aix貌 significa que les instncies EC2 nom茅s acceptaran trfic SSH del servidor VPN i no de qualsevol altre origen.\n\n\n\nConfiguraci贸 trfic SSH a Ec2 del servidor VPN\n\n\n\nEn aquest punt, ja no podreu accedir a les instncies EC2 on teniu el servei de WordPress a trav茅s de SSH, ja que el trfic SSH nom茅s es permet des del servidor VPN. Per accedir a les instncies EC2, primer heu de connectar-vos al servidor VPN i despr茅s connectar-vos a les instncies EC2. Per fer-ho:\n\nImporteu el fitxer de configuraci贸 del client OpenVPN Connect a laplicaci贸 i connecteu-vos al servidor VPN.\n\n\n\nConnexi贸 al servidor VPN\n\n\n\nTroubleShooting: Si en el fitxer de configuraci贸 veieu (Server Hostname) una ip del rang 10.0.X.X, aix貌 vol dir que la VPN no sha configurat correctament. Assegureu-vos de reiniciar el servidor i tornar a descarregar el fitxer de configuraci贸 del client, ha de tenir la ip p煤blica del servidor VPN.\n\nUtilitzeu la mateixa contrasenya del usuari openvpn per connectar-vos al servidor VPN.\n\n\n\nConnexi贸 al servidor VPN\n\n\nSi tot ha anat b茅, veureu que esteu connectats al servidor VPN.\n\n\n\nConnexi贸 al servidor VPN\n\n\n\nFinalment, connecteu-vos a les instncies EC2:\n\n\n\nAcc茅s a les instncies EC2 a trav茅s del servidor VPN\n\n\n\nConsideracions importants: El servidor VPN ens permet accedir a les instncies EC2 a trav茅s de SSH, per貌 a partir de ladre莽a interna (10.0.X.X) de la instncia EC2. No podrem accedir a les instncies EC2 a trav茅s de la seva adre莽a p煤blica ja que hem configurat la VPN per accedir a les subxarxes de la VPC.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#neteja-els-recursos-creats",
    "href": "laboratories/02-network/01-aws-wordpress.html#neteja-els-recursos-creats",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Neteja els recursos creats",
    "text": "Neteja els recursos creats\nUn cop finalitzat podeu eliminar totes les instncies EC2 i la base de dades RDS per evitar crrecs innecessaris al vostre compte dAWS.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#exercics-adicionals",
    "href": "laboratories/02-network/01-aws-wordpress.html#exercics-adicionals",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Exercics Adicionals",
    "text": "Exercics Adicionals\n\nCom millorar铆eu els grups de seguretat, quins canvis far铆eu?\nQu猫 caldria fer per connectar un client MySQL des de casa a la base de dades RDS? Expliqueu els passos.\nPrepara un script que faci una prova de crrega al balancejador de crrega i mostri com es distribueix el trfic entre les instncies EC2.\nGenera un infra_v3.yaml que contingui tota la infraestructura com a codi.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/02-network/01-aws-wordpress.html#recursos-addicionals",
    "href": "laboratories/02-network/01-aws-wordpress.html#recursos-addicionals",
    "title": "Desplegament duna aplicaci贸 web amb alta disponibilitat amb AWS",
    "section": "Recursos Addicionals",
    "text": "Recursos Addicionals\n\ninfra_v1.yaml: Aquest fitxer cont茅 la infraestructura com a codi per crear tots els recursos dAWS utilitzant AWS CloudFormation fins a la creaci贸 de templates de llan莽ament.\ninfra_v2.yaml: Aquest fitxer cont茅 la infraestructura com a codi per crear tots els recursos dAWS utilitzant AWS CloudFormation sense el load balancer ni les instancies EC2 corresponents als WordPress.",
    "crumbs": [
      "Laboratoris",
      "Networking",
      "Laboratori 03 路 Desplegament d'una aplicaci贸 web amb alta disponibilitat amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html",
    "href": "laboratories/01-foundations/01-aws-introduction.html",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "",
    "text": "Per preparar lentorn de treball a AWS, seguirem els seg眉ents passos:\n\nCrear un compte dAWS Academy\nAccedir al tauler dAWS\nCrear un parell de claus SSH\nLlan莽ar una instncia EC2\nConnectar-se a la instncia EC2 mitjan莽ant SSH\n\n\n\nReviseu el vostre correu electr貌nic per veure si heu rebut un correu electr貌nic dAWS Academy amb lassumpte Invitaci贸 al curs. Si no lheu rebut, feu-mho saber. El correu electr貌nic contindr un bot贸 amb el text Get Started. Feu clic en aquest bot贸 per iniciar el proc茅s de registre.\n\nDespr茅s de fer clic al bot贸 Get Started, sereu redirigits a la pgina dinici de sessi贸 dAWS Academy. Ara heu de fer clic al bot贸 Create my account per iniciar el proc茅s de registre, com es mostra a continuaci贸:\n\nSeleccioneu una contrasenya i completeu el proc茅s de registre. Un cop hgiu completat el proc茅s de registre, sereu redirigits al tauler dAWS Academy. Enhorabona! Heu creat amb 猫xit el vostre compte dAWS Academy.\n\n\n\nAra que heu creat el vostre compte dAWS Academy, podeu accedir al tauler dAWS. El primer que heu de fer 茅s fer clic a la pestanya Courses (1) a la part esquerra de la pantalla. Veureu una llista de cursos disponibles per a vosaltres. Feu clic al curs AWS Academy Learner Lab (2), com es mostra a la captura de pantalla seg眉ent:\n\n\n\n\n\n\n\nNota\n\n\n\nEl curs AWS Academy Learner Lab 茅s el curs que utilitzareu per completar els laboratoris prctics, si recordeu a la primera sessi贸 vam parlar del curs AWS Academy Cloud Foundations, que no 茅s obligatori per貌 茅s altament recomanat per a aquells que vulguin tenir una base m茅s s貌lida i obtenir el 5% de lapartat (Async Activities AWS).\n\n\n\n\n\n\n\n\nAlerta\n\n\n\nTingueu en compte que nom茅s hi ha un curs a la captura de pantalla seg眉ent, no 茅s el que haur铆eu de veure, haur铆eu de veure dos cursos, un per al AWS Academy Cloud Foundations i un per al AWS Academy Learner Lab. Si no veieu el curs AWS Academy Cloud Foundations i voleu tenir acc茅s a ell, feu-mho saber.\n\n\nAra hem de buscar la pestanya Modules (1) a la part esquerra de la pantalla. Feu clic en ella i veureu una llista de m貌duls disponibles per a vosaltres. Feu clic en el m貌dul AWS Academy Learner Lab (2), com es mostra a continuaci贸:\n\nAra se us demanar que accepteu els termes i condicions del curs. Feu-ho despla莽ant-vos fins al final de la pgina i fent clic al bot贸 I Agree.\n\nDespr茅s dacceptar els termes i condicions, ara nom茅s heu de fer clic al bot贸 Start Lab.\n\nAra doneu-li uns minuts per carregar. Veureu aquesta animaci贸 mentre el laboratori sest preparant per a vosaltres:\n\nFinalment, quan el laboratori estigui llest, veureu que el punt al costat de AWS 茅s verd. Tamb茅 veureu un temporitzador que compta enrere des de 4 hores. Aquest 茅s el temps que teniu per treballar al laboratori. A lesquerra del temporitzador veureu com va el vostre pressupost. Teniu un pressupost de 50 d貌lars per gastar en serveis dAWS. Feu clic a AWS per accedir al tauler dAWS, com es mostra a continuaci贸:\n\n\n\n\n\n\n\nImportantConsideracions sobre els laboratoris\n\n\n\n\nEls laboratoris s贸n un entorn real dAWS, per tant, 茅s important que tingueu cura dels recursos i de les vostres accions.\nSi superes el pressupost de 50 d貌lars, ja no tindrs acc茅s al tauler dAWS i perdrs la teva feina. Assegureu-vos de vigilar el pressupost, 茅s responsabilitat de cada estudiant mantenir-se dins del pressupost.\nEls laboratoris tenen una durada de 4 hores. Un cop passades les 4 hores, la sessi贸 expirar i no podreu accedir al tauler dAWS. No obstant aix貌, aix貌 no vol dir que perdrs el teu treball automticament. Les tasques i recursos que has creat (com ara instncies EC2, buckets de S3, etc.) es mantindran accessibles entre sessions, sempre que no els eliminis manualment. Podeu tornar a iniciar el laboratori de forma il路limitada, per貌 茅s una bona prctica aturar o tancar manualment els serveis que ja no necessiteu per evitar que consumeixin recursos innecessriament.\n\nPer tant, si comences un laboratori i el deixes a mig fer, podrs reprendrel en una sessi贸 posterior.\n\n\nGenial! Ara heu accedit al tauler dAWS. Veureu una pantalla similar a la seg眉ent:\n\n\n\n\nLa clau SSH 茅s un mecanisme de seguretat que permet lautenticaci贸 segura entre dos sistemes. El servidor dAmazon EC2 t茅 la clau p煤blica i el client (el vostre ordinador local) t茅 la clau privada. Quan el client es connecta al servidor, el servidor comprova si la clau p煤blica del client coincideix amb la clau privada del servidor. Si les claus coincideixen, el client es connecta al servidor. Per tant, la clau privada no sha de compartir amb ning煤. Mentre que la clau p煤blica es pot compartir amb qualsevol i la podeu fer servir en m煤ltiples servidors. A dia davui, no hi ha cap mecanisme per obtenir la clau privada a partir de la clau p煤blica.\nPer crear un parell de claus SSH, utilitzarem la comanda ssh-keygen. Aquesta comanda est disponible a la majoria dels sistemes operatius, inclosos Linux, MacOS i Windows (a trav茅s de PowerShell o Windows Subsystem for Linux - WSL). Si utilitzeu Windows i no teniu acc茅s a ssh-keygen, podeu utilitzar eines com PuTTYgen per generar les claus SSH.\nAquesta comanda t茅 diversos parmetres que permeten personalitzar la clau SSH. Els parmetres m茅s comuns s贸n:\n\n-t: Especifica el tipus de xifratge de la clau. Els tipus m茅s comuns s贸n rsa, dsa, ecdsa i ed25519.\n-f: Especifica el nom del fitxer on es guardar la clau.\n-b: Especifica la longitud de la clau en bits.\n\n\n\n\n\n\n\nNota\n\n\n\ns molt important entendre quan estem treballant al nostre ordinador local i quan estem treballant a la mquina remota. El primer pas sempre ser obrir un terminal al nostre propi ordinador, per貌 un cop ens connectem a la mquina remota mitjan莽ant lordre SSH, encara que sembli que res no ha canviat, el terminal ara est connectat a la mquina remota. Aix貌 vol dir que a partir dara les ordres que escrivim sexecutaran a la mquina remota, no al nostre ordinador local. Si no esteu segurs si esteu treballant al vostre ordinador local o a la mquina remota, nom茅s heu descriure pwd i veure quin 茅s el resultat. Si 茅s el vostre ordinador local, veureu la ruta al directori en qu猫 esteu al vostre ordinador local, si 茅s la mquina remota, veureu la ruta al directori en qu猫 esteu a la mquina remota. pwd significa print working directory.\n\n\nEl primer pas per crear el parell de claus SSH ser assegurar-nos que el directori .ssh existeix. Per fer-ho, obriu un terminal al vostre ordinador local i escriviu la seg眉ent ordre:\nmkdir .ssh\n\n\n\n\n\n\nAlerta\n\n\n\nSi el directori .ssh ja existeix, obtindreu un error indicant que el directori ja existeix. Aix貌 茅s normal, nom茅s vol dir que el directori ja estava all.\n\n\nAra crearem el parell de claus SSH. Escriviu la seg眉ent ordre:\nssh-keygen -t rsa -f .ssh/aws-keypair\nSe us demanar que introdu茂u una contrasenya. Podeu deixar-la buida prement Enter dues vegades (us recomano fer-ho per simplicitat, si no, cada vegada que us connecteu a la mquina remota haureu dintroduir la contrasenya). Haur铆eu de veure una sortida similar a la seg眉ent:\nGenerating public/private rsa key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in .ssh/aws-keypair\nYour public key has been saved in .ssh/aws-keypair.pub\nThe key fingerprint is:\nSHA256:uhINFvYaJh6MbwFQCXdZyrW7W46jFGHUhLglDgQ5OYE ferran@DESKTOP-0841\n+---[RSA 3072]----+\n|XBooo*+          |\n|E.++*o..         |\n| O ==o.          |\n|. B.=...         |     \n| o *.=. S        |\n|  + o..o         |\n| .  ..o .        |\n|   .. .*         |\n|    .o+..        |\n+----[SHA256]-----+\nAqu铆, ssh-keygen 茅s lordre per generar el parell de claus, -t rsa especifica el tipus de clau a crear, en aquest cas una clau RSA, i -f .ssh/aws-keypair especifica el nom del fitxer per al parell de claus. Podeu anomenar el fitxer com vulgueu, per貌 茅s important recordar el nom que li heu donat. En aquest cas, lestem anomenant aws-keypair. Us recomano que el nomeu igual que jo per no confondre-us m茅s endavant.\n\n\n\n\n\n\nConsellEntendre les claus SSH - Veure video\n\n\n\nEs clau entendre com funcionen les claus p煤bliques i privades i com sutilitzen per establir una connexi贸 SSH, heu de veure aquest v铆deo.\n\n\nUna altra vegada, podem comprovar el contingut del directori .ssh escrivint la seg眉ent ordre:\nls .ssh\nHaur铆em de veure ara dos fitxers, aws-keypair i aws-keypair.pub. El primer 茅s la clau privada i el segon 茅s la clau p煤blica. La clau privada mai sha de compartir amb ning煤, mentre que la clau p煤blica 茅s la que sha de compartir amb la mquina remota. Una ordre 煤til per inspeccionar el contingut dun fitxer 茅s cat. Per exemple, per veure el contingut de la clau p煤blica, escriviu la seg眉ent ordre:\ncat .ssh/aws-keypair.pub\n\n\n\n\n\n\nNota\n\n\n\nTamb茅 podeu inspeccionar el contingut de la carpeta .ssh i dels fitxers que hi ha dins utilitzant lExplorador de fitxers (o Finder en dispositius Mac). Per貌 tingueu cura, per defecte, les carpetes i fitxers que comencen amb un . (com .ssh) estan ocults en la majoria dexploradors de fitxers i si voleu poder veurels, haureu dhabilitar lopci贸 per mostrar fitxers ocults. Consulteu aquest tutorial per veure com fer-ho al vostre sistema operatiu. Una altra cosa a tenir en compte 茅s que les extensions de fitxer (茅s a dir, la part del nom del fitxer que ve despr茅s del darrer .) tamb茅 solen estar ocultes, aix貌 vol dir que a lExplorador de fitxers potser veieu dos fitxers anomenats aws-keypair quan en realitat un 茅s aws-keypair i laltre 茅s aws-keypair.pub. Aqu铆 teniu un tutorial sobre com mostrar les extensions de fitxer al vostre sistema operatiu.\nNo cal que us preocupeu per res daix貌 si esteu utilitzant el terminal, el terminal us mostrar els fitxers i les seves extensions tal com s贸n. Per貌 per veure fitxers i carpetes ocults (aquells que comencen amb un .) haureu dutilitzar lordre ls -a.\nls -a .ssh\n\n\nHem creat un parell de claus SSH que podem utilitzar per connectar-nos a mquines remotes. A continuaci贸, importarem la nostra clau p煤blica a AWS.\n\n\n\nAra que hem creat el nostre parell de claus SSH, hem dimportar la clau p煤blica a AWS per poder utilitzar-la per connectar-nos a les instncies EC2 que crearem m茅s endavant. Per fer-ho, hem de tornar al tauler dAWS, que 茅s on vam acabar despr茅s de completar el Pas 2.\nAra anirem a la barra de cerca i buscarem el servei EC2. Escriviu EC2 a la barra de cerca i feu clic al servei EC2, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra veureu el tauler dEC2. A la part esquerra de la pantalla, veureu una llista dopcions. Feu clic a Key Pairs (Pares de claus) i despr茅s a Create key pair (Crear parell de claus), com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra heu de donar un nom al parell de claus. Podeu anomenar-lo com vulgueu, per貌 us suggereixo que el anomeneu aws-keypair per mantenir les coses simples. Assegureu-vos que lopci贸 Key type (Tipus de clau) estigui configurada a RSA i que lopci贸 Private key file format (Format del fitxer de clau privada) estigui configurada a PEM. Aix貌 茅s important perqu猫 la clau privada sha dutilitzar en format PEM per connectar-se a la mquina remota. Feu clic a Create key pair (Crear parell de claus), com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\n\n\n\n\n\n\nNota\n\n\n\nPodeu tamb茅 fer clic al bot贸 Browse per seleccionar el fitxer de clau p煤blica des del vostre ordinador. Nom茅s cal que feu clic a Browse, navegueu fins a la carpeta .ssh i seleccioneu el fitxer aws-keypair.pub. Per貌 recordeu, el fitxer ha de ser el fitxer de clau p煤blica, no el fitxer de clau privada. s a dir, el fitxer ha de tenir lextensi贸 .pub. Un cop hgiu seleccionat el fitxer, feu clic a Import Key Pair.\nRecordeu que com sha explicat a la nota anterior, potser no veureu la carpeta .ssh a lexplorador de fitxers i potser no veureu lextensi贸 .pub del fitxer. Si teniu problemes amb aix貌, us recomano utilitzar el terminal per copiar el contingut del fitxer com es mostra a la captura de pantalla anterior.\n\n\nAra haur铆eu de veure el parell de claus que acabeu dimportar a la llista de parells de claus. Probablement hi haur un altre parell de claus all, aix貌 est b茅, podeu ignorar-lo. Perfecte! Ara heu importat la clau p煤blica a AWS. A continuaci贸, crearem una instncia EC2 i la configurarem per utilitzar el parell de claus que acabem dimportar.\n\n\n\nEl primer pas ser anar al tauler dEC2. Podeu fer-ho escrivint EC2 a la barra de cerca i fent clic al servei EC2, com vam fer al principi del Pas 3:\n\n\n\nAWS Dashboard\n\n\nUn cop estigueu al tauler dEC2, feu clic a Instances &gt; Launch Instance, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nDeixeu-ho tot com est excepte lopci贸 Key pair (login) (Parell de claus (inici de sessi贸)) (haureu de despla莽ar-vos cap avall per trobar-la). Feu clic al men煤 desplegable i seleccioneu el parell de claus que heu importat anteriorment. En aquest cas, hauria de ser aws-keypair. Feu clic a Launch instance, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra tenim una instncia EC2 en execuci贸 amb la nostra clau p煤blica importada. Aix貌 significa que tenim una mquina remota a AWS a la qual podem connectar-nos des del nostre ordinador local mitjan莽ant SSH. Vegem com fer-ho.\n\n\n\nAbans de connectar-nos a la mquina remota, vull que proveu alguns ordres al vostre ordinador local que despr茅s repetirem un cop estiguem connectats a la mquina remota. Una de les ordres 茅s pwd, que significa print working directory, com ja sha comentat anteriorment. Aquesta ordre us mostrar la ruta al directori en qu猫 esteu actualment. Laltra ordre 茅s whoami, que us mostrar el nom dusuari amb el qual heu iniciat sessi贸. Proveu aquestes ordres al vostre ordinador local i recordeu-ne la sortida. Les repetirem un cop estiguem connectats a la mquina remota.\nA continuaci贸 es mostra la sortida que obtinc al meu ordinador local:\nPS C:\\Users\\fnao&gt; pwd\n\nPS C:\\Users\\fnao&gt; whoami\ngft\\fnao\nPS C:\\Users\\fnao&gt;\n\n\n\n\n\n\nAlerta\n\n\n\nEl ordinador local que utilitzo 茅s un porttil amb Windows, aix铆 que la sortida ser diferent de la vostra si esteu utilitzant un Mac o un ordinador amb Linux. Substitueix fnao pel vostre nom dusuari i C:\\Users\\fnao per la ruta al vostre directori dusuari.\n\n\nPer connectar-nos a la instncia EC2, utilitzarem el terminal del nostre ordinador local. Aix铆 com vam fer al principi Pas 3, obriu un terminal al vostre ordinador local. Utilitzarem lordre ssh per connectar-nos a la mquina remota. Lordre tindr aquest aspecte:\nssh -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;\nHaureu de substituir &lt;public-ip&gt; per la IP p煤blica de la instncia EC2. Per trobar la IP p煤blica, torneu al tauler dEC2 i feu clic a Instances a la part esquerra de la pantalla. Veureu una llista dinstncies, feu clic a la instncia que heu creat. Veureu la IP p煤blica a la part inferior de la pantalla com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nTant ladre莽a Public IPv4 address com el Public IPv4 DNS es poden utilitzar com a &lt;public-ip&gt; a lordre ssh. Copieu el que preferiu i enganxeu-lo a lordre ssh. Lordre hauria dassemblar-se a alguna cosa aix铆 si utilitzeu ladre莽a IP:\nssh -i .ssh/aws-keypair ec2-user@98.84.68.70\no aix铆 si utilitzeu el DNS:\nssh -i .ssh/aws-keypair ec2-user@ec2-98-84-68-70.compute-1.amazonaws.com\nSi 茅s la primera vegada que us connecteu a la mquina remota, obtindreu una advert猫ncia. Aix貌 茅s normal, nom茅s heu descriure yes i pr茅mer Enter. Ara haur铆eu de estar connectats a la mquina remota. Veureu un missatge similar al seg眉ent:\n   ,     #_\n   ~\\_  ####_        Amazon Linux 2023\n  ~~  \\_#####\\\n  ~~     \\###|\n  ~~       \\#/ ___   https://aws.amazon.com/linux/amazon-linux-2023\n   ~~       V~' '-&gt;\n    ~~~         /\n      ~~._.   _/\n         _/ _/\n       _/m/'\nLast login: Sun Mar  2 09:50:33 2025 from 79.156.58.43\n[ec2-user@ip-172-31-86-82 ~]$\n\n\n\n\n\n\nImportantExercici\n\n\n\nInvestiga quin 茅s el significat i la importnica del missatge que acceptes quan et connectes per primera vegada a la mquina remota. Per qu猫 茅s important acceptar aquest missatge? Qu猫 significa? Quines implicacions t茅?\n\n\nFantstic! Ara esteu connectats a la mquina remota. s important entendre que a partir dara, les ordres que escrivim sexecutaran a la mquina remota, no al nostre ordinador local. Per comprovar-ho, escriviu les ordres pwd i whoami com vam fer al nostre ordinador local. Veureu que la sortida 茅s diferent. A continuaci贸 es mostra la sortida que obtinc a la mquina remota:\n[ec2-user@ip-172-31-86-82 ~]$ pwd\n/home/ec2-user\n[ec2-user@ip-172-31-86-82 ~]$ whoami\nec2-user\n[ec2-user@ip-172-31-86-82 ~]$\n\n\n\n\n\n\nNota\n\n\n\nAquesta vegada la sortida hauria de ser la mateixa que la meva. Observeu que el prompt [ec2-user@ip-172-31-86-82 ~]$ 茅s diferent, per貌 aix貌 no forma part de les sortides de les ordres. Les sortides de les ordres s贸n pwd i whoami, que s贸n home/ec2-user i ec2-user respectivament. El prompt 茅s nom茅s una manera de mostrar-vos on esteu al sistema de fitxers i qui sou com a usuari connectat.\n\n\n\n\n\n\n\n\nImportantExercici\n\n\n\nUtilitza la comanada lastlog i investiga com administrador com podem trueure partit daquesta informaci贸.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#preparant-lentorn-de-treball-remot",
    "href": "laboratories/01-foundations/01-aws-introduction.html#preparant-lentorn-de-treball-remot",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "",
    "text": "Per preparar lentorn de treball a AWS, seguirem els seg眉ents passos:\n\nCrear un compte dAWS Academy\nAccedir al tauler dAWS\nCrear un parell de claus SSH\nLlan莽ar una instncia EC2\nConnectar-se a la instncia EC2 mitjan莽ant SSH\n\n\n\nReviseu el vostre correu electr貌nic per veure si heu rebut un correu electr貌nic dAWS Academy amb lassumpte Invitaci贸 al curs. Si no lheu rebut, feu-mho saber. El correu electr貌nic contindr un bot贸 amb el text Get Started. Feu clic en aquest bot贸 per iniciar el proc茅s de registre.\n\nDespr茅s de fer clic al bot贸 Get Started, sereu redirigits a la pgina dinici de sessi贸 dAWS Academy. Ara heu de fer clic al bot贸 Create my account per iniciar el proc茅s de registre, com es mostra a continuaci贸:\n\nSeleccioneu una contrasenya i completeu el proc茅s de registre. Un cop hgiu completat el proc茅s de registre, sereu redirigits al tauler dAWS Academy. Enhorabona! Heu creat amb 猫xit el vostre compte dAWS Academy.\n\n\n\nAra que heu creat el vostre compte dAWS Academy, podeu accedir al tauler dAWS. El primer que heu de fer 茅s fer clic a la pestanya Courses (1) a la part esquerra de la pantalla. Veureu una llista de cursos disponibles per a vosaltres. Feu clic al curs AWS Academy Learner Lab (2), com es mostra a la captura de pantalla seg眉ent:\n\n\n\n\n\n\n\nNota\n\n\n\nEl curs AWS Academy Learner Lab 茅s el curs que utilitzareu per completar els laboratoris prctics, si recordeu a la primera sessi贸 vam parlar del curs AWS Academy Cloud Foundations, que no 茅s obligatori per貌 茅s altament recomanat per a aquells que vulguin tenir una base m茅s s貌lida i obtenir el 5% de lapartat (Async Activities AWS).\n\n\n\n\n\n\n\n\nAlerta\n\n\n\nTingueu en compte que nom茅s hi ha un curs a la captura de pantalla seg眉ent, no 茅s el que haur铆eu de veure, haur铆eu de veure dos cursos, un per al AWS Academy Cloud Foundations i un per al AWS Academy Learner Lab. Si no veieu el curs AWS Academy Cloud Foundations i voleu tenir acc茅s a ell, feu-mho saber.\n\n\nAra hem de buscar la pestanya Modules (1) a la part esquerra de la pantalla. Feu clic en ella i veureu una llista de m貌duls disponibles per a vosaltres. Feu clic en el m貌dul AWS Academy Learner Lab (2), com es mostra a continuaci贸:\n\nAra se us demanar que accepteu els termes i condicions del curs. Feu-ho despla莽ant-vos fins al final de la pgina i fent clic al bot贸 I Agree.\n\nDespr茅s dacceptar els termes i condicions, ara nom茅s heu de fer clic al bot贸 Start Lab.\n\nAra doneu-li uns minuts per carregar. Veureu aquesta animaci贸 mentre el laboratori sest preparant per a vosaltres:\n\nFinalment, quan el laboratori estigui llest, veureu que el punt al costat de AWS 茅s verd. Tamb茅 veureu un temporitzador que compta enrere des de 4 hores. Aquest 茅s el temps que teniu per treballar al laboratori. A lesquerra del temporitzador veureu com va el vostre pressupost. Teniu un pressupost de 50 d貌lars per gastar en serveis dAWS. Feu clic a AWS per accedir al tauler dAWS, com es mostra a continuaci贸:\n\n\n\n\n\n\n\nImportantConsideracions sobre els laboratoris\n\n\n\n\nEls laboratoris s贸n un entorn real dAWS, per tant, 茅s important que tingueu cura dels recursos i de les vostres accions.\nSi superes el pressupost de 50 d貌lars, ja no tindrs acc茅s al tauler dAWS i perdrs la teva feina. Assegureu-vos de vigilar el pressupost, 茅s responsabilitat de cada estudiant mantenir-se dins del pressupost.\nEls laboratoris tenen una durada de 4 hores. Un cop passades les 4 hores, la sessi贸 expirar i no podreu accedir al tauler dAWS. No obstant aix貌, aix貌 no vol dir que perdrs el teu treball automticament. Les tasques i recursos que has creat (com ara instncies EC2, buckets de S3, etc.) es mantindran accessibles entre sessions, sempre que no els eliminis manualment. Podeu tornar a iniciar el laboratori de forma il路limitada, per貌 茅s una bona prctica aturar o tancar manualment els serveis que ja no necessiteu per evitar que consumeixin recursos innecessriament.\n\nPer tant, si comences un laboratori i el deixes a mig fer, podrs reprendrel en una sessi贸 posterior.\n\n\nGenial! Ara heu accedit al tauler dAWS. Veureu una pantalla similar a la seg眉ent:\n\n\n\n\nLa clau SSH 茅s un mecanisme de seguretat que permet lautenticaci贸 segura entre dos sistemes. El servidor dAmazon EC2 t茅 la clau p煤blica i el client (el vostre ordinador local) t茅 la clau privada. Quan el client es connecta al servidor, el servidor comprova si la clau p煤blica del client coincideix amb la clau privada del servidor. Si les claus coincideixen, el client es connecta al servidor. Per tant, la clau privada no sha de compartir amb ning煤. Mentre que la clau p煤blica es pot compartir amb qualsevol i la podeu fer servir en m煤ltiples servidors. A dia davui, no hi ha cap mecanisme per obtenir la clau privada a partir de la clau p煤blica.\nPer crear un parell de claus SSH, utilitzarem la comanda ssh-keygen. Aquesta comanda est disponible a la majoria dels sistemes operatius, inclosos Linux, MacOS i Windows (a trav茅s de PowerShell o Windows Subsystem for Linux - WSL). Si utilitzeu Windows i no teniu acc茅s a ssh-keygen, podeu utilitzar eines com PuTTYgen per generar les claus SSH.\nAquesta comanda t茅 diversos parmetres que permeten personalitzar la clau SSH. Els parmetres m茅s comuns s贸n:\n\n-t: Especifica el tipus de xifratge de la clau. Els tipus m茅s comuns s贸n rsa, dsa, ecdsa i ed25519.\n-f: Especifica el nom del fitxer on es guardar la clau.\n-b: Especifica la longitud de la clau en bits.\n\n\n\n\n\n\n\nNota\n\n\n\ns molt important entendre quan estem treballant al nostre ordinador local i quan estem treballant a la mquina remota. El primer pas sempre ser obrir un terminal al nostre propi ordinador, per貌 un cop ens connectem a la mquina remota mitjan莽ant lordre SSH, encara que sembli que res no ha canviat, el terminal ara est connectat a la mquina remota. Aix貌 vol dir que a partir dara les ordres que escrivim sexecutaran a la mquina remota, no al nostre ordinador local. Si no esteu segurs si esteu treballant al vostre ordinador local o a la mquina remota, nom茅s heu descriure pwd i veure quin 茅s el resultat. Si 茅s el vostre ordinador local, veureu la ruta al directori en qu猫 esteu al vostre ordinador local, si 茅s la mquina remota, veureu la ruta al directori en qu猫 esteu a la mquina remota. pwd significa print working directory.\n\n\nEl primer pas per crear el parell de claus SSH ser assegurar-nos que el directori .ssh existeix. Per fer-ho, obriu un terminal al vostre ordinador local i escriviu la seg眉ent ordre:\nmkdir .ssh\n\n\n\n\n\n\nAlerta\n\n\n\nSi el directori .ssh ja existeix, obtindreu un error indicant que el directori ja existeix. Aix貌 茅s normal, nom茅s vol dir que el directori ja estava all.\n\n\nAra crearem el parell de claus SSH. Escriviu la seg眉ent ordre:\nssh-keygen -t rsa -f .ssh/aws-keypair\nSe us demanar que introdu茂u una contrasenya. Podeu deixar-la buida prement Enter dues vegades (us recomano fer-ho per simplicitat, si no, cada vegada que us connecteu a la mquina remota haureu dintroduir la contrasenya). Haur铆eu de veure una sortida similar a la seg眉ent:\nGenerating public/private rsa key pair.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in .ssh/aws-keypair\nYour public key has been saved in .ssh/aws-keypair.pub\nThe key fingerprint is:\nSHA256:uhINFvYaJh6MbwFQCXdZyrW7W46jFGHUhLglDgQ5OYE ferran@DESKTOP-0841\n+---[RSA 3072]----+\n|XBooo*+          |\n|E.++*o..         |\n| O ==o.          |\n|. B.=...         |     \n| o *.=. S        |\n|  + o..o         |\n| .  ..o .        |\n|   .. .*         |\n|    .o+..        |\n+----[SHA256]-----+\nAqu铆, ssh-keygen 茅s lordre per generar el parell de claus, -t rsa especifica el tipus de clau a crear, en aquest cas una clau RSA, i -f .ssh/aws-keypair especifica el nom del fitxer per al parell de claus. Podeu anomenar el fitxer com vulgueu, per貌 茅s important recordar el nom que li heu donat. En aquest cas, lestem anomenant aws-keypair. Us recomano que el nomeu igual que jo per no confondre-us m茅s endavant.\n\n\n\n\n\n\nConsellEntendre les claus SSH - Veure video\n\n\n\nEs clau entendre com funcionen les claus p煤bliques i privades i com sutilitzen per establir una connexi贸 SSH, heu de veure aquest v铆deo.\n\n\nUna altra vegada, podem comprovar el contingut del directori .ssh escrivint la seg眉ent ordre:\nls .ssh\nHaur铆em de veure ara dos fitxers, aws-keypair i aws-keypair.pub. El primer 茅s la clau privada i el segon 茅s la clau p煤blica. La clau privada mai sha de compartir amb ning煤, mentre que la clau p煤blica 茅s la que sha de compartir amb la mquina remota. Una ordre 煤til per inspeccionar el contingut dun fitxer 茅s cat. Per exemple, per veure el contingut de la clau p煤blica, escriviu la seg眉ent ordre:\ncat .ssh/aws-keypair.pub\n\n\n\n\n\n\nNota\n\n\n\nTamb茅 podeu inspeccionar el contingut de la carpeta .ssh i dels fitxers que hi ha dins utilitzant lExplorador de fitxers (o Finder en dispositius Mac). Per貌 tingueu cura, per defecte, les carpetes i fitxers que comencen amb un . (com .ssh) estan ocults en la majoria dexploradors de fitxers i si voleu poder veurels, haureu dhabilitar lopci贸 per mostrar fitxers ocults. Consulteu aquest tutorial per veure com fer-ho al vostre sistema operatiu. Una altra cosa a tenir en compte 茅s que les extensions de fitxer (茅s a dir, la part del nom del fitxer que ve despr茅s del darrer .) tamb茅 solen estar ocultes, aix貌 vol dir que a lExplorador de fitxers potser veieu dos fitxers anomenats aws-keypair quan en realitat un 茅s aws-keypair i laltre 茅s aws-keypair.pub. Aqu铆 teniu un tutorial sobre com mostrar les extensions de fitxer al vostre sistema operatiu.\nNo cal que us preocupeu per res daix貌 si esteu utilitzant el terminal, el terminal us mostrar els fitxers i les seves extensions tal com s贸n. Per貌 per veure fitxers i carpetes ocults (aquells que comencen amb un .) haureu dutilitzar lordre ls -a.\nls -a .ssh\n\n\nHem creat un parell de claus SSH que podem utilitzar per connectar-nos a mquines remotes. A continuaci贸, importarem la nostra clau p煤blica a AWS.\n\n\n\nAra que hem creat el nostre parell de claus SSH, hem dimportar la clau p煤blica a AWS per poder utilitzar-la per connectar-nos a les instncies EC2 que crearem m茅s endavant. Per fer-ho, hem de tornar al tauler dAWS, que 茅s on vam acabar despr茅s de completar el Pas 2.\nAra anirem a la barra de cerca i buscarem el servei EC2. Escriviu EC2 a la barra de cerca i feu clic al servei EC2, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra veureu el tauler dEC2. A la part esquerra de la pantalla, veureu una llista dopcions. Feu clic a Key Pairs (Pares de claus) i despr茅s a Create key pair (Crear parell de claus), com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra heu de donar un nom al parell de claus. Podeu anomenar-lo com vulgueu, per貌 us suggereixo que el anomeneu aws-keypair per mantenir les coses simples. Assegureu-vos que lopci贸 Key type (Tipus de clau) estigui configurada a RSA i que lopci贸 Private key file format (Format del fitxer de clau privada) estigui configurada a PEM. Aix貌 茅s important perqu猫 la clau privada sha dutilitzar en format PEM per connectar-se a la mquina remota. Feu clic a Create key pair (Crear parell de claus), com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\n\n\n\n\n\n\nNota\n\n\n\nPodeu tamb茅 fer clic al bot贸 Browse per seleccionar el fitxer de clau p煤blica des del vostre ordinador. Nom茅s cal que feu clic a Browse, navegueu fins a la carpeta .ssh i seleccioneu el fitxer aws-keypair.pub. Per貌 recordeu, el fitxer ha de ser el fitxer de clau p煤blica, no el fitxer de clau privada. s a dir, el fitxer ha de tenir lextensi贸 .pub. Un cop hgiu seleccionat el fitxer, feu clic a Import Key Pair.\nRecordeu que com sha explicat a la nota anterior, potser no veureu la carpeta .ssh a lexplorador de fitxers i potser no veureu lextensi贸 .pub del fitxer. Si teniu problemes amb aix貌, us recomano utilitzar el terminal per copiar el contingut del fitxer com es mostra a la captura de pantalla anterior.\n\n\nAra haur铆eu de veure el parell de claus que acabeu dimportar a la llista de parells de claus. Probablement hi haur un altre parell de claus all, aix貌 est b茅, podeu ignorar-lo. Perfecte! Ara heu importat la clau p煤blica a AWS. A continuaci贸, crearem una instncia EC2 i la configurarem per utilitzar el parell de claus que acabem dimportar.\n\n\n\nEl primer pas ser anar al tauler dEC2. Podeu fer-ho escrivint EC2 a la barra de cerca i fent clic al servei EC2, com vam fer al principi del Pas 3:\n\n\n\nAWS Dashboard\n\n\nUn cop estigueu al tauler dEC2, feu clic a Instances &gt; Launch Instance, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nDeixeu-ho tot com est excepte lopci贸 Key pair (login) (Parell de claus (inici de sessi贸)) (haureu de despla莽ar-vos cap avall per trobar-la). Feu clic al men煤 desplegable i seleccioneu el parell de claus que heu importat anteriorment. En aquest cas, hauria de ser aws-keypair. Feu clic a Launch instance, com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nAra tenim una instncia EC2 en execuci贸 amb la nostra clau p煤blica importada. Aix貌 significa que tenim una mquina remota a AWS a la qual podem connectar-nos des del nostre ordinador local mitjan莽ant SSH. Vegem com fer-ho.\n\n\n\nAbans de connectar-nos a la mquina remota, vull que proveu alguns ordres al vostre ordinador local que despr茅s repetirem un cop estiguem connectats a la mquina remota. Una de les ordres 茅s pwd, que significa print working directory, com ja sha comentat anteriorment. Aquesta ordre us mostrar la ruta al directori en qu猫 esteu actualment. Laltra ordre 茅s whoami, que us mostrar el nom dusuari amb el qual heu iniciat sessi贸. Proveu aquestes ordres al vostre ordinador local i recordeu-ne la sortida. Les repetirem un cop estiguem connectats a la mquina remota.\nA continuaci贸 es mostra la sortida que obtinc al meu ordinador local:\nPS C:\\Users\\fnao&gt; pwd\n\nPS C:\\Users\\fnao&gt; whoami\ngft\\fnao\nPS C:\\Users\\fnao&gt;\n\n\n\n\n\n\nAlerta\n\n\n\nEl ordinador local que utilitzo 茅s un porttil amb Windows, aix铆 que la sortida ser diferent de la vostra si esteu utilitzant un Mac o un ordinador amb Linux. Substitueix fnao pel vostre nom dusuari i C:\\Users\\fnao per la ruta al vostre directori dusuari.\n\n\nPer connectar-nos a la instncia EC2, utilitzarem el terminal del nostre ordinador local. Aix铆 com vam fer al principi Pas 3, obriu un terminal al vostre ordinador local. Utilitzarem lordre ssh per connectar-nos a la mquina remota. Lordre tindr aquest aspecte:\nssh -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;\nHaureu de substituir &lt;public-ip&gt; per la IP p煤blica de la instncia EC2. Per trobar la IP p煤blica, torneu al tauler dEC2 i feu clic a Instances a la part esquerra de la pantalla. Veureu una llista dinstncies, feu clic a la instncia que heu creat. Veureu la IP p煤blica a la part inferior de la pantalla com es mostra a continuaci贸:\n\n\n\nAWS Dashboard\n\n\nTant ladre莽a Public IPv4 address com el Public IPv4 DNS es poden utilitzar com a &lt;public-ip&gt; a lordre ssh. Copieu el que preferiu i enganxeu-lo a lordre ssh. Lordre hauria dassemblar-se a alguna cosa aix铆 si utilitzeu ladre莽a IP:\nssh -i .ssh/aws-keypair ec2-user@98.84.68.70\no aix铆 si utilitzeu el DNS:\nssh -i .ssh/aws-keypair ec2-user@ec2-98-84-68-70.compute-1.amazonaws.com\nSi 茅s la primera vegada que us connecteu a la mquina remota, obtindreu una advert猫ncia. Aix貌 茅s normal, nom茅s heu descriure yes i pr茅mer Enter. Ara haur铆eu de estar connectats a la mquina remota. Veureu un missatge similar al seg眉ent:\n   ,     #_\n   ~\\_  ####_        Amazon Linux 2023\n  ~~  \\_#####\\\n  ~~     \\###|\n  ~~       \\#/ ___   https://aws.amazon.com/linux/amazon-linux-2023\n   ~~       V~' '-&gt;\n    ~~~         /\n      ~~._.   _/\n         _/ _/\n       _/m/'\nLast login: Sun Mar  2 09:50:33 2025 from 79.156.58.43\n[ec2-user@ip-172-31-86-82 ~]$\n\n\n\n\n\n\nImportantExercici\n\n\n\nInvestiga quin 茅s el significat i la importnica del missatge que acceptes quan et connectes per primera vegada a la mquina remota. Per qu猫 茅s important acceptar aquest missatge? Qu猫 significa? Quines implicacions t茅?\n\n\nFantstic! Ara esteu connectats a la mquina remota. s important entendre que a partir dara, les ordres que escrivim sexecutaran a la mquina remota, no al nostre ordinador local. Per comprovar-ho, escriviu les ordres pwd i whoami com vam fer al nostre ordinador local. Veureu que la sortida 茅s diferent. A continuaci贸 es mostra la sortida que obtinc a la mquina remota:\n[ec2-user@ip-172-31-86-82 ~]$ pwd\n/home/ec2-user\n[ec2-user@ip-172-31-86-82 ~]$ whoami\nec2-user\n[ec2-user@ip-172-31-86-82 ~]$\n\n\n\n\n\n\nNota\n\n\n\nAquesta vegada la sortida hauria de ser la mateixa que la meva. Observeu que el prompt [ec2-user@ip-172-31-86-82 ~]$ 茅s diferent, per貌 aix貌 no forma part de les sortides de les ordres. Les sortides de les ordres s贸n pwd i whoami, que s贸n home/ec2-user i ec2-user respectivament. El prompt 茅s nom茅s una manera de mostrar-vos on esteu al sistema de fitxers i qui sou com a usuari connectat.\n\n\n\n\n\n\n\n\nImportantExercici\n\n\n\nUtilitza la comanada lastlog i investiga com administrador com podem trueure partit daquesta informaci贸.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#execucio-en-el-nostre-laboratori-remot",
    "href": "laboratories/01-foundations/01-aws-introduction.html#execucio-en-el-nostre-laboratori-remot",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "Execuci贸 en el nostre laboratori remot",
    "text": "Execuci贸 en el nostre laboratori remot\nEn aquest apartat de laboratori, treballarem la comunicaci贸 amb servidors remots i la transfer猫ncia de fitxers entre la mquina local i la mquina remota. Utilitzarem un script de Python per simular una crrega de treball i generar un grfic a partir dun fitxer de dades. Aquest laboratori es dur a terme a la instncia EC2 que hem creat anteriorment.\n\nPas 1: Configuraci贸 de lentorn remot a lEC2\nPrimer, hem de preparar lentorn a la nostra instncia EC2. Aix貌 inclou instal路lar les eines necessries per executar el nostre script de Python i gestionar les dades. Per tant, ens connectarem a la instncia EC2 mitjan莽ant SSH com hem fet anteriorment i executarem les seg眉ents ordres per instal路lar les eines necessries.\n# Connecta't a la instncia EC2\nssh -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;\n\nActualitzaci贸 del sistema:\n\nsudo yum update -y\n\nComprova si tens instal路lat Python i, si no, instal路lal:\n\npython3 --version # Comprova si Python est instal路lat\nsudo yum install python3 -y # Instal路la Python si no est instal路lat\n\nCrea un entorn virtual per a Python:\n\npython3 -m venv myenv\nsource myenv/bin/activate\n\nComprova lentorn virtual amb un Hello World:\n\npython3 -c \"print('Hello World from the virtual environment')\"\n\n\n\n\n\n\nImportantExercici\n\n\n\nAra utiltiza la comanda exit per sortir de la mquina remota. Un cop al teu ordinador local, torna a connectar-te a la mquina remota amb SSH i torna a executar la comanda python3 -c \"print('Hello World from the virtual environment')\". Quin 茅s el resultat? Per qu猫 茅s diferent del que has obtingut abans? Com ho podem solucionar?\n\n\n\nInstal路la les biblioteques necessries per al nostre script:\n\npip install pandas matplotlib psutil\n\nCrea un directori per al projecte i entra-hi:\n\nmkdir lab01-workload-simulation\ncd lab01-workload-simulation\n\nCrea el fitxer del script de Python, utilitzant vi o vim:\n\nvi simulate_workload.py\n\n#!/usr/bin/env python3\nimport sys\nimport time\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ndef main():\n    if len(sys.argv) != 2:\n        print(\"s: python3 simulate.py workload.csv\")\n        sys.exit(1)\n\n    csv_file = sys.argv[1]\n    df = pd.read_csv(csv_file)\n\n    print(\"Simulaci贸 d'煤s de CPU i mem貌ria (amb grfic)\\n\")\n\n    plt.ion()\n    fig, ax = plt.subplots()\n    cpu_vals, mem_vals, ts_vals = [], [], []\n\n    for i, row in df.iterrows():\n        ts = row['timestamp']\n        cpu = row['cpu_usage']\n        mem = row['memory_usage']\n\n        print(f\"[{ts}] CPU: {cpu:.2f}%  |  MEM: {mem:.2f}%\")\n\n        ts_vals.append(ts)\n        cpu_vals.append(cpu)\n        mem_vals.append(mem)\n\n        ax.clear()\n        ax.plot(ts_vals, cpu_vals, label=\"CPU (%)\", color=\"tab:red\", marker=\"o\")\n        ax.plot(ts_vals, mem_vals, label=\"Mem貌ria (%)\", color=\"tab:blue\", marker=\"x\")\n        ax.set_ylim(0, 100)\n        ax.set_xlabel(\"Temps\")\n        ax.set_ylabel(\"s (%)\")\n        ax.set_title(\"Simulaci贸 de crrega del sistema\")\n        ax.legend()\n        plt.xticks(rotation=45)\n\n\n    print(\"\\n--- Fi de la simulaci贸 ---\")\n    plt.savefig(\"workload_analysis.png\")\n\nif __name__ == \"__main__\":\n    main()\n\nSi el fitxer existeix, pots executar-lo amb la seg眉ent ordre:\n\npython3 simulate_workload.py workload.csv\nEn aquest punt, haur铆eu de veure un error indicant que el fitxer workload.csv no existeix. Aix貌 茅s normal perqu猫 encara no hem pujat el fitxer de dades a la instncia EC2.\n\n\nPas 2: Transfer猫ncia del fitxer de dades a la instncia EC2\nPer transferir el fitxer de dades workload.csv a la instncia EC2, utilitzarem SFTP (SSH File Transfer Protocol). SFTP 茅s un protocol segur per transferir fitxers entre un ordinador local i una mquina remota. Utilitzarem el mateix parell de claus SSH que vam crear anteriorment per autenticar-nos a la instncia EC2.\n\nDescarregat el fitxer de dades workload.csv al teu ordinador local.\nUtilitza SFTP per pujar el fitxer de dades a la instncia EC2:\n\n# Substitueix &lt;public-ip&gt; per la IP p煤blica de la teva instncia EC2\nsftp -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;:/home/ec2-user/lab01-workload-simulation\n# Baixa el fitxer workload.csv del directori remot a la mquina local\nput workload.csv\n# Tanca la sessi贸 SFTP\nexit\n\nTorna a connectar-te a la instncia EC2 mitjan莽ant SSH, i executa el programa de Python de nou:\n\npython3 simulate_workload.py workload.csv\nAra hauria de funcionar correctament i generar un fitxer dimatge amb el grfic de la crrega de treball. Pots comprovar que el fitxer dimatge sha creat correctament amb lordre ls -l. Un cop la imatge sha generat, pots utilitzar SFTP per baixar-la a la teva mquina local:\n# Substitueix &lt;public-ip&gt; per la IP p煤blica de la teva instncia EC2\nsftp -i .ssh/aws-keypair ec2-user@&lt;public-ip&gt;:/home/ec2-user/lab01-workload-simulation\n# Baixa el fitxer workload_analysis.png del directori remot a la mquina local\nget workload_analysis.png\n# Tanca la sessi贸 SFTP\nexit\n\n\n\n\n\n\nImportantExercicis\n\n\n\n\nCom podem descarregar tots els fitxers dun directori remot a la nostra mquina local utilitzant el protocol SFTP? Per exemple, imagina que necessites descarregar tot el contingut del directori remot anomenat lab-workload-simulation. Explica els passos o la comanda que utilitzaries per dur a terme aquesta tasca de manera eficient.\nCom podem descarregar un fitxer espec铆fic des duna URL directament a un servidor remot? Per a fer-ho m茅s prctic, prepara un script que, donada una URL, descarregui un fitxer directament al servidor remot sense passar-lo per la mquina local. Fes el test amb el fitxer workload.csv que hem utilitzat en aquest laboratori.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#tasques-basiques-dadministracio",
    "href": "laboratories/01-foundations/01-aws-introduction.html#tasques-basiques-dadministracio",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "Eines bsqiques dadministraci贸",
    "text": "Eines bsqiques dadministraci贸\nEn aquest apartat, explorarem algunes tasques bsiques dadministraci贸 que podem realitzar en un servidor Linux. Aquestes tasques inclouen la gesti贸 de lespai en disc.\n\nGesti贸 de lespai en disc\nAmb la comanda df -h podem veure lespai en disc disponible i utilitzat a les particions del sistema. Aquesta comanda ens mostrar informaci贸 sobre lespai en disc de cada partici贸, incloent-hi la mida total, lespai utilitzat, lespai disponible i el punt de muntatge. En aquest curs estudiarem el sistema de fitxers en profunditat, per貌 ara nom茅s introduirem la comanda i veurem el seu resultat.\n[ec2-user@ip-172-31-30-17 ~]$ df -h\nFilesystem        Size  Used Avail Use% Mounted on\ndevtmpfs          4.0M     0  4.0M   0% /dev\ntmpfs             453M     0  453M   0% /dev/shm\ntmpfs             181M  424K  181M   1% /run\n/dev/nvme0n1p1    8.0G  2.0G  6.1G  25% /\ntmpfs             453M     0  453M   0% /tmp\n/dev/nvme0n1p128   10M  1.3M  8.7M  13% /boot/efi\ntmpfs              91M     0   91M   0% /run/user/1000\nEn aquest cas, podem veure que la partici贸 /dev/nvme0n1p1 t茅 una mida total de 8.0 GB, amb 2.0 GB utilitzats i 6.1 GB disponibles. Aix貌 significa que el 25% de lespai en disc est utilitzat. El seu punt de muntatge 茅s /, que 茅s el directori arrel del sistema de fitxers. La resta de particions les podem ignorar per ara i les veurem en detall m茅s endavant.\nA m茅s, tamb茅 podem utilitzar la comanda du per veure lespai en disc utilitzat per un directori espec铆fic. Per exemple, si volem veure lespai en disc utilitzat pel directori /home/ec2-user, podem utilitzar la comanda seg眉ent:\n[ec2-user@ip-172-31-30-17 ~]$ du -sh /home/ec2-user\n301M    /home/ec2-user\nAquesta comanda ens mostrar lespai en disc utilitzat pel directori /home/ec2-user i tots els seus subdirectoris. Lopci贸 -s indica que volem un resum de lespai utilitzat, i lopci贸 -h mostra la sortida en un format llegible per humans (per exemple, en KB, MB, GB). En aquest cas, podem veure que el directori /home/ec2-user utilitza 301 MB despai en disc.\nPodem crear un fitxer de prova per veure com afecta lespai en disc. Per exemple, podem crear un fitxer de text gran amb la comanda dd:\ndd if=/dev/zero of=largefile.txt bs=1M count=100\nAquesta comanda crear un fitxer anomenat largefile.txt de 100 MB ple de zeros. Ara podem tornar a executar la comanda du -sh /home/ec2-user per veure com ha canviat lespai en disc utilitzat pel directori /home/ec2-user:\n[ec2-user@ip-172-31-30-17 ~]$ du -sh /home/ec2-user\n401M    /home/ec2-user\nPer eliminar el fitxer que hem creat, podem utilitzar la comanda rm:\nrm largefile.txt\n\n\n\n\n\n\nImportantExercici\n\n\n\n\nCompleta aquest script perque ens permeti llegir un fitxer de text l铆nia a l铆nia, cada linia cont茅 el nom i la mida en MB dun fitxer que volem crear. El script ha de crear els fitxers amb la mida especificada al directori on sexecuta el script.\n\nwhile read -r nom_fitxer mida_mb; do\n  \ndone &lt; \"$1\"\n\nUtiltiza la comanda du, sort, head, tail per obtenir el fitxer m茅s gran i el m茅s petit del directori on sexecuta el script.\nUtilitza la comanda find per trobar tots els fitxers m茅s grans de 10 MB al directori on sexecuta el script.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#neteja-final",
    "href": "laboratories/01-foundations/01-aws-introduction.html#neteja-final",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "Neteja final",
    "text": "Neteja final\nUn cop hgiu acabat el laboratori, 茅s important que tanqueu la instncia EC2 per evitar costos innecessaris. Per fer-ho, torneu al tauler dEC2 i seleccioneu la instncia que heu creat. A la part superior de la pantalla, feu clic a Instance state i despr茅s a Terminate instance.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/01-aws-introduction.html#entrega-del-laboratori",
    "href": "laboratories/01-foundations/01-aws-introduction.html#entrega-del-laboratori",
    "title": "Unitat 1 路 Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "section": "Entrega del laboratori",
    "text": "Entrega del laboratori\nPer a lentrega daquest laboratori, heu de preparar un document PDF amb les respostes completes a tots els exercicis. Un cop finalitzat, cal que el pengeu al Campus Virtual, a lapartat designat per al Laboratori 1.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 01 路 Introducci贸 a AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html",
    "href": "laboratories/01-foundations/02-aws-wordpress.html",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "",
    "text": "Desplegar una aplicaci贸 web utilitzant serveis dAWS. En concret, es desplegar una aplicaci贸 WordPress utilitzant Amazon EC2 com a servidor web i Amazon RDS com a base de dades.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#objectius",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#objectius",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "",
    "text": "Desplegar una aplicaci贸 web utilitzant serveis dAWS. En concret, es desplegar una aplicaci贸 WordPress utilitzant Amazon EC2 com a servidor web i Amazon RDS com a base de dades.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#bases-de-dades-rds",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#bases-de-dades-rds",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "Bases de dades RDS",
    "text": "Bases de dades RDS\nEl servei de bases de dades relacional dAmazon Web Services (RDS) 茅s una opci贸 molt interessant per a desplegar bases de dades MySQL, MariaDB, PostgreSQL, Oracle, SQL Server i Aurora. Aquest servei ofereix una gesti贸 fcil i eficient de les bases de dades, aix铆 com la possibilitat de fer c貌pies de seguretat, escalabilitat i alta disponibilitat.\n\nAnem a la consola de Amazon RDS.\nA la consola de Amazon RDS, fem clic a Create database.\n\nSeleccionem el mode Standard Create.\nSeleccionem el motor de base de dades MySQL.\nSeleccionem la versi贸 de la base de dades MySQL 8.0.42.\nSeleccionem la plantilla Sandbox.\nNom de la base de dades wordpress.\nMaster username admin.\nGesti贸 de credencials: self-managed.\nSeleccioneu auto-generate a password.\n\nLa resta de parmetres els deixarem per defecte. Una vegada acabat, fem clic a Create database.\n\n\n\n\n\n\n\nImportantContrassenya\n\n\n\nFeu clic a View Connection Details per veure la password generada. Si no ho feu, haureu danar a modificar, regenerar la password i aplicar els canvis.\n\n\n\nEspereu uns minuts fins que la columna Status estigui en verd i posi Available.\nUn cop la base de dades estigui disponible, fem clic a la base de dades i anem a la pestanya Connectivity & security per veure els detalls de connexi贸.\n\nHostname: database-1.cik8jidkherq.us-east-1.rds.amazonaws.com\nPort: 3306\nUsername: admin\nDatabase name: wordpress\n\nAra ja podem connectar-nos a la base de dades amb un client MySQL com MySQL Workbench o phpMyAdmin.\n\nHostname: database-1.cik8jidkherq.us-east-1.rds.amazonaws.com\nPort: 3306\nUsername: admin\nPassword: XXXXXXXXXXXXXXX (la que heu generat abans)\n\nPer testejar la connexi贸, necessitem un client MySQL. La manera m茅s senzilla 茅s crear una instncia EC2 i instal路lar el client MySQL.\n\n\nCrea una instncia EC2 amb Amazon Linux 2023 (igual que en el laboratori anterior).\nConnectat a la instncia EC2 via SSH.\nInstal路la el client MySQL:\n# Busquem el paquet a instal路lar\ndnf search mysql\n# Instal路lem el client mariadb\nsudo dnf install mariadb105 -y\nConnectat a la base de dades RDS des de la instncia EC2:\nmysql -h hostname -u admin -p\n# Introdueix la contrassenya quan et demani\n\nEn aquest punt, observarem que no ens podem connectar a la base de dades. Aix貌 茅s degut a que la base de dades est protegida per un Security Group que no permet connexions des de lexterior. Per solucionar-ho, hem dafegir una regla al Security Group de la base de dades per permetre connexions des de la instncia EC2.\n\nAnem a la consola dAmazon RDS.\nSeleccionem la nostra instncia de base de dades.\nA la secci贸 de Connectivity & security, busquem el Security Group associat a la base de dades.\nFem clic al Security Group per editar les regles (semblant a default sg-0efc4051ab6288a2d).\nAfegim una nova regla dentrada (Inbound rule) per permetre connexions des de ladre莽a IP de la nostra instncia EC2. Seleccionem el tipus de connexi贸 MySQL/Aurora i introdu茂m ladre莽a IP de la instncia EC2. Per fer-ho, has de clicar a Edit inbound rules i despr茅s afegir la regla seg眉ent:\n\n  Type: MySQL/Aurora\n  Protocol: TCP\n  Port Range: 3306\n  Source: Custom\n  Seleccionar el grup de seguretat de la instncia EC2 (launch-wizard-1)\n\n\n\n\n\n\nNotaObservaci贸\n\n\n\nAquesta regla permetr connexions a la base de dades des de qualsevol instncia EC2 que utilitzi aquest grup de seguretat (launch-wizard-1).\n\n\n\nGuardem les regles i tornem a intentar connectar-nos a la base de dades des de la instncia EC2.\nSi tot ha anat b茅, ara s铆 que ens podrem connectar a la base de dades.\nUn cop connectats, ja podem crear la base de dades wordpress i lusuari wordpress amb tots els permisos.\nCREATE DATABASE wordpress;\nCREATE USER 'wordpress'@'%' IDENTIFIED BY 'wordpress';\nGRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'%';\nFLUSH PRIVILEGES;\nexit\nJa tenim la base de dades preparada per a la instal路laci贸 de WordPress.\n\n\nInstal路laci贸 de WordPress a linstncia EC2\n\nPer instal路lar WordPress, primer hem dinstal路lar un servidor web (Apache):\nsudo dnf install httpd -y\nsudo systemctl start httpd\nsudo systemctl enable httpd\n\n\n\n\n\n\n\nConsellNota\n\n\n\nObserveu que lordre start inicia el servei Apache, per貌 no el fa arrencar automticament en reiniciar la mquina. Per aix貌, hem dexecutar tamb茅 lordre enable.\n\n\n\nPer defecte, el grup de seguretat de la instncia EC2 no permet connexions HTTP (port 80). Podeu comprovar-ho intentant accedir a ladre莽a IP p煤blica de la instncia EC2 des del navegador web. Veureu que no es pot connectar.\n\n\n\n\n\n\n\nConsellNota\n\n\n\nSi feu clic a lenlla莽 de ladre莽a IP p煤blica intentar accedir per https, per貌 com que no tenim certificat SSL, no funcionar. Modifiqueu manualment la url per http://.\n\n\n\nHem dafegir una regla dentrada al grup de seguretat per permetre connexions HTTP.\n\nAnem a la consola dEC2.\nSeleccionem la nostra instncia EC2.\nA la secci贸 de Security, fem clic al Security Group associat a la instncia (launch-wizard-1).\nAfegim una nova regla dentrada (Inbound rule) per permetre connexions HTTP:\n\nType: HTTP\nProtocol: TCP\nPort Range: 80\nSource: Anywhere (0.0.0.0/0)\n\n\n\n\n\n\n\nConsellNota\n\n\n\nAquesta regla permetr connexions HTTP des de qualsevol lloc.\n\n\n\nUn cop afegida la regla, ja podem accedir a ladre莽a IP p煤blica de la instncia EC2 des del navegador web. Haurem de veure la pgina per defecte dApache.\nUn requisit per a WordPress 茅s tenir PHP instal路lat. Instal路lem PHP i les extensions necessries:\nsudo dnf install php8.1 -y\nsudo dnf install php-curl php-zip php-gd php-soap php-intl php-mysqlnd php-pdo -y\nReiniciem el servei Apache per carregar les extensions de PHP:\nsudo systemctl restart httpd\nAra ja podem instal路lar WordPress. Primer, descarreguem l煤ltima versi贸 de WordPress i la desem a la carpeta per defecte dApache:\ncd /tmp\nwget https://wordpress.org/latest.tar.gz\ntar -xvzf latest.tar.gz\nsudo mv wordpress/* /var/www/html/\nsudo rm -rf wordpress latest.tar.gz\nsudo chown -R apache:apache /var/www/html/\nAra podeu accedir a ladre莽a IP p煤blica de la instncia EC2 des del navegador web. Haureu de veure la pgina dinstal路laci贸 de WordPress.\nSeguiu els passos de la instal路laci贸 de WordPress:\n\nSeleccioneu lidioma (catal).\nFeu clic a Continua.\nFeu clic a Som-hi!.\nIntrodu茂u les dades de connexi贸 a la base de dades:\n\nDatabase Name: wordpress\nUsername: wordpress (usuari creat abans)\nPassword: wordpress (contrasenya creada abans)\nDatabase Host: lendpoint de la base de dades RDS (per exemple, database-1.cik8jidkherq.us-east-1.rds.amazonaws.com)\nTable Prefix: wp_ (podeu deixar-ho per defecte)\n\nFeu clic a Envia.\nSi tot 茅s correcte, feu clic a Executa la instal路laci贸.\nIntrodu茂u el t铆tol del lloc (AMSA Lab02), el nom dusuari (jordi), la contrassenya (9T3nEBqnFqDW3uhc7S) i el correu electr貌nic (jordi@example.com, pot ser qualsevol).\nFeu clic a Instal路la WordPress.\nUn cop acabada la instal路laci贸, feu clic a Inicia sessi贸 i introdu茂u les credencials que heu creat.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#automatizaci贸-de-la-installaci贸",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#automatizaci贸-de-la-installaci贸",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "Automatizaci贸 de la instal路laci贸",
    "text": "Automatizaci贸 de la instal路laci贸\nFins ara hem fet la instal路laci贸 de WordPress manualment (pas a pas amb ordres a lEC2). Una manera m茅s eficient 茅s automatitzar aquest proc茅s utilitzant un script en bash.\n\n\n\n\n\n\nImportantExercici\n\n\n\n\nCreeu un script en bash que faci la instal路laci贸 de WordPress a la instncia EC2.\n\n\n\nAquest m猫tode encara no 茅s ideal, ja que encara estem fent la instal路laci贸 manualment (hem de connectar-nos a lEC2 i executar lscript). Una forma encara millor 茅s utilitzar eines dautomatitzaci贸 com Ansible.\nEl primer pas 茅s instal路lar Ansible a la nostra mquina local (si no el tenim instal路lat). Si no voleu fer-ho a la vostra mquina local, podeu utilitzar una altra instncia EC2 per fer-ho. Per tant, crearem 2 instncies EC2: una per fer dAnsible i una altra per instal路lar WordPress, les podeu anomenar ansible i webserver.\nA les dues mquines EC2 heu dinstal路lar el programari ansible amb la comanda seg眉ent:\nsudo yum install ansible -y\nAnsible utilitza el protocol SSH per connectar-se a les mquines remotes, per tant, heu de tenir acc茅s SSH a la mquina webserver des de la mquina ansible. Per fer-ho, podeu crear un parell de claus SSH a la mquina ansible i afegir la clau p煤blica al fitxer ~/.ssh/authorized_keys de la mquina webserver.\nUn cop tingueu acc茅s SSH a la mquina webserver des de la mquina ansible, podeu crear un fitxer dinventari dAnsible per definir la mquina webserver. Creeu un fitxer anomenat hosts amb el contingut seg眉ent (substitu茂u &lt;IP_INSTANCIA_EC2&gt; per ladre莽a IP p煤blica de la vostra instncia EC2) i ~/.ssh/my-key-pair per la ruta a la vostra clau privada SSH:\n[webserver]\n&lt;IP_INSTANCIA_EC2&gt; ansible_user=ec2-user ansible_ssh_private_key_file=~/.ssh/my-key-pair\nOn  茅s ladre莽a IP p煤blica de la vostra instncia EC2 on voleu instal路lar WordPress i la ruta ~/.ssh/my-key-pair 茅s la ruta a la vostra clau privada SSH que us permet accedir a la instncia EC2.\nA continuaci贸, creeu un playbook dAnsible per instal路lar WordPress a la mquina webserver. Un playbook 茅s un fitxer YAML que defineix les tasques que Ansible ha dexecutar a les mquines remotes. Podeu descargar el fitxer wordpress.yml o b茅 crear-lo amb el contingut seg眉ent (substitu茂u &lt;RDS_ENDPOINT&gt; per lendpoint de la vostra base de dades RDS):\n---\n- hosts: webserver\n  become: yes\n  tasks:\n    - name: Actualitzar repositoris\n      dnf:\n        name: \"*\"\n        state: latest\n\n    - name: Instal路lar Apache i PHP amb extensions\n      dnf:\n        name: \n          - httpd\n          - php\n          - php-mysqlnd\n          - php-gd\n          - php-xml\n          - php-json\n          - php-intl\n          - php-cli\n        state: present\n\n    - name: Activar i arrencar Apache\n      systemd:\n        name: httpd\n        state: started\n        enabled: yes\n\n    - name: Descarregar WordPress\n      get_url:\n        url: https://wordpress.org/latest.tar.gz\n        dest: /tmp/latest.tar.gz\n\n    - name: Descomprimir WordPress\n      unarchive:\n        src: /tmp/latest.tar.gz\n        dest: /var/www/html/\n        remote_src: yes\n        extra_opts: [--strip-components=1]\n\n    - name: Assignar permisos correctes\n      file:\n        path: /var/www/html\n        owner: apache\n        group: apache\n        mode: '0755'\n        recurse: yes\n\n    - name: Crear arxiu wp-config.php bsic\n      copy:\n        dest: /var/www/html/wp-config.php\n        content: |\n          &lt;?php\n          define('DB_NAME', 'wordpress');\n          define('DB_USER', 'wordpress');\n          define('DB_PASSWORD', 'wordpress');\n          define('DB_HOST', '&lt;RDS_ENDPOINT&gt;');\n          define('DB_CHARSET', 'utf8');\n          define('DB_COLLATE', '');\n          $table_prefix = 'wp_';\n          define('WP_DEBUG', false);\n          if ( !defined('ABSPATH') )\n            define('ABSPATH', __DIR__ . '/');\n          require_once ABSPATH . 'wp-settings.php';\nFinalment, executeu el playbook dAnsible per instal路lar WordPress a la vostra instncia EC2.\nansible-playbook -i hosts wordpress.yml\nUn cop finalitzat, podeu accedir a ladre莽a IP p煤blica de la instncia EC2 des del navegador web i completar la instal路laci贸 de WordPress com sha descrit anteriorment.\n\n\n\n\n\n\nImportantExercici\n\n\n\n\nReviseu la documentaci贸 dAnsible per utilitzar variables i millorar el playbook wordpress.yml fent-lo m茅s gen猫ric.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#entrega-del-laboratori",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#entrega-del-laboratori",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "Entrega del laboratori",
    "text": "Entrega del laboratori\nHeu de pujar al Campus Virtual, un document amb les seg眉ents captures de pantalla:\n\nPantalla de la consola dAmazon RDS amb la base de dades creada.\nPantalla de la consola dEC2 amb la instncia EC2 creada (eg. podeu fer servir history per veure les ordres que heu executat).\nPantalla del navegador web amb la pgina dinici de sessi贸 de WordPress.\nPantalla del tauler dadministraci贸 de WordPress.\nPantalla del playbook dAnsible executat correctament.\n\nA m茅s, heu dincloure el contingut dels seg眉ents fitxers:\n\nScript dAnsible modificat amb variables (si heu fet lexercici).\nScript en bash per instal路lar WordPress (si heu fet lexercici).",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-foundations/02-aws-wordpress.html#neteja-els-recursos-creats",
    "href": "laboratories/01-foundations/02-aws-wordpress.html#neteja-els-recursos-creats",
    "title": "Unitat 1 路 Desplegament duna aplicaci贸 web amb AWS",
    "section": "Neteja els recursos creats",
    "text": "Neteja els recursos creats\nUn cop finalitzat podeu eliminar totes les instncies EC2 i la base de dades RDS per evitar crrecs innecessaris al vostre compte dAWS.",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 02 路 Desplegament d'una aplicaci贸 web amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-introduction.html#laboratori-1-fonaments-de-ladministraci贸-de-sistemes-amb-aws",
    "href": "laboratories/01-introduction.html#laboratori-1-fonaments-de-ladministraci贸-de-sistemes-amb-aws",
    "title": "Laboratori: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "section": "Laboratori 1: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "text": "Laboratori 1: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 路 Fonaments de l'Administraci贸 de Sistemes amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-introduction.html#objectius-del-laboratori",
    "href": "laboratories/01-introduction.html#objectius-del-laboratori",
    "title": "Laboratori: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "section": "Objectius del laboratori",
    "text": "Objectius del laboratori\n\nAccedir a la plataforma de computaci贸 en n煤vol AWS a travv茅s AWS Educate.\nEntendre els conceptes bsic daministraci贸 remota a trav茅s de SSH.\ns dautenticaci贸 amb claus SSH.\nCrear i gestionar mquines virtuals a AWS EC2.\n\n\nИ Laboratori 01: Laboratori de preparaci贸 i comandes bsiques dadministraci贸",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 路 Fonaments de l'Administraci贸 de Sistemes amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-introduction.html#laboratori-2-desplegament-duna-aplicaci贸-web-amb-wordpress-a-aws",
    "href": "laboratories/01-introduction.html#laboratori-2-desplegament-duna-aplicaci贸-web-amb-wordpress-a-aws",
    "title": "Laboratori: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "section": "Laboratori 2: Desplegament duna aplicaci贸 web amb WordPress a AWS",
    "text": "Laboratori 2: Desplegament duna aplicaci贸 web amb WordPress a AWS",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 路 Fonaments de l'Administraci贸 de Sistemes amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-introduction.html#esquema-de-larquitectura",
    "href": "laboratories/01-introduction.html#esquema-de-larquitectura",
    "title": "Laboratori: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "section": "Esquema de larquitectura",
    "text": "Esquema de larquitectura",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 路 Fonaments de l'Administraci贸 de Sistemes amb AWS"
    ]
  },
  {
    "objectID": "laboratories/01-introduction.html#objectius-del-laboratori-1",
    "href": "laboratories/01-introduction.html#objectius-del-laboratori-1",
    "title": "Laboratori: Fonaments de lAdministraci贸 de Sistemes amb AWS",
    "section": "Objectius del laboratori",
    "text": "Objectius del laboratori\n\nCon猫ixer els serveis bsics dAWS per desplegar aplicacions web.\nDesplegar una base de dades gestionada amb Amazon RDS.\nDesplegar una mquina virtual amb Amazon EC2.\nDesplegar una aplicaci贸 web amb WordPress.\ns dAnsible per automatitzar el desplegament de laplicaci贸\n\n\nИ Laboratori 02: Desplegament duna aplicaci贸 web amb WordPress a AWS",
    "crumbs": [
      "Laboratoris",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Laboratori 路 Fonaments de l'Administraci贸 de Sistemes amb AWS"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html",
    "href": "projects/02-project/02-project.html",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "",
    "text": "Aquesta prctica 茅s un hack-the-box de diagnosi i resoluci贸 dincid猫ncies en un servidor Linux. El professor us proporcionar una mquina virtual amb diversos problemes que haureu didentificar i solucionar en format contrarellotge (temps limitat de la classe).\n\n Durada: 2 hores\nワ Entorn: mquina virtual facilitada pel professor\n Treball: en grups de 23 persones\n Entrega: Informe en format pdf al campus virtual.\n\nPodeu utilitzar qualsevol comanda i cercar informaci贸 en l铆nia. Actueu amb cura i preserveu evid猫ncies abans de fer canvis irreversibles.",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#instruccions-generals",
    "href": "projects/02-project/02-project.html#instruccions-generals",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "",
    "text": "Aquesta prctica 茅s un hack-the-box de diagnosi i resoluci贸 dincid猫ncies en un servidor Linux. El professor us proporcionar una mquina virtual amb diversos problemes que haureu didentificar i solucionar en format contrarellotge (temps limitat de la classe).\n\n Durada: 2 hores\nワ Entorn: mquina virtual facilitada pel professor\n Treball: en grups de 23 persones\n Entrega: Informe en format pdf al campus virtual.\n\nPodeu utilitzar qualsevol comanda i cercar informaci贸 en l铆nia. Actueu amb cura i preserveu evid猫ncies abans de fer canvis irreversibles.",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#context",
    "href": "projects/02-project/02-project.html#context",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "Context",
    "text": "Context\nHeu rebut una trucada dun client que t茅 problemes amb el seu servidor Linux. La imatge de la mquina virtual que us ha facilitat cont茅 el servidor del client. La vostra missi贸 茅s identificar tots els problemes ocults al sistema, explicar-ne la causa, aplicar solucions raonades i deixar el sistema operatiu i net. Per a cada problema heu de documentar el proc茅s de diagnosi i resoluci贸.",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#procediment",
    "href": "projects/02-project/02-project.html#procediment",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "Procediment",
    "text": "Procediment\n\nArrencar la mquina virtual i observar el comportament inicial.\n\nInvestigar sistemticament per identificar problemes i causes.\nAplicar solucions i verificar la recuperaci贸.\n\nDocumentar tot el proc茅s de diagnosi i resoluci贸.",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#tasques",
    "href": "projects/02-project/02-project.html#tasques",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "Tasques",
    "text": "Tasques\n\nComproveu els logs del sistema (dmesg, journalctl, /var/log/syslog).\nVerifiqueu lestat dels serveis amb systemctl.\nComproveu lespai en disc amb la comanda df.\nReviseu els permisos dels fitxers i directoris rellevants.\nEs molt important que lusuari jordi tingui un programa amb c anomenat hola a /home/jordi/bin/hola que imprimeixi Hola, m贸n! quan sexecuti.\nEs molt important que elimineu larxiu /srv/lab/passwords.txt que cont茅 contrasenyes en text pla i que no shauria dhaver creat mai.\nReporteu els logs amb evid猫ncies de cada problema, reviseu els logs tamb茅 entre arrencades.\n\n\nEl sistema t茅 2 usuaris: root i jordi. Els passwords daquests usuaris s贸n 1234.",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#entrega",
    "href": "projects/02-project/02-project.html#entrega",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "Entrega",
    "text": "Entrega\nEntregueu un informe:\n\nDescripci贸 del sistema:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nElement\nDispositiu (e.g./dev/sda1)\nPunts de muntatge\nTipus FS\nUUID\nMida\nEspai lliure\nInodes totals\nInodes lliures\nNotes\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPer a cada problema identificat, incloeu:\n\n\n\n\n\n\n\n\n\n\n\n\nProblema\nS铆mptoma\nComandes de diagnosi\nSoluci贸 aplicada\nRecomanaci贸 futura\nEvid猫ncies\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFeu una recomanaci贸 general per millorar la seguretat i estabilitat del sistema.\n\n\nContingut de linforme\n\nS铆mptoma observat (captura o sortida de comandes).\nComandes utilitzades per diagnosticar.\nSoluci贸 aplicada (i per qu猫).\nRecomanaci贸 per evitar-ho en futur.\nArxius devid猫ncia: export de journals i logs rellevants.\nLlista de comandes executades (p.ex. un commands.txt amb les comandes clau).",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "projects/02-project/02-project.html#avaluaci贸",
    "href": "projects/02-project/02-project.html#avaluaci贸",
    "title": "Prctica 02: Diagn貌stic i resoluci贸 dincid猫ncies en un servidor",
    "section": "Avaluaci贸",
    "text": "Avaluaci贸\n\n\n\nCriteri\nPercentatge\n\n\n\n\nIdentificaci贸 correcta dels problemes\n40%\n\n\nSolucions aplicades i afecte rebut\n30%\n\n\nQualitat de la documentaci贸 i evid猫ncies\n20%\n\n\nBona prctica operativa (preservar evid猫ncies, justificar canvis)\n10%\n\n\n\n\n\nHappy SysAdmin! 碉锔",
    "crumbs": [
      "Projectes",
      "Projecte 2 路 Diagn貌stic i Resoluci贸 d'Incid猫ncies"
    ]
  },
  {
    "objectID": "CONTRIBUTING.html",
    "href": "CONTRIBUTING.html",
    "title": "Contribueix",
    "section": "",
    "text": "Aquest material 茅s de codi obert i podeu col路laborar-hi, complementar-lo o corregir-lo mitjan莽ant pull requests al repositori.\n\n\n\nFork el repositori: Fes clic al bot贸 Fork a la part superior dreta de la pgina. Aix貌 crear una c貌pia del repositori al teu compte de GitHub. Veure imatge:\n\n\n\n\nClona el repositori a la teva mquina: Utilitza Git per clonar el repositori que has clonat a la teva mquina.\nCrea una branca (branch) nova: Abans de fer canvis, crea una branca nova on fars les teves modificacions. Aix貌 ajuda a mantenir les coses ordenades. Utilitza la comanda seg眉ent:\n\ngit checkout -b nom_de_la_branca\n\nFes els canvis: Realitza les modificacions necessries en els fitxers del projecte.\nAfegeix i commiteja els canvis: Utilitza els seg眉ents comandos per afegir els canvis i fer un commit.\nPuja els canvis al teu repositori a GitHub amb la comanda seg眉ent:\n\ngit push origin nom_de_la_branca\n\nCrea una PR: V茅s al teu repositori a GitHub i selecciona la branca on has fet els canvis. Apareixer un missatge destacat dient que has fet una nova branca. Fes clic a Compare & pull request per comen莽ar la PR.\n\nTamb茅, pots anar a la nova branca fent click al menu desplegable i seleccionant la branca que has creat 1 i fent click al bot贸 New pull request 2. Veure imatge:\n\n\nProporciona una descripci贸 detallada dels canvis que has fet. A m茅s, pots afegir captures de pantalla o informaci贸 addicional per ajudar els revisors a entendre els teus canvis. Fes clic a New pull request i beuras una pantalla com la seg眉ent:\n\n\n1 Indica el meu repositori (on vols enviar les modificacions) i 2 indica el teu fork (on has fet les modificacions). Assegurat de seleccionar la branca amb les modificacions 3. Finalment, fes clic a Create pull request 4.\n\nEnvia la PR: Un cop hagis omplert tota la informaci贸, fes clic al bot贸 Create pull request per enviar la PR al projecte original.\n\n\n\n\nPer editar el material:\n\nAl teu ordinador, necessitareu instal路lar Quarto.\nDirectament al navegador, podeu editar els fitxers .qmd fent clic al bot贸 de llapis que apareix a la part superior dreta de cada fitxer. Aix貌 crear una nova branca amb els teus canvis i et permetr fer una PR directament des del navegador.\n\n\n\nAbans de comen莽ar, assegurat que tens Quarto instal路lat al teu ordinador. Obra un terminal o un IDE com VSCode i navega fins a la carpeta on tens el projecte.\nPer veure una previsualitzaci贸 local del lloc web:\nquarto preview\nAix貌 obrir una previsualitzaci贸 local al teu navegador. La previsualitzaci贸 sactualitza automticament quan deses els canvis.\n\n\n\nEs pot integrar amb Visual Studio Code (VSCode) per a una millor experi猫ncia dedici贸. Si no tens VSCode, pots descarregar-lo des de https://code.visualstudio.com/.\n\nQuarto: Edici贸 en mode visual: Permet editar els fitxers .qmd en un mode visual que facilita l煤s de les funcions de Quarto.\nQuarto: Previsualitzaci贸: Obre una previsualitzaci贸 del fitxer .qmd actual.\nQuarto: Edici贸 en mode font: Torna a ledici贸 en mode text pla."
  },
  {
    "objectID": "CONTRIBUTING.html#instruccions-per-contribu茂r",
    "href": "CONTRIBUTING.html#instruccions-per-contribu茂r",
    "title": "Contribueix",
    "section": "",
    "text": "Fork el repositori: Fes clic al bot贸 Fork a la part superior dreta de la pgina. Aix貌 crear una c貌pia del repositori al teu compte de GitHub. Veure imatge:\n\n\n\n\nClona el repositori a la teva mquina: Utilitza Git per clonar el repositori que has clonat a la teva mquina.\nCrea una branca (branch) nova: Abans de fer canvis, crea una branca nova on fars les teves modificacions. Aix貌 ajuda a mantenir les coses ordenades. Utilitza la comanda seg眉ent:\n\ngit checkout -b nom_de_la_branca\n\nFes els canvis: Realitza les modificacions necessries en els fitxers del projecte.\nAfegeix i commiteja els canvis: Utilitza els seg眉ents comandos per afegir els canvis i fer un commit.\nPuja els canvis al teu repositori a GitHub amb la comanda seg眉ent:\n\ngit push origin nom_de_la_branca\n\nCrea una PR: V茅s al teu repositori a GitHub i selecciona la branca on has fet els canvis. Apareixer un missatge destacat dient que has fet una nova branca. Fes clic a Compare & pull request per comen莽ar la PR.\n\nTamb茅, pots anar a la nova branca fent click al menu desplegable i seleccionant la branca que has creat 1 i fent click al bot贸 New pull request 2. Veure imatge:\n\n\nProporciona una descripci贸 detallada dels canvis que has fet. A m茅s, pots afegir captures de pantalla o informaci贸 addicional per ajudar els revisors a entendre els teus canvis. Fes clic a New pull request i beuras una pantalla com la seg眉ent:\n\n\n1 Indica el meu repositori (on vols enviar les modificacions) i 2 indica el teu fork (on has fet les modificacions). Assegurat de seleccionar la branca amb les modificacions 3. Finalment, fes clic a Create pull request 4.\n\nEnvia la PR: Un cop hagis omplert tota la informaci贸, fes clic al bot贸 Create pull request per enviar la PR al projecte original."
  },
  {
    "objectID": "CONTRIBUTING.html#edici贸-del-material",
    "href": "CONTRIBUTING.html#edici贸-del-material",
    "title": "Contribueix",
    "section": "",
    "text": "Per editar el material:\n\nAl teu ordinador, necessitareu instal路lar Quarto.\nDirectament al navegador, podeu editar els fitxers .qmd fent clic al bot贸 de llapis que apareix a la part superior dreta de cada fitxer. Aix貌 crear una nova branca amb els teus canvis i et permetr fer una PR directament des del navegador.\n\n\n\nAbans de comen莽ar, assegurat que tens Quarto instal路lat al teu ordinador. Obra un terminal o un IDE com VSCode i navega fins a la carpeta on tens el projecte.\nPer veure una previsualitzaci贸 local del lloc web:\nquarto preview\nAix貌 obrir una previsualitzaci贸 local al teu navegador. La previsualitzaci贸 sactualitza automticament quan deses els canvis.\n\n\n\nEs pot integrar amb Visual Studio Code (VSCode) per a una millor experi猫ncia dedici贸. Si no tens VSCode, pots descarregar-lo des de https://code.visualstudio.com/.\n\nQuarto: Edici贸 en mode visual: Permet editar els fitxers .qmd en un mode visual que facilita l煤s de les funcions de Quarto.\nQuarto: Previsualitzaci贸: Obre una previsualitzaci贸 del fitxer .qmd actual.\nQuarto: Edici贸 en mode font: Torna a ledici贸 en mode text pla."
  },
  {
    "objectID": "course-information/schedule.html",
    "href": "course-information/schedule.html",
    "title": "AMSA 105013: System Administration",
    "section": "",
    "text": "A continuaci贸 es presenta un calendari complet dels temes, el contingut del curs i les tasques per al semestre. Tingueu en compte que aquest calendari 茅s un document viu i es pot actualitzar. Tots els canvis es publicaran aqu铆 per assegurar-vos que teniu la informaci贸 m茅s actual.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSetmana\nTipus\nData\nTema\nDiapositives\nApunts\nLaboratori\nAltres\nTasques\nLliuraments\n\n\n\n\n1\nTeoria\n10/09/25\nUnitat 01: Fonaments de lAdministraci贸 de Sistemes\n\n\n\n\n \n\n\n\n2\nLaboratori\n15/09/25\nUnitat 01: Fonaments de lAdministraci贸 de Sistemes\n\n\nИ И\n\n\n\n\n\n2\nTeoria\n17/09/25\nUnitat 02: Arrencada del sistema\n\n\n\n\n  \n\n\n\n3\nLaboratori\n24/09/25\nUnitat 02: Arrencada del sistema (II)\n\n\n\n\n \n\n\n\n4\nTeoria\n29/09/25\nUnitat 02: Arrencada del sistema (III)\n\n\n\n\n \n烩\n\n\n4\nLaboratori\n01/10/25\nNetworking\n\n\nИ\n\n\n\n\n\n5\nTeoria\n06/10/25\nUnitat 03: Sistemes de fitxers (Part 1)\n\n\n\n\n\n\n\n\n5\nLaboratori\n08/10/25\nNetworking\n\n\nИ\n\n\n\n\n\n6\nTeoria\n13/10/25\nUnitat 03: Sistemes de fitxers (Part 2)\n\n\n\n\n\n\n\n\n6\nLaboratori\n15/10/25\n(Vaga general)\n\n\n\n\n\n\n\n\n7\nTeoria\n20/10/25\nUnitat 03: Sistemes de fitxers (Part 3)\n\n\n\n\n\n\n\n\n7\nLaboratori\n22/10/25\nUnitat 03: Prctica 02\n\n\n\n\n\n烩\n\n\n8\nTeoria\n27/10/25\nReps Parcial\n\n\n\n\n\n\n\n\n8\nLaboratori\n29/10/25\nAWS: S3\n\n\nИ\n\n\n\n\n\n9\nPARCIALS\n\n\n\n\n\n\n\n\n\n\n10\nTeoria\n03/11/25\nUnitat 04: Autenticaci贸 i Autoritzaci贸 (Part 1)\n\n\n\n\n"
  },
  {
    "objectID": "course-information/schedule.html#planificaci贸",
    "href": "course-information/schedule.html#planificaci贸",
    "title": "AMSA 105013: System Administration",
    "section": "",
    "text": "A continuaci贸 es presenta un calendari complet dels temes, el contingut del curs i les tasques per al semestre. Tingueu en compte que aquest calendari 茅s un document viu i es pot actualitzar. Tots els canvis es publicaran aqu铆 per assegurar-vos que teniu la informaci贸 m茅s actual.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSetmana\nTipus\nData\nTema\nDiapositives\nApunts\nLaboratori\nAltres\nTasques\nLliuraments\n\n\n\n\n1\nTeoria\n10/09/25\nUnitat 01: Fonaments de lAdministraci贸 de Sistemes\n\n\n\n\n \n\n\n\n2\nLaboratori\n15/09/25\nUnitat 01: Fonaments de lAdministraci贸 de Sistemes\n\n\nИ И\n\n\n\n\n\n2\nTeoria\n17/09/25\nUnitat 02: Arrencada del sistema\n\n\n\n\n  \n\n\n\n3\nLaboratori\n24/09/25\nUnitat 02: Arrencada del sistema (II)\n\n\n\n\n \n\n\n\n4\nTeoria\n29/09/25\nUnitat 02: Arrencada del sistema (III)\n\n\n\n\n \n烩\n\n\n4\nLaboratori\n01/10/25\nNetworking\n\n\nИ\n\n\n\n\n\n5\nTeoria\n06/10/25\nUnitat 03: Sistemes de fitxers (Part 1)\n\n\n\n\n\n\n\n\n5\nLaboratori\n08/10/25\nNetworking\n\n\nИ\n\n\n\n\n\n6\nTeoria\n13/10/25\nUnitat 03: Sistemes de fitxers (Part 2)\n\n\n\n\n\n\n\n\n6\nLaboratori\n15/10/25\n(Vaga general)\n\n\n\n\n\n\n\n\n7\nTeoria\n20/10/25\nUnitat 03: Sistemes de fitxers (Part 3)\n\n\n\n\n\n\n\n\n7\nLaboratori\n22/10/25\nUnitat 03: Prctica 02\n\n\n\n\n\n烩\n\n\n8\nTeoria\n27/10/25\nReps Parcial\n\n\n\n\n\n\n\n\n8\nLaboratori\n29/10/25\nAWS: S3\n\n\nИ\n\n\n\n\n\n9\nPARCIALS\n\n\n\n\n\n\n\n\n\n\n10\nTeoria\n03/11/25\nUnitat 04: Autenticaci贸 i Autoritzaci贸 (Part 1)\n\n\n\n\n"
  },
  {
    "objectID": "slides/02-booting-part3.html#etapes-de-larrancada",
    "href": "slides/02-booting-part3.html#etapes-de-larrancada",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Etapes de larrancada",
    "text": "Etapes de larrancada",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#pid-1-initsystemd",
    "href": "slides/02-booting-part3.html#pid-1-initsystemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "PID 1: init/systemd",
    "text": "PID 1: init/systemd\nQuan sacaba el proc茅s dinicialitzaci贸 del sistema en lespai del kernel i es descomprimeix i executa linitramfs, es produeix una transici贸 important cap a lespai dusuari.\nexec switch_root /mnt /sbin/init\n\nEl comandament switch_root substitueix larrel del sistema de fitxers actual (linitramfs) per la partici贸 arrel real del sistema operatiu.\nEl kernel deixa de gestionar directament els processos i passa el control a un proc茅s en lespai dusuari.\nEl proc茅s PID 1 茅s el primer proc茅s que sinicia en lespai dusuari i 茅s responsable de la gesti贸 dels processos del sistema operatiu.\nTradicionalment, aquest proc茅s era el programa init, per貌 en els sistemes moderns, systemd ha substitu茂t init com a responsable principal de la gesti贸 de processos.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#funcions-de-pid-1",
    "href": "slides/02-booting-part3.html#funcions-de-pid-1",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Funcions de PID 1",
    "text": "Funcions de PID 1\n\nGesti贸 de la inicialitzaci贸 del sistema. Carrega els serveis i dimonis necessaris per al bon funcionament del sistema.\nGesti贸 dels processos del sistema. Controla la creaci贸, execuci贸 i finalitzaci贸 dels processos. Si un proc茅s orfe (un proc茅s que perd el seu proc茅s pare) continua en execuci贸, el PID 1 assumeix la seva gesti贸 i, eventualment, la seva terminaci贸.\nArrel de larbre de processos: Tots els altres processos del sistema pengen dell, directament o indirectament. Aix貌 fa que sigui fonamental per a lestabilitat i la continu茂tat del sistema.\nApagat i reinici del sistema: El PID 1 tamb茅 茅s responsable de controlar lapagat i reinici del sistema, garantint que els processos es tanquin adequadament i que el sistema es desconnecti de manera segura",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#systemd-vs-sysvinit",
    "href": "slides/02-booting-part3.html#systemd-vs-sysvinit",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Systemd vs SysVinit",
    "text": "Systemd vs SysVinit\nEl canvi de SysVinit a Systemd en moltes distribucions de Linux va ser motivat per la necessitat de millorar lefici猫ncia i la gesti贸 dels serveis del sistema.\n\n\nSysVinit\n\nSeq眉encial: Basat en scripts. Cada servei dep猫n de lexecuci贸 completa del servei anterior, la qual cosa pot ser lenta.\nSimple: Cada servei sinicia amb un script directament llegible i modificable per ladministrador del sistema.\nInflexible: Dificultat engestionar depend猫ncies. No permet arrencar serveis en paral路lel ni controlar els processos un cop arrencats.\n\n\nSystemd\n\nRendiment: Capacitat de carregar serveis en paral路lel. Reducci贸 temps dinici del sistema.\nModularitat: Els serveis es gestionen a trav茅s dunitats (unit files) que poden especificar depend猫ncies, condicions de reinici automtic,etc.\nCgroups: Limitar/gestionar els recursos assignats a cada servei.\nMonitoratge: Control i seguiment granular dels serveis amb journalctl.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#cr铆tiques-a-systemd",
    "href": "slides/02-booting-part3.html#cr铆tiques-a-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Cr铆tiques a Systemd",
    "text": "Cr铆tiques a Systemd\n\nComplexitat: Integra m煤ltiples funcionalitats (gesti贸 de serveis, journal, timers, logind, networkd, etc.) en un sol proc茅s. Aix貌 pot augmentar la superf铆cie de fallada i dificultar la depuraci贸.\nTrenca amb la filosofia Unix tradicional\n\nUnix promou eines petites, especialitzades i composables.\n\nSystemd concentra moltes tasques en un 煤nic sistema de gesti贸.\n\nDepend猫ncia del sistema: Molts scripts, paquets i eines modernes depenen de systemd, dificultant la compatibilitat amb sistemes alternatius (SysVinit, OpenRC).\n\n\nDebat en la comunitat\n\nEls defensors de systemd argumenten que simplifica ladministraci贸 de sistemes moderns i ofereix funcions que abans requerien m煤ltiples eines externes.\n\nEls cr铆tics insisteixen en que 茅s massa intrusiu i redueix la flexibilitat per a administradors avan莽ats i entorns m铆nims.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#backdoor-en-xz-utils-i",
    "href": "slides/02-booting-part3.html#backdoor-en-xz-utils-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Backdoor en XZ Utils (I)",
    "text": "Backdoor en XZ Utils (I)\nRecents vulnerabilitats en paquets com xz-utils han posat en evid猫ncia la complexitat de Systemd i com una backdoor ocult pot comprometre gran part de la infraestructura moderna de Linux.\n\nEl backdoor va ser introdu茂t de manera gradual, comen莽ant amb contribucions sospitoses al projecte libarchive el 2021.\nDurant el 2022, un desenvolupador desconegut, JiaT75, va guanyar influ猫ncia dins del projecte xz-utils, substituint el contacte del mantenidor original i introduint canvis que van ocultar les vulnerabilitats.\nEl 2023, JiaT75 va introduir modificacions malicioses a xz-utils, aprofitant-les per comprometre sistemes a trav茅s de depend猫ncies amb Systemd.\n\nCVE-2024-3094: Vulnerabilitat que permet lexecuci贸 de codi malici贸s en el sistema mitjan莽ant un defecte en la descompressi贸 de fitxers .xz.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#backdoor-en-xz-utils-ii",
    "href": "slides/02-booting-part3.html#backdoor-en-xz-utils-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Backdoor en XZ Utils (II)",
    "text": "Backdoor en XZ Utils (II)\nAquesta vulnerabilitat va afectar molts servidors Linux, que van actualitzar xz-utils amb la versi贸 compromesa.\n\nliblzma 茅s una llibreria de compressi贸 que es pot enlla莽ar amb altres programes. Per exemple, OpenSSH es pot vincular a liblzma per gestionar la descompressi贸 de fitxers de configuraci贸.\nEn sistemes amb systemd, OpenSSH enlla莽a amb systemd, que a la vegada enlla莽a amb liblzma. Aix貌 permet a XZ Utils controlar indirectament serveis essencials com sshd.\nMitjan莽ant una backdoor oculta en versions modificades de xz-utils, un atacant amb una clau de xifrat pr猫viament establerta podria carregar codi malici贸s en certificats SSH i executar-lo en dispositius compromesos.\n\n\nAquests esdeveniments posen de manifest les contrapartides de la complexitat de Systemd i com una vulnerabilitat en un paquet aparentment inofensiu com xz-utils pot tenir un impacte significatiu en la seguretat del sistema i serveis cr铆tics com sshd.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#executar-els-targets-o-runlevels",
    "href": "slides/02-booting-part3.html#executar-els-targets-o-runlevels",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Executar els Targets o Runlevels",
    "text": "Executar els Targets o Runlevels\nEl PID 1 executa els targets de systemd o runlevels dinit. Els targets representen un conjunt de serveis i m貌duls que sexecuten per a cada estat del sistema. La seva funci贸 茅s definir lestat del sistema i els serveis que shan de carregar en aquest estat. La transici贸 entre els targets es pot fer manualment amb la comanda systemctl isolate o automticament amb la comanda systemctl set-default.\n\n\ndefault.target: Apunta a graphical.target o multi-user.target-\ngraphical.target: Defineix un entorn grfic.\nmulti-user.target: Proporciona un entorn no grfic, permetent m煤ltiples usuaris al sistema, habitual per a servidors.\nrescue.target: Proporciona un entorn de rescat amb una consola de l铆nia de comandes.\nemergency.target: Ofereix un entorn demerg猫ncia que inicialitza el m铆nim de serveis necessaris per a la soluci贸 de problemes.\nshutdown.target: Gestiona lapagat del sistema.\nreboot.target: Gestiona el reinici del sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#units-de-systemd",
    "href": "slides/02-booting-part3.html#units-de-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Units de systemd",
    "text": "Units de systemd\nEls units s贸n els fitxers de configuraci贸 de systemd que defineixen els serveis, ens permeten gestionar-los i controlar-los.\n\n/etc/systemd/system/: Fitxers dunitat personalitzats per ladministrador.\n/run/systemd/system/: Configuraci贸 en temps dexecuci贸, 茅s a dir, afecta nom茅s un arrencada 煤nica.\n/usr/lib/systemd/system/: Configuraci贸 proporcionada per la distribuci贸. A Debian 茅s /lib/systemd/system/.\n\n\nQuan hi ha dos fitxers de configuraci贸 amb el mateix nom, systemd carregar nom茅s un des del directori que estigui m茅s alt en la jerarquia. Per exemple, la configuraci贸 a /etc sempre sobreescriu la configuraci贸 a /usr.\n\n\nDespr茅s de canviar la configuraci贸, 茅s necessari recarregar systemd amb: systemctl daemon-reload.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#tipus-dunitats",
    "href": "slides/02-booting-part3.html#tipus-dunitats",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Tipus dunitats",
    "text": "Tipus dunitats\n\nServeis: Fitxers que defineixen com sinicien, saturen i es gestionen els serveis. Ex: /etc/systemd/system/sshd.service (servei SSH).\nSockets: Units que gestionen els sockets de comunicaci贸 per als serveis.\nDevices: Units que representen dispositius de maquinari.\nMounts: Units que gestionen els punts de muntatge del sistema de fitxers.\nPaths: Units que monitoren els canvis en fitxers o directoris espec铆fics.\nTimers: Units que planifiquen tasques per a la seva execuci贸 en moments espec铆fics.\nTargets: Units que agrupen altres units per a larrencada destats del sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#targets-i-systemd",
    "href": "slides/02-booting-part3.html#targets-i-systemd",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Targets i Systemd",
    "text": "Targets i Systemd",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#exemple-de-fitxer-dunitat",
    "href": "slides/02-booting-part3.html#exemple-de-fitxer-dunitat",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Exemple de fitxer dunitat",
    "text": "Exemple de fitxer dunitat\n\n\n[Unit]\nDescription=CUPS Scheduler\nDocumentation=man:cupsd(8)\nAfter=network.target\n[Service]\nExecStart=/usr/sbin/cupsd -l\nType=notify\n[Install]\nAlso=cups.socket cups.path\nWantedBy=printer.target\n\n\nCUPS (Common Unix Printing System) 茅s un sistema dimpressi贸 utilitzat en sistemes Unix i Linux.\nT茅 una depend猫ncia amb la xarxa (After=network.target), ja que sovint es connecta a impressores de xarxa.\n\n\n\nSinicia amb el comandament /usr/sbin/cupsd -l, que posa en marxa el servei dimpressi贸.\nEs configura per iniciar-se automticament quan sarrenca el sistema (WantedBy=printer.target).\nCups.socket 茅s una unitat de tipus socket que permet a CUPS escoltar connexions entrants per a serveis dimpressi贸.\nCups.path 茅s una unitat de tipus path que monitoritza canvis en fitxers o directoris relacionats amb la configuraci贸 dimpressi贸.\n\n\nAquest fitxer defineix el servei CUPS (Common Unix Printing System) 茅s un sistema que t茅 una depen猫ncia amb la xarxa (After=network.target), sinicia amb el comandament /usr/sbin/cupsd -l i es configura per iniciar-se automticament quan sarrenca el sistema (WantedBy=printer.target). Printer.target 茅s un target que agrupa serveis relacionats amb la impressi贸. Cups.socket i cups.path s贸n altres unitats que tamb茅 sinicien quan sinicia el servei CUPS ja que estan lligades a aquest servei. El tipus de servei 茅s notify, el qual indica que el servei enviar una notificaci贸 a systemd quan estigui llest.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#depend猫ncies-entre-unitats-i",
    "href": "slides/02-booting-part3.html#depend猫ncies-entre-unitats-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Depend猫ncies entre unitats (I)",
    "text": "Depend猫ncies entre unitats (I)\nLes unitats s贸n objectes gestionats per systemd. Les depend猫ncies s贸n associacions entre elles. Cada tipus dunitat t茅 algunes depend猫ncies per defecte (a menys que sespecifiqui el contrari).\nRelacionals\n\nRequires: Indica que una unitat dep猫n duna altra unitat per a la seva activaci贸. Si la unitat requerida no est activa, la unitat que la requereix no sactivar.\nWants: Similar a Requires, per貌 no 茅s tan estricte. Si la unitat requerida no est activa, la unitat que la vol no es bloquejar.\nBindsTo: Similar a Requires, per貌 si la unitat requerida es det茅, la unitat que la vincula tamb茅 es detindr.\nPartOf: Indica que una unitat 茅s part duna altra unitat. Si la unitat pare es det茅, la unitat fill tamb茅 es detindr.\nConflicts: Indica que dues unitats no poden estar actives al mateix temps. Si una unitat sactiva, laltra es detindr automticament.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#depend猫ncies-entre-unitats-ii",
    "href": "slides/02-booting-part3.html#depend猫ncies-entre-unitats-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Depend猫ncies entre unitats (II)",
    "text": "Depend猫ncies entre unitats (II)\nOrdenaci贸\n\nAfter: Indica que una unitat sha diniciar despr茅s duna altra unitat. No crea una depend猫ncia estricta, nom茅s defineix lordre dinici.\nBefore: Indica que una unitat sha diniciar abans duna altra unitat. No crea una depend猫ncia estricta, nom茅s defineix lordre dinici.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#transaccions-a-systemd-i",
    "href": "slides/02-booting-part3.html#transaccions-a-systemd-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Transaccions a systemd (I)",
    "text": "Transaccions a systemd (I)\nCada vegada que lusuari o un servei sol路licita una acci贸 (per exemple, iniciar o aturar un servei), es crea una transacci贸 que gestiona lexecuci贸 ordenada de les unitats afectades.\n\nCreaci贸 de feines (jobs)\n\nEs crea una feina per a la unitat sol路licitada.\n\nSafegeixen recursivament les feines corresponents a totes les depend猫ncies de la unitat.\n\nMinimitzaci贸 de la transacci贸\n\nEliminar feines duplicades o redundants.\n\nEliminar feines que no estiguin referenciades per cap altre job (ancoratge).\n\nResoluci贸 de cicles de depend猫ncies\n\nDetectar loops en el grfic de depend猫ncies.\n\nTrencar-los eliminant feines problemtiques per evitar deadlocks.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#transaccions-a-systemd-i-1",
    "href": "slides/02-booting-part3.html#transaccions-a-systemd-i-1",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Transaccions a systemd (I)",
    "text": "Transaccions a systemd (I)\n\nFusi贸 i optimitzaci贸 de feines\n\nFusionar feines similars per reduir el nombre doperacions.\n\nPrioritzar feines ja existents a la cua.\n\nEnviament i execuci贸\n\nAfegir les feines a la cua de jobs de systemd.\n\nExecutar les feines segons la depend猫ncia i lordre optimitzat.\n\n\n\nGaranteix que les unitats es gestionin de manera at貌mica i ordenada, permetent a systemd paral路lelitzar serveis mentre respecta les depend猫ncies.\n\n\n\nLes transaccions garanteixen que les unitats es gestionin de manera at貌mica i ordenada.\n\nAix貌 permet a systemd paral路lelitzar serveis mentre respecta les depend猫ncies.\n\nCadascuna de les feines cont茅 informaci贸 sobre la unitat, la seva acci贸 (start, stop, reload) i les condicions dexecuci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#systemctl-i",
    "href": "slides/02-booting-part3.html#systemctl-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "systemctl (I)",
    "text": "systemctl (I)\nLa comanda systemctl 茅s leina principal per interactuar amb systemd i gestionar els serveis i unitats del sistema. Algunes de les operacions m茅s comunes inclouen:\n\n\n\n\n\n\n\nComanda\nDescripci贸\n\n\n\n\nsystemctl start &lt;unit&gt;\nInicia una unitat (servei, socket, etc.).\n\n\nsystemctl stop &lt;unit&gt;\nAtura una unitat.\n\n\nsystemctl restart &lt;unit&gt;\nReinicia una unitat.\n\n\nsystemctl status &lt;unit&gt;\nMostra lestat actual duna unitat.\n\n\nsystemctl enable &lt;unit&gt;\nHabilita una unitat perqu猫 sinici茂 automticament en arrencar el sistema.\n\n\nsystemctl disable &lt;unit&gt;\nDeshabilita una unitat perqu猫 no sinici茂 automticament.\n\n\nsystemctl is-active &lt;unit&gt;\nComprova si una unitat est activa.\n\n\nsystemctl is-enabled &lt;unit&gt;\nComprova si una unitat est habilitada per arrencar automticament.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#systemctl-ii",
    "href": "slides/02-booting-part3.html#systemctl-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "systemctl (II)",
    "text": "systemctl (II)\n\n\n\n\n\n\n\nComanda\nDescripci贸\n\n\n\n\nsystemctl list-units\nLlista totes les unitats carregades actualment.\n\n\nsystemctl list-unit-files\nLlista tots els fitxers dunitats disponibles.\n\n\nsystemctl list-dependencies &lt;SERVICE&gt;\nMostra les depend猫ncies duna unitat.\n\n\nsystemctl list-jobs\nMostra les feines pendents i en execuci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#unitat-install",
    "href": "slides/02-booting-part3.html#unitat-install",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Unitat [INSTALL]",
    "text": "Unitat [INSTALL]\n[Install]\nWantedBy=multi-user.target\nAlso=sysstat-collect.timer\nAlso=sysstat-summary.timer\nAlias=monitoring.service\n\nLa secci贸 [Install] defineix com sinstal路la i sinicia una unitat.\nWantedBy=multi-user.target indica que aquesta unitat sha diniciar quan sarrenca el sistema en mode multiusuari (runlevel 3).\nAlso= permet associar altres unitats que shan diniciar juntament amb aquesta.\nAlias= crea un nom alternatiu per a la unitat, facilitant la seva refer猫ncia.\n\n\nEn aquest cas, la unitat siniciar automticament en arrencar el sistema en mode multiusuari, i tamb茅 siniciaran els temporitzadors sysstat-collect.timer i sysstat-summary.timer. A m茅s, es pot referenciar aquesta unitat amb el nom alternatiu monitoring.service.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#opcions-service-i",
    "href": "slides/02-booting-part3.html#opcions-service-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Opcions [Service] (I)",
    "text": "Opcions [Service] (I)\n\n\n\n\n\n\n\nOpci贸\nDescripci贸\n\n\n\n\nType=\nDefineix el tipus de servei (simple, forking, oneshot, notify, idle).\n\n\nExecStart=\nComanda que sexecuta per iniciar el servei.\n\n\nExecStop=\nComanda que sexecuta per aturar el servei.\n\n\nExecReload=\nComanda que sexecuta per recarregar la configuraci贸 del servei.\n\n\nRemainAfterExit=\nIndica si el servei es mant茅 actiu despr茅s de finalitzar.\n\n\nRestart=\nDefineix si el servei sha de reiniciar en cas de fallada.\n\n\nUser=\nDefineix lusuari amb el qual sexecuta el servei.\n\n\nGroup=\nDefineix el grup amb el qual sexecuta el servei.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#opcions-service-ii",
    "href": "slides/02-booting-part3.html#opcions-service-ii",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Opcions [Service] (II)",
    "text": "Opcions [Service] (II)\n\n\n\n\n\n\n\nOpci贸\nDescripci贸\n\n\n\n\nEnvironment=\nDefineix variables dentorn per al servei.\n\n\nWorkingDirectory=\nDefineix el directori de treball del servei.\n\n\nPIDFile=\nEspecifica el fitxer que cont茅 el PID del servei.\n\n\nTimeoutStartSec=\nTemps despera per a linici del servei.\n\n\nTimeoutStopSec=\nTemps despera per a laturada del servei.\n\n\nStandardOutput=\nDefineix on senvia la sortida estndard del servei.\n\n\nStandardError=\nDefineix on senvia lerror",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#tipus-de-serveis-i",
    "href": "slides/02-booting-part3.html#tipus-de-serveis-i",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Tipus de serveis (I)",
    "text": "Tipus de serveis (I)\n\nSimple: Per defecte, aquest servei sinicia immediatament despr茅s del fork(). No espera cap senyal de que el servei estigui llest.\nForking: Aquest tipus de servei 茅s per a processos que es bifurquen (fork) i es converteixen en dimonis. El servei es considera actiu despr茅s que el proc茅s pare finalitzi.\nOneshot: Aquest tipus 茅s per a serveis que realitzen una tasca 煤nica i despr茅s finalitzen. Systemd espera que el proc茅s acabi abans de considerar el servei com a actiu.\nNotify: Aquest tipus de servei utilitza el mecanisme de notificaci贸 de systemd per informar quan est llest. El servei ha denviar una notificaci贸 expl铆cita a systemd.\nDBus: Aquest tipus de servei sutilitza per a serveis que es comuniquen a trav茅s de DBus. El servei es considera actiu quan el nom del bus apareix al bus de sistema.\nIdle: Aquest tipus de servei sinicia nom茅s quan el sistema est inactiu, 茅s a dir, quan no hi ha altres feines pendents.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#efecte-del-tipus-de-servei-al-runtime",
    "href": "slides/02-booting-part3.html#efecte-del-tipus-de-servei-al-runtime",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Efecte del tipus de servei al runtime",
    "text": "Efecte del tipus de servei al runtime",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#script-de-lusuari",
    "href": "slides/02-booting-part3.html#script-de-lusuari",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Script de lusuari",
    "text": "Script de lusuari\nUn cop shan carregat tots els serveis i el sistema est en marxa, els usuaris poden iniciar sessi贸 al sistema. Els scripts de lusuari es troben a la carpeta /etc/profile.d/ i sexecuten quan lusuari inicia sessi贸.\n\n/etc/profile: Cont茅 la configuraci贸 global per a tots els usuaris. Sexecuta en iniciar sessi贸 en un entorn de shell.\n/etc/bashrc: Proporciona configuraci贸 per a shells interactius. Sexecuta cada vegada que sinicia una nova sessi贸 de shell.\n~/.bashrc: Fitxer de configuraci贸 espec铆fic per a lusuari, que sexecuta en iniciar una sessi贸 de shell interactiu.\n~/.bash_profile: Sexecuta quan lusuari inicia sessi贸 a la terminal. Normalment, sutilitza per configurar lentorn de lusuari, incloent la configuraci贸 de lPATH.\n~/.bash_logout: Sexecuta quan lusuari tanca la sessi贸 de shell. Aqu铆 es poden incloure comandes de neteja o tancament.\n~/.bash_history: Fitxer que emmagatzema lhist貌ric de les comandes executades per lusuari en la sessi贸 de shell.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#exercicis-propostas",
    "href": "slides/02-booting-part3.html#exercicis-propostas",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nAnlisi del proc茅s darrencada amb systemd\nServei de C貌pia de Seguretat Automtica amb systemd\nDiscussi贸: Secure Boot 茅s realment segur?: Cerca not铆cies recents sobre Secure Boot i comparteix-les al f貌rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi猫ncies personals.\nPrctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/02-booting-part3.html#thats-all",
    "href": "slides/02-booting-part3.html#thats-all",
    "title": "Arrencada del sistema (Part 3)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEl proc茅s darrencada 茅s un proc茅s complex. Els administradors de sistemes han de con猫ixer aquest proc茅s per poder gestionar i solucionar problemes durant larrencada del sistema i garantir un sistema segur, estable i eficient.",
    "crumbs": [
      "Diapositives",
      "Unitat 02 路 Arrencada del sistema (Part 3)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#qu猫-茅s-un-raid",
    "href": "slides/03-filesystem-part2.html#qu猫-茅s-un-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Qu猫 茅s un RAID?",
    "text": "Qu猫 茅s un RAID?\nUn RAID (Redundant Array of Independent (originalment Inexpensive) Disks) 茅s un conjunt de dispositius demmagatzematge que es combinen per a formar un sistema demmagatzematge 煤nic. Aquest nou sistema demmagatzematge permet distribuir les dades entre els diferents dispositius que el formen i millorar-ne m猫triques com la redundncia o el rendiment.\n\n\nEls RAIDs s贸n un conjunt de dispositius demmagatzematge que es combinen per a formar un sistema demmagatzematge 煤nic.\nEl principal objectiu daquesta combinaci贸 茅s tolerar les fallades que es poden produir en els dispositius demmagatzematge. Aquesta redundncia es pot aconseguir mitjan莽ant la duplicaci贸 de les dades o mitjan莽ant la paritat, com veurem m茅s endavant.\nUn altre objectiu important dels RAIDs 茅s millorar el rendiment del sistema mitjan莽ant la distribuci贸 de les dades entre els diferents dispositius. Aix貌 permet millorar la velocitat de lectura i escriptura de les dades. Es coneix tamb茅 com striping o en altres paraules ens permet incrementar la ample de banda.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#qu猫-茅s-el-rendiment-i-la-redundncia",
    "href": "slides/03-filesystem-part2.html#qu猫-茅s-el-rendiment-i-la-redundncia",
    "title": "Sistema de fitxers (II)",
    "section": "Qu猫 茅s el rendiment i la redundncia?",
    "text": "Qu猫 茅s el rendiment i la redundncia?\n\nLa redundncia 茅s la capacitat dun sistema de continuar funcionant en cas de fallada dun o m茅s dispositius. Aquesta capacitat es pot aconseguir mitjan莽ant la duplicaci贸 de les dades o mitjan莽ant la paritat.\nEl rendiment 茅s la capacitat dun sistema de processar un volum de dades en un temps determinat. Aquesta capacitat es pot aconseguir mitjan莽ant la distribuci贸 de les dades entre els diferents dispositius, mitjan莽ant una t猫cnica coneguda com striping.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#conceptes-bsics",
    "href": "slides/03-filesystem-part2.html#conceptes-bsics",
    "title": "Sistema de fitxers (II)",
    "section": "Conceptes bsics",
    "text": "Conceptes bsics\n\nRedundncia: Capacitat de tolerar fallades de dispositiu (quantitat de discs que poden fallar sense perdre dades).\nRendiment: Mesurat en IOPS i ample de banda MB/s. Dep猫n de la mida de stripe,nombre de discs i patr贸 dacc茅s (seq眉encial vs aleatori).\nCapacitat: La capacitat total del sistema 茅s la suma de les capacitats dels dispositius que el formen, tenint en compte la redundncia.\nStripe: Un stripe 茅s una unitat dinformaci贸 que es distribueix entre els diferents dispositius que formen el RAID. Conjunt de blocs distribu茂ts entre discs dins del RAID.\nBloc: Un bloc 茅s una unitat dinformaci贸 que es llegeix o sescriu en un dispositiu demmagatzematge. (512B, 4KB).\n\n\n\n\n\n\n\n\nDifer猫ncia entre Stripe i Bloc\n\n\nAmb 2 dispositius i un stripe de 64 KB, cada dispositiu guarda 64 KB alternatius dun fitxer.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#implementacions-de-raids",
    "href": "slides/03-filesystem-part2.html#implementacions-de-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Implementacions de RAIDs",
    "text": "Implementacions de RAIDs\n\nSoftware RAID: Implementat a nivell de sistema operatiu.\n\nAvantatges: flexibilitat, transpar猫ncia, no dep猫n del hardware.\nInconvenients: CPU utilitzat per clculs de paritat.\n\nHardware RAID: Controladora dedicada (caracter铆stiques pr貌pies, cache, acceleraci贸 XOR).\n\nAvantatges: millors rendiments en alguns escenaris;\nInconvenients: depend猫ncia del controlador, propietat de metadades.\n\nFake/BIOS RAID: Soluci贸 mixta (controladora amb firmware m铆nim). Pot generar problemes de portabilitat i compatibilitat.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#implementacions-de-raids-1",
    "href": "slides/03-filesystem-part2.html#implementacions-de-raids-1",
    "title": "Sistema de fitxers (II)",
    "section": "Implementacions de RAIDs",
    "text": "Implementacions de RAIDs",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-lineal",
    "href": "slides/03-filesystem-part2.html#raid-lineal",
    "title": "Sistema de fitxers (II)",
    "section": "RAID Lineal",
    "text": "RAID Lineal\n\ncat l貌gic entre diversos dispositius demmagatzematge f铆sics. JBOD (Just a Bunch Of Disks). No millora ni la redundncia ni el rendiment.\n\n\n\n\n\n\nEl RAID lineal 茅s el m茅s bsic de tots els tipus de RAID.\nEn aquest sistema, la informaci贸 es distribueix primer en un disc i despr茅s en laltre, seguint un ordre seq眉encial. Cada unitat dinformaci贸 es coneguda com a stripe, i correspon a un bloc.\nLa figura mostra un exemple de RAID Lineal (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple shan guardat els primers blocs (1 al 6) a la partici贸 (/dev/vda1). Ara, sha dassumir que la partici贸 (/dev/sda1) es plena. Els seg眉ents blocs es guarden a la seg眉ent partici贸 disponible (/dev/vdb1). I aix铆 successivament.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-0-striping",
    "href": "slides/03-filesystem-part2.html#raid-0-striping",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 0 (Striping)",
    "text": "RAID 0 (Striping)\n\n\n\n\n\n\n\nObjectiu: augmentar rendiment i capacitat (capacitat = suma de discos).\nMida de stripe:\n\nPetits milloren IOPS aleatoris.\nGrans stripes milloren seq眉encials.\n\nSi les dades s贸n prou grans, es poden llegir/escriure en paral路lel.\nTolerncia a fallades: 0 (p猫rdua total si un disc falla).\nAplicacions: cache, fitxers temporals, tasques on la redundncia no 茅s prioritria.\n\n\n\n\nEl nivell 0 de RAID 茅s un dels m茅s senzills i m茅s utilitzats. El seu objectiu principal 茅s millorar el rendiment del sistema mitjan莽ant la distribuci贸 de les dades entre els diferents dispositius.\nAquesta distribuci贸 es realitza mitjan莽ant una t猫cnica coneguda com striping. Aquesta t猫cnica permet dividir les dades en blocs m茅s petits i distribuir-los entre els diferents dispositius. Fent Round Robin a tots els dispositius.\nAix貌 permet millorar la velocitat de lectura i escriptura de les dades, per tant incrementa lample de banda.\nLa capacitat del sistema tamb茅 es veu incrementada, ja que la capacitat total del sistema 茅s la suma de les capacitats dels dispositius que el formen.\nEl principal desavantatge del nivell 0 de RAID 茅s que no ofereix cap tipus de redundncia. Aix貌 vol dir que si un dels dispositius falla, es perden totes les dades del sistema.\nLa figura mostra un exemple de RAID0 (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple shan guardat els primers blocs (1 al 6) de forma alternada 1 a cada disc. El seg眉ent bloc (9) es guarda al disc (/dev/vdb). En aquest exemple, els blocs parells es guarden al disc (/dev/vdb) i els senars al disc (/dev/vda).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-1-mirror",
    "href": "slides/03-filesystem-part2.html#raid-1-mirror",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 1 (Mirror)",
    "text": "RAID 1 (Mirror)\n\n\n\n\n\nObjectiu: redundncia via duplicaci贸 exacta (mirrors).\nLectures: potencialment paral路leles (millora), dep猫n del controlador.\nEscriptures: es repliquen en tots els mirrors (overhead escritura).\nCapacitat usable: 50% amb 2 discos (en general n/2 en conjunts de mirrors).\nAplicacions: sistema root, dades cr铆tiques on la coher猫ncia immediata 茅s prioritria.\n\n\n\n\nEl nivell 1 t茅 com a objectiu principal millorar la redundncia del sistema mitjan莽ant la duplicaci贸 de les dades en dos dispositius.\nLa figura 1.3 mostra un exemple de RAID1 (/dev/md0) amb dos discos (/dev/vda i /dev/vdb). En aquest exemple shan guardat els primers blocs (1 al 6) de forma id猫ntica en els dos discos. Aix貌 significa que si un dels discos falla, laltre disc pot continuar funcionant sense interrupci贸, ja que cont茅 una c貌pia completa de totes les dades.\nPer tant, el principal avantatge del nivell 1 de RAID 茅s la redundncia. Aix貌 vol dir que si un dels dispositius falla, es poden recuperar les dades sense problemes.\nUn altre avantatge del nivell 1 de RAID 茅s que permet realitzar lectures gaireb茅 el doble de rpides, ja que es poden llegir les dades de forma simultnia des dels dos dispositius.\nPer contra, el nivell 1 de RAID tamb茅 t茅 alguns desavantatges. El principal desavantatge 茅s el cost, ja que es necessiten m茅s dispositius per a duplicar les dades. Aix貌 vol dir que el cost del sistema es duplica. A m茅s, lescriptura 茅s m茅s lenta, ja que es necessita escriure les dades en els dos dispositius de forma simultnia. Finalment, la capacitat del sistema tamb茅 es veu redu茂da, ja que nom茅s es pot utilitzar la meitat de la capacitat total dels dispositius.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-2",
    "href": "slides/03-filesystem-part2.html#raid-2",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 2",
    "text": "RAID 2\n\n\n\n\nEl stripe 茅s a nivell de bit i no de bloc com fins ara.\nPrcticament obsolet en sistemes moderns: exigeix molts discs i acc猫s sincronitzat.\n\n\n\nEl nivell 2 de RAID utilitza la paritat per detectar i corregir errors en les dades. Aquesta paritat es calcula mitjan莽ant bits de control anomenats bits de paritat.\nObservem que el stripe 茅s a nivell de bit i no de bloc com fins ara. Aix貌 vol dir que les dades es divideixen en bits m茅s petits i es distribueixen entre els diferents dispositius.\nLa Figura 1.4 mostra un exemple duna configuraci贸 RAID 2 que implementa un codi Hamming(4,3), 茅s a dir, 4 bits de dades i 3 bits de paritat. Aquesta configuraci贸 pot semblar poc prctica en molts contextos, per貌 ens proporciona una comprensi贸 clara de com funciona la codificaci贸 de les dades i, en particular, la codificaci贸 de Hamming.\nEls codis Hamming s贸n una classe de codis de correcci贸 derrors que es basen en la paritat. Aquests codis s贸n molt 煤tils per a la detecci贸 i correcci贸 derrors en les dades, ja que permeten identificar i corregir errors en les dades sense necessitat de retransmissi贸.\nEl seu 煤s es poc prctic en molts contextos, ja que requereix una gran quantitat de dispositius i afegeix la complexitat de la implementaci贸 de la codificaci贸 de Hamming (encoded).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#codis-de-hamming",
    "href": "slides/03-filesystem-part2.html#codis-de-hamming",
    "title": "Sistema de fitxers (II)",
    "section": "Codis de Hamming",
    "text": "Codis de Hamming\nEls codis de Hamming s贸n una classe de codis de correcci贸 derrors que es basen en la paritat. Aquests codis s贸n molt 煤tils per a la detecci贸 i correcci贸 derrors en les dades, ja que permeten identificar i corregir errors en les dades sense necessitat de retransmissi贸.\n\nEl codi de Hamming permet detectar i corregir un sol error de bit.\n\nSutilitza en el RAID 2 per protegir dades a nivell de bit.\nSintercalen bits de paritat entre els bits de dades.\n\nCada bit de paritat comprova un conjunt espec铆fic de bits de dades.\n\nSi un bit es corromp, la combinaci贸 dels bits de paritat indica quin bit sha de corregir.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#xor-operaci贸-bsica",
    "href": "slides/03-filesystem-part2.html#xor-operaci贸-bsica",
    "title": "Sistema de fitxers (II)",
    "section": "XOR (Operaci贸 bsica)",
    "text": "XOR (Operaci贸 bsica)\nLa operaci贸 XOR (exclusive OR) 茅s una operaci贸 l貌gica que compara dos bits i retorna un bit de resultat. El resultat 茅s 1 si els bits comparats s贸n diferents, i 0 si s贸n iguals.\n\n\n\nA\nB\n\\(A \\oplus B\\)\n\n\n\n\n0\n0\n0\n\n\n0\n1\n1\n\n\n1\n0\n1\n\n\n1\n1\n0",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#hamming74---0110",
    "href": "slides/03-filesystem-part2.html#hamming74---0110",
    "title": "Sistema de fitxers (II)",
    "section": "Hamming(7,4) -> [0110]",
    "text": "Hamming(7,4) -&gt; [0110]\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\\(p_1\\)\n\\(p_2\\)\n\\(d_1\\)\n\\(p_3\\)\n\\(d_2\\)\n\\(d_3\\)\n\\(d_4\\)\n\n\nDades\n\n\n0\n\n1\n1\n0\n\n\n\\(p_1\\)\n1\n\n0\n\n1\n\n0\n\n\n\\(p_2\\)\n\n1\n0\n\n\n1\n0\n\n\n\\(p_3\\)\n\n\n\n0\n1\n1\n0\n\n\nCodi\n1\n1\n0\n0\n1\n1\n0\n\n\n\n\n\n\nEls bits que s贸n pot猫ncia de 2 (\\(2^k\\), k=0,1, 2) s贸n els bits de paritat.\nBits de paritat = XOR bits de dades amb el \\(n^o\\) de bit de paritat.\n\n\n\n\n[0110] es codifica com [1100110]",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-1100110",
    "href": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-1100110",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci贸 derrors amb Hamming [1100110]",
    "text": "Comprovaci贸 derrors amb Hamming [1100110]\n\nEs calcula els bits de Comprovaci贸 = XOR del bits de paritat i de tots els seus bits de dades associats:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci贸\n\n\nCodi\n1\n1\n0\n0\n1\n1\n0\n\n\n\np\\(_1\\)\n1\n\n0\n\n1\n\n0\n0\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n0\n0\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n0\n0\n\n\n\n\nTots els bits de comprovaci贸 = 0  cap error detectat.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-1100111",
    "href": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-1100111",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci贸 derrors amb Hamming [1100111]",
    "text": "Comprovaci贸 derrors amb Hamming [1100111]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci贸\n\n\nCodi\n1\n1\n0\n0\n1\n1\n1\n\n\n\np\\(_1\\)\n1\n\n0\n\n1\n\n1\n1\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n1\n1\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n1\n1\n\n\n\n\nSha alterat el bit 7 corresponent a d\\(_4\\).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-0100110",
    "href": "slides/03-filesystem-part2.html#comprovaci贸-derrors-amb-hamming-0100110",
    "title": "Sistema de fitxers (II)",
    "section": "Comprovaci贸 derrors amb Hamming [0100110]",
    "text": "Comprovaci贸 derrors amb Hamming [0100110]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n\np\\(_1\\)\np\\(_2\\)\nd\\(_1\\)\np\\(_3\\)\nd\\(_2\\)\nd\\(_3\\)\nd\\(_4\\)\nComprovaci贸\n\n\nCodi\n0\n1\n0\n0\n1\n1\n0\n\n\n\np\\(_1\\)\n0\n\n0\n\n1\n\n0\n1\n\n\np\\(_2\\)\n\n1\n0\n\n\n1\n0\n0\n\n\np\\(_3\\)\n\n\n\n0\n1\n1\n0\n0\n\n\n\n\nEls bits de comprovaci贸 = 001  sha alterat el bit 1 corresponent a \\(p_1\\).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-3-i-4",
    "href": "slides/03-filesystem-part2.html#raid-3-i-4",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 3 i 4",
    "text": "RAID 3 i 4\n\n\n\n\n\nRAID 3: striping a nivell de byte, paritat en disc dedicat; acc茅s molt sincronitzat  bo per fitxers grans i seq眉encials (p.ex. streaming).\nRAID 4: striping a nivell de bloc, paritat en disc dedicat; permet accessos independents per bloc per貌 pateix bottleneck al disc de paritat.\nEn ambd贸s casos la paritat dedicada pot ser coll dampolla per escriptura.\n\n\n\n\nLa difer猫ncia entre un RAID 3 i 4 茅s la granularitat de la paritat. En un RAID 3 la paritat es calcula a nivell de bytes i en un RAID 4 a nivell de blocs.\nLes dades es distribueixen com un RAID 0 i la paritat es guarda en un disc dedicat.\nEn realitat, en un RAID 3 o 4, les dades no es dupliquen, sin贸 que es calcula una paritat. Si un disc falla, les dades es poden recuperar utilitzant la informaci贸 de paritat dels altres discs.\nLa figura il路lustra un exemple de configuraci贸 RAID 4. En aquest exemple, el RAID 4, identificat com a /dev/md0, est format per cinc discos: /dev/vda, /dev/vdb, /dev/vdc, /dev/vdd i /dev/vde. En aques- ta configuraci贸 RAID 4, els primers quatre discos (/dev/vda, /dev/vdb, /dev/vdc, i /dev/vdd) sutilitzen per emmagatzemar les dades. El cin- qu猫 disc (/dev/vde) sutilitza exclusivament per a la paritat.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-5",
    "href": "slides/03-filesystem-part2.html#raid-5",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 5",
    "text": "RAID 5\n\n\n\n\n\nParitat distribu茂da entre tots els discos (evita coll dampolla 煤nic).\nTolerncia: 1 disc (hi ha un petit risc durant rebuild). Probabilitat de fallada en discs grans.\nLectura: alta (com RAID0).\nEscriptura: penalitzaci贸 per read-modify-write (llegir bloc antic, llegir paritat antiga, escriure dades i paritat nova)  cr铆tic per a crregues amb moltes escriptures petites.\nCapacitat: \\((n-1)/n\\).\nAplicacions: sistemes de fitxers, bases de dades, servidors web.\n\n\n\n\nEl RAID 5 茅s un dels nivells de RAID m茅s utilitzats en els sistemes informtics actuals. Aquest RAID ofereix un bon equilibri entre rendiment i redundncia.\nLa principal difer猫ncia entre un RAID 4 i un RAID 5 茅s que en un RAID 5 la paritat es distribueix entre els diferents discs per evitar el coll dampolla.\nLa figura il路lustra un exemple de configuraci贸 RAID 5. En aquesta configuraci贸, la paritat es distribueix entre tots els discs, en lloc de ser emmagatzemada en un disc dedicat com en el RAID 4.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-6",
    "href": "slides/03-filesystem-part2.html#raid-6",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 6",
    "text": "RAID 6\n\nExtensi贸 de RAID5 amb doble paritat (P i Q)  tolera 2 fallades simultnies.\nRecomanat en conjunts grans (n gran) on la probabilitat de fallada durant rebuild 茅s significativa.\nPenalitzaci贸 descriptura m茅s elevada que RAID5, per貌 millor tolerncia.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-10",
    "href": "slides/03-filesystem-part2.html#raid-10",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 10",
    "text": "RAID 10\n\nmirror + stripe. Tolerncia variable segons quins discs fallen; reconstrucci贸 molt m茅s rpida.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#raid-50",
    "href": "slides/03-filesystem-part2.html#raid-50",
    "title": "Sistema de fitxers (II)",
    "section": "RAID 50",
    "text": "RAID 50\n\nStripe sobre m煤ltiples conjunts RAID5. Millora rendiment i tolerncia depenent de cada grup.\n\n\n.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#comparativa-de-raids",
    "href": "slides/03-filesystem-part2.html#comparativa-de-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Comparativa de RAIDs",
    "text": "Comparativa de RAIDs\n\n\n\n\n\n\n\n\n\n\n\nNivell\nMin discs\nCapacitat\nTolerncia\nLectura\nEscriptura\n\n\n\n\nRAID 0\n2\n100%\n0\nAlt\nAlt\n\n\nRAID 1\n2\n50% (amb 2 discos)\n1 per mirror\nPot ser Alt\nMitj\n\n\nRAID 5\n3\n\\((n-1)/n\\)\n1\nAlt\nMitj-Baix\n\n\nRAID 6\n4\n\\((n-2)/n\\)\n2\nAlt\nMitj-Baix (pitjor que RAID5)\n\n\nRAID 10\n4\n50% (dep猫n)\n1 (segons fallades)\nAlt\nAlt\n\n\nRAID 50\n6\naproximadament \\((n-1)/n\\) per grup\n1 per grup\nAlt\nMitj\n\n\n\n\n\nLa taula mostra una comparativa entre els diferents nivells de RAID m茅s comuns. Aquesta comparativa inclou les caracter铆stiques m茅s importants de cada RAID, com ara el nombre m铆nim de dispositius, la redundncia, el rendiment en lectura i escriptura i la capacitat.\nCom es pot observar, cada RAID t茅 les seves pr貌pies caracter铆stiques i avantatges. Per exemple, el RAID 0 ofereix un rendiment molt alt en lectura i escriptura, per貌 no ofereix cap tipus de redundncia. En canvi, el RAID 1 ofereix una alta redundncia, per貌 el rendiment en escriptura 茅s baix.\nPer exemple, la instal路laci贸 dun sistema operatiu es podria fer en un RAID 1, ja que la redundncia 茅s m茅s important que el rendiment.\nEn canvi, un servidor web seria m茅s adequat en un RAID 5, ja que ofereix un bon equilibri entre rendiment i redundncia.\nEn general, la selecci贸 del RAID m茅s adequat dep猫n de les necessitats del sistema i dels usuaris.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#dispositiu-devmd",
    "href": "slides/03-filesystem-part2.html#dispositiu-devmd",
    "title": "Sistema de fitxers (II)",
    "section": "Dispositiu /dev/md*",
    "text": "Dispositiu /dev/md*\n\nLinux implementa Software RAID mitjan莽ant el subsistema del kernel MD (Multiple Device).\nEl m貌dul principal 茅s md_mod, que crea dispositius virtuals de bloc /dev/mdX sobre dispositius f铆sics (/dev/sd*, /dev/nvme*, etc.).\nCada dispositiu MD 茅s gestionat per un controlador de tipus mdX que mant茅 una taula de mapatge (metadata) amb:\n\nnivell RAID (level)\nnombre de dispositius (raid_disks)\nsuperblocs (superblock)\nestat de sincronitzaci贸 i fallades",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#components-del-subsistema-md",
    "href": "slides/03-filesystem-part2.html#components-del-subsistema-md",
    "title": "Sistema de fitxers (II)",
    "section": "Components del subsistema MD",
    "text": "Components del subsistema MD\n\n\n\n\n\n\n\nComponent\nFunci贸 principal\n\n\n\n\nmd_mod\nGestor principal del subsistema MD (creaci贸 i manteniment de /dev/mdX).\n\n\nraid0, raid1, raid5, raid6, raid10\nM貌duls del kernel que implementen la l貌gica espec铆fica de cada nivell RAID.\n\n\nmdadm\nEina user-space que interactua amb el subsistema MD via ioctl i sysfs.\n\n\n/proc/mdstat\nPunt dentrada per consultar estat de sincronitzaci贸, reconstrucci贸 i fallades.\n\n\n/sys/block/mdX\nDirectori amb informaci贸 detallada i opcions de configuraci贸 per a cada mdX.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#flux-doperacions",
    "href": "slides/03-filesystem-part2.html#flux-doperacions",
    "title": "Sistema de fitxers (II)",
    "section": "Flux doperacions",
    "text": "Flux doperacions\n\n\n\n\n\nsequenceDiagram\n    participant A as Aplicaci贸\n    participant B as Sistema de fitxers\n    participant C as VFS\n    participant D as /dev/mdX (md_mod)\n    participant E as Driver RAIDn\n    participant F as Discos f铆sics\n\n    A-&gt;&gt;B: Read/Write\n    B-&gt;&gt;C: Operaci贸 de fitxer\n    C-&gt;&gt;D: Acc茅s a /dev/mdX\n    D-&gt;&gt;E: Gesti贸 RAID\n    E-&gt;&gt;F: Acc茅s a discos f铆sics\n\n\n\n\n\n\n\nLes operacions de paritat, mirroring o striping sexecuten al context del kernel, sovint amb tasques as铆ncrones (mdX_raid_thread).\nLes metadades del RAID semmagatzemen al final (o inici) de cada disc com a superblock MD v1.x.\nDes del kernel 4.0 es pot utilitzar reshape per canviar el nivell RAID o afegir dispositius en viu.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#paquet-mdadm",
    "href": "slides/03-filesystem-part2.html#paquet-mdadm",
    "title": "Sistema de fitxers (II)",
    "section": "Paquet mdadm",
    "text": "Paquet mdadm\nEn la majoria de les distribucions de Linux, el paquet mdadm permet la creaci贸 i gesti贸 de dispositius RAID.\n\n\nDistribucions basades en Red Hat\ndnf search mdadm\ndnf install mdadm -y\n\nDistribucions basades en Debian\napt search mdadm\napt install mdadm -y\n\n\nEl funcionament del paquet mdadm 茅s similar en totes les distribucions de Linux. Per tant, les instruccions d煤s s贸n similars i no importa la distribuci贸 que sutilitzeu.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#creaci贸-de-dispositius-raids",
    "href": "slides/03-filesystem-part2.html#creaci贸-de-dispositius-raids",
    "title": "Sistema de fitxers (II)",
    "section": "Creaci贸 de Dispositius RAIDs",
    "text": "Creaci贸 de Dispositius RAIDs\n\n\nOpcions Bsiques\nmdadm --create --verbose /dev/[nom] \n--level=[nivell] \n--raid-devices=[n潞 dispositius] [dispositius]\n\n--create: Crea un nou dispositiu RAID.\n--verbose: Mostra informaci贸 detallada sobre el proc茅s.\n/dev/[nom]: Nom del dispositiu RAID.\n--level=[nivell]: RAID.\n--raid-devices=[n潞 dispositius]: Nombre de dispositius que formen el RAID.\n[dispositius]: Llista de dispositius que formen el RAID.\n\n\n\n\nAltres Opcions\nmdadm --create --help\n\n--metadata=[tipus]: Tipus de metadades.\n--spare-devices=[n潞 dispositius]: Nombre de dispositius reservats.\n--chunk=[mida]: Mida dels blocs.\n--layout=[esquema]: Esquema de distribuci贸 de les dades.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#gesti贸-del-raid---manage",
    "href": "slides/03-filesystem-part2.html#gesti贸-del-raid---manage",
    "title": "Sistema de fitxers (II)",
    "section": "Gesti贸 del RAID (--manage)",
    "text": "Gesti贸 del RAID (--manage)\nmdadm --manage /dev/[nom] [options] [dispositius]\n  --add         -a   : afegeix dispositius posteriors a l'array\n  --re-add           : els dispositius posteriors s贸n reafegits si eren\n                     : membres recents de l'array\n  --remove      -r   : elimina els dispositius posteriors, que no han d'estar actius\n  --fail        -f   : marca els dispositius posteriors com a defectuosos\n  --set-faulty       : igual que --fail\n  --replace          : marca el(s) dispositiu(s) per ser reempla莽at(s) per recanvis. \n                     : Un cop completat el reempla莽ament, el dispositiu es marcar \n                     : com a defectu贸s\n  --with             : indica quin recanvi hauria de preferir un '--replace' anterior\n  --run         -R   : inicia un array parcialment constru茂t\n  --stop        -S   : desactiva l'array, alliberant tots els recursos\n  --readonly    -o   : marca l'array com a nom茅s lectura\n  --readwrite   -w   : marca l'array com a lectura i escriptura",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#informaci贸-i-monitoratge-del-raid",
    "href": "slides/03-filesystem-part2.html#informaci贸-i-monitoratge-del-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Informaci贸 i Monitoratge del RAID",
    "text": "Informaci贸 i Monitoratge del RAID\nLes opcions --detail i --examine permeten obtenir informaci贸 detallada sobre un dispositiu RAID. La principal difer猫ncia entre ambdues opcions 茅s que --examine mostra informaci贸 m茅s detallada sobre el dispositiu.\n\n\nmdadm --detail /dev/[nom]\n\nmdadm --examine /dev/[nom]\n\nLa opci贸 --monitor permet monitorar un dispositiu RAID en temps real. Obtenint informaci贸 sobre els esdeveniments que es produeixen en el dispositiu i ens permet prendre accions en conseq眉猫ncia.\nmdadm --monitor /dev/[nom]",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#ensamblatge---assemble",
    "href": "slides/03-filesystem-part2.html#ensamblatge---assemble",
    "title": "Sistema de fitxers (II)",
    "section": "Ensamblatge --assemble",
    "text": "Ensamblatge --assemble\n\nPermet muntar un array RAID existent.\nAquesta opci贸 no crea un nou array, sin贸 que reuneix un array existent a partir dels dispositius que especifiquem.\n\nmdadm --assemble /dev/[nom] [dispositius]\n\nCada cop que el sistema sinicia, aquesta opci贸 sexecuta al kernel. Escaneja els discs, busca els superblocks i reconstrueix tots els arrays per a nosaltres.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#initramfs-i-raid",
    "href": "slides/03-filesystem-part2.html#initramfs-i-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Initramfs i RAID",
    "text": "Initramfs i RAID\nEn entorns amb RAID, initramfs inclou els binaris i la configuraci贸 necessaris per gestionar els arrays RAID. Durant la fase darrencada, es fa servir la comanda:\nmdadm --assemble --scan\nDetecta i munta automticament tots els arrays definits a /etc/mdadm/mdadm.conf. Aix貌 assegura que les particions RAID estiguin operatives abans de muntar la partici贸 root i iniciar el sistema operatiu.\nA m茅s, initramfs pot incloure scripts per comprovar la integritat dels dispositius RAID i gestionar fallades de discs durant larrencada, assegurant un boot fiable en entorns amb mirroring (RAID1).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#actualitzaci贸-amb---grow",
    "href": "slides/03-filesystem-part2.html#actualitzaci贸-amb---grow",
    "title": "Sistema de fitxers (II)",
    "section": "Actualitzaci贸 amb --grow",
    "text": "Actualitzaci贸 amb --grow\nAquesta opci贸 permet actualitzar un dispositiu RAID. Per exemple, canviar el RAID, augmentar el nombre de dispositius o canviar la mida dels blocs.\nmdadm --grow /dev/[nom] --level=[nivell] --raid-devices=[n潞 dispositius]\n\nSituaci贸 I: En un RAID5 format per 3 discs, ens pot interessar al cap del temps afegir un disc m茅s.\nSituaci贸 II: En un RAID5 format per 4 discs, ens pot interessar al cap del temps canviar el RAID a 6.\nSituaci贸 III: En un RAID5 format per 4 discs, ens pot interessar al cap del temps canviar la mida dels blocs.\n\n\n\n\n\n\n\n\nCompte!\n\n\nAmb aquestes operacions, el sistema pot quedar inutilitzat. s recomanable fer una c貌pia de seguretat abans de realitzar aquestes operacions.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#aturar-i-eliminar-un-raid",
    "href": "slides/03-filesystem-part2.html#aturar-i-eliminar-un-raid",
    "title": "Sistema de fitxers (II)",
    "section": "Aturar i Eliminar un RAID",
    "text": "Aturar i Eliminar un RAID\nPer aturar un RAID, podem utilitzar lopci贸 --stop del mode --manage de mdadm. Aquesta opci贸 desactiva larray i allibera tots els recursos associats.\nmdadm --manage /dev/[nom] --stop\n\n\n\n\n\n\n\nCompte!\n\n\nAquesta operaci贸 no destruir larray, sin贸 que simplement el desactivar. Per eliminar un raid podem eliminar el seu dispositiu associat, sempre primer aturant larray.\nmdadm --manage /dev/[nom] --stop\nrm /dev/[nom]",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#etcmdadmmdadm.conf",
    "href": "slides/03-filesystem-part2.html#etcmdadmmdadm.conf",
    "title": "Sistema de fitxers (II)",
    "section": "/etc/mdadm/mdadm.conf",
    "text": "/etc/mdadm/mdadm.conf\nAquest fitxer cont茅 informaci贸 que permet al sistema recon猫ixer i muntar automticament els arrays RAID durant larrencada i tamb茅 proporciona parmetres per a la creaci贸, monitoritzaci贸 i manteniment dels arrays.\nARRAY /dev/md0 UUID=12345678:90ab:cdef:1234:567890abcdef\nARRAY /dev/md1 UUID=abcdef12:3456:7890:abcd:ef1234567890\n\nARRAY: indica un dispositiu RAID gestionat per mdadm.\n/dev/mdX: dispositiu de bloc que representa larray RAID.\nUUID: identificador 煤nic de larray RAID, utilitzat per assegurar que el sistema connecta correctament les particions corresponents encara que canvi茂n els noms dels dispositius f铆sics (per exemple, vdb1 esdev茅 vdc1).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-prctic-i",
    "href": "slides/03-filesystem-part2.html#cas-prctic-i",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Prctic (I)",
    "text": "Cas Prctic (I)\nAssumeix que vols configurar un RAID per configurar la partici贸 root del teu servidor Debian. quin RAID recomanaries i que taportaria?\n\nEl RAID 5. Aquest RAID ofereix redundncia i una millora en la velocitat de lectura. No obstant aix貌, requereix un m铆nim de tres discs i la velocitat descriptura pot veures afectada per les operacions de paritat. Aquest RAID pot ser una bona opci贸 per a emmagatzemament de dades, per貌 pot ser massa complex per a un sistema root.\nEl RAID 10 combina les caracter铆stiques del RAID 1 i del RAID 0, oferint tant redundncia com una millora en la velocitat de lectura i escriptura. Aquest RAID pot ser una bona opci贸 per a un sistema que requereixi un alt rendiment, per貌 pot ser massa cost贸s per a un sistema root.\n\n\n\nLa meva recomanaci贸 茅s utilitzar RAID 1 per a un sistema root, ja que proporciona la redundncia necessria per assegurar la integritat de les dades del sistema. Si la velocitat de lectura 茅s una preocupaci贸, es podria considerar l煤s dun disc SSD",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-prctic-ii",
    "href": "slides/03-filesystem-part2.html#cas-prctic-ii",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Prctic (II)",
    "text": "Cas Prctic (II)\nAssumeix que vols configurar un servidor amb dos discs SATA per fer renders de v铆deo on lobjectiu principal es millorar el rendiment i la capacitat denmagatzemament temporal. Quin RAID recomanaries?\n\nCom 煤nicament es disposa de dos discs, el RAID 0 seria la millor opci贸. Aquest RAID millora el rendiment i la capacitat demmagatzemament temporal, ja que les dades es divideixen i semmagatzemen en els dos discs de forma simultnia. No obstant aix貌, cal tenir en compte que el RAID 0 no ofereix cap mena de redundncia. Per tant, si un dels discs falla, es perdran totes les dades. Shaurien de fer c貌pies de seguretat regulars per evitar la p猫rdua de dades.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#cas-prctic-iii",
    "href": "slides/03-filesystem-part2.html#cas-prctic-iii",
    "title": "Sistema de fitxers (II)",
    "section": "Cas Prctic (III)",
    "text": "Cas Prctic (III)\nAssumeix un servidor de bases de dades on la integritat de les dades es cr铆tica i les transaccions han de ser rpides. Quin RAID recomanaries?\n\nEn aquest cas, el RAID 10 seria la millor opci贸. Aquest RAID combina les caracter铆stiques del RAID 1 i del RAID 0, oferint tant redundncia com una millora en la velocitat de lectura i escriptura. Aix貌 茅s important per a un servidor de bases de dades on la integritat de les dades 茅s cr铆tica i les transaccions han de ser rpides.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#exercici",
    "href": "slides/03-filesystem-part2.html#exercici",
    "title": "Sistema de fitxers (II)",
    "section": "Exercici",
    "text": "Exercici\n\nConfiguraci贸 dun RAID 1 a AlmaLinux amb una instal路laci贸 neta.\nMigraci贸 de /home a un RAID 1 en un sistema Debian existent.\nSimulaci贸 de fallada dun disc en un RAID 5.\nMigraci贸 dun sistema legacy a un sistema amb RAIDs.\n\n\nExercicis: Administrant RAIDs",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part2.html#thats-all",
    "href": "slides/03-filesystem-part2.html#thats-all",
    "title": "Sistema de fitxers (II)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\n\nRAID mant茅 les dades, per貌 la bona administraci贸 mant茅 el servei.\nLa redundncia no 茅s seguretat si no sha provat mai larrencada.\nConfigurar RAID 茅s fcil; garantir que arrenca quan els discs fallen 茅s el cam铆 de ladministrador.\nRAID no 茅s substitut de les c貌pies de seguretat.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 2)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-i",
    "href": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-i",
    "title": "Sistema de fitxers (I)",
    "section": "Necessitat dun Sistema de Fitxers (I)",
    "text": "Necessitat dun Sistema de Fitxers (I)\nLa implementaci贸 dun Sistema de Fitxers (FS) 茅s essencial per a lorganitzaci贸, emmagatzematge i recuperaci贸 eficient de la informaci贸 en qualsevol sistema operatiu modern.\n\n\n\n\n\n\n\nObservaci贸\n\n\nEn els sistemes operatius moderns (UNIX-like), el seu rol sest茅n molt m茅s enll de la gesti贸 de dades persistents al disc, abracant una filosofia fonamental.\n\n\n\n\n\nEverything is a File",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-ii",
    "href": "slides/03-filesystem-part1.html#necessitat-dun-sistema-de-fitxers-ii",
    "title": "Sistema de fitxers (I)",
    "section": "Necessitat dun Sistema de Fitxers (II)",
    "text": "Necessitat dun Sistema de Fitxers (II)\n\n\n\n\n\n\n\n\nTipus de Recurs\nExemple de Path\nSistema de Fitxers\n\n\n\n\nProc茅s/Estat del Kernel\n/proc/PID (p.ex., /proc/1234/status)\nprocfs (Mem貌ria, no disc)\n\n\nDispositiu de Blocs\n/dev/sda1\ndevfs o udev\n\n\nPunts de Configuraci贸\n/etc/hosts, /usr/bin/comando\nFS persistent (Ext4, XFS)\n\n\nDades dUsuari\n/home/username/documents\nFS persistent\n\n\nXarxa\n/dev/tcp/80 (en certs entorns, e.g., Plan 9)\ns de Sockets com a File Descriptors\n\n\n\n\n\n\n\n\n\n\nAvantatge\n\n\nLa implementaci贸 dun sistema de fitxers permet unificar lacc茅s a recursos heterogenis. El kernel pot tractar una E/S a /dev/sda1 (blocs f铆sics) i una E/S a /proc/cpuinfo (informaci贸 virtual) utilitzant la mateixa API. API.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#dispositius-i-device-files",
    "href": "slides/03-filesystem-part1.html#dispositius-i-device-files",
    "title": "Sistema de fitxers (I)",
    "section": "Dispositius i Device Files",
    "text": "Dispositius i Device Files\nUn Fitxer de Dispositiu (Device File o Node) 茅s un nom assignat a un dispositiu dE/S (Entrada/Sortida), ja sigui f铆sic (disc, targeta de so) o l貌gic (port de xarxa, terminal).\n\n\n\n\n\n\n\n\nTipus de Dispositiu\nExemples Comuns\nCaracter铆stica\n\n\n\n\nBlocs (Block Devices)\n/dev/sda (Disc sencer), /dev/sdb1 (Partici贸), /dev/md0 (RAID)\nTransfereixen dades en blocs de mida fixa. S贸n cachejables i permeten acc茅s aleatori.\n\n\nCarcters (Character Devices)\n/dev/ttyX (Terminals), /dev/lp0 (Port Paral路lel), /dev/input/mouse0\nTransfereixen dades seq眉encialment carcter a carcter. No tenen caching de blocs.\n\n\n\nEls drivers 茅s el conjunt de rutines del kernel que defineix com sha de dur a terme la comunicaci贸 espec铆fica amb el Hardware mitjan莽ant interrupcions, acc茅s directe a mem貌ria (DMA) i E/S programada. Sense el driver, el fitxer a /dev seria in煤til.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#virtual-filesystem-switch-vfs",
    "href": "slides/03-filesystem-part1.html#virtual-filesystem-switch-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Virtual Filesystem Switch (VFS)",
    "text": "Virtual Filesystem Switch (VFS)\nUn Sistema de Fitxers (FS) 茅s la capa l貌gica fonamental que gestiona lacc茅s i lorganitzaci贸 dels objectes (fitxers i directoris) sobre un dispositiu demmagatzematge.\n\n\n\n\n\n\n\nM煤ltiples FS actius\n\n\ns habitual que un sistema operatiu gestioni simultniament diverses instncies de sistemes de fitxers diferents:\n\nExt4 per a dades dusuari (/home)\nBtrfs per a backups automtics\ntmpfs per a fitxers temporals (/tmp)\nprocfs per a informaci贸 del kernel (/proc)\n\nCadascun muntat en un punt dacc茅s l貌gic diferent.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#abstraccions-comunes-del-vfs",
    "href": "slides/03-filesystem-part1.html#abstraccions-comunes-del-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Abstraccions Comunes del VFS",
    "text": "Abstraccions Comunes del VFS\nTot i les difer猫ncies estructurals a nivell de disc, el VFS (Virtual Filesystem Switch) del kernel utilitza abstraccions uniformes per oferir una interf铆cie consistent als processos.\n\n\n\n\n\n\n\n\n\nAbstracci贸\nUbicaci贸\nFunci贸 T猫cnica\nPersist猫ncia\n\n\n\n\nSuperbloc\nDisc + Mem貌ria\nCont茅 metadata global del FS: tipus, mida, estat, punters clau\nPersistent\n\n\nInode\nDisc + Mem貌ria\nMetadata del fitxer: permisos, timestamps, punters a blocs de dades\nPersistent\n\n\nDentry\nNom茅s Mem貌ria\nEntrada de Directori: cacheja nom del fitxer 锔 inode\nTemporal\n\n\nFile Object\nNom茅s Mem貌ria\nRepresenta un fitxer obert per un proc茅s (file descriptors)\nTemporal\n\n\n\nPermet que un programa pugui treballar amb fitxers Ext4, XFS, NTFS o FAT32 sense modificar ni una sola l铆nia de codi.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#jerarquia-l貌gica-de-les-abstraccions",
    "href": "slides/03-filesystem-part1.html#jerarquia-l貌gica-de-les-abstraccions",
    "title": "Sistema de fitxers (I)",
    "section": "Jerarquia L貌gica de les Abstraccions",
    "text": "Jerarquia L貌gica de les Abstraccions\nPer entendre com el kernel mapeja un nom de fitxer a les dades, visualitzem la interacci贸 entre les estructures in-memory i on-disk.\n\n\n\n\n\nclassDiagram\n    direction LR\n    \n    class Superbloc {\n        &lt;&lt;On-Disk i In-Memory&gt;&gt;\n        + Tipus FS (Ext4, XFS)\n        + Mida del Volum\n        + Punter a llistes d'Inodes Lliures\n    }\n\n    class Inode {\n        &lt;&lt;On-Disk i In-Memory&gt;&gt;\n        + Num Inode nic\n        + Pointers a Blocs de Dades\n        + Permisos/ACLs\n        + UID/GID, Timestamps\n    }\n\n    class Dentry {\n        &lt;&lt;In-Memory Cache&gt;&gt;\n        + Nom del Fitxer/Directori\n        + Punter a Inode\n        + Punter al Dentry Pare\n    }\n\n    class FileObject {\n        &lt;&lt;In-Memory&gt;&gt;\n        + File Descriptor FD\n        + Offset de Lectura/Escriptura Actual\n        + Punter a Dentry (Path)\n    }\n\n    Superbloc \"1\" --&gt; \"*\" Inode : Gestiona\n    Dentry \"1\" --&gt; \"1\" Inode : Caching 路 Nom -&gt; Metadata\n    FileObject \"1\" --&gt; \"1\" Dentry : Resoluci贸 de Path\n    Inode \"1\" --&gt; \"*\" DataBlocks : Adre莽ament\n    \n    %% Colors per a claredat t猫cnica\n    classDef memory fill:#eaf7ff,stroke:#007bff\n    classDef disk fill:#f9f5dd,stroke:#c4aa18\n    class Dentry\n    FileObject memory\n    class Inode\n    Superbloc disk\n\n\n\n\n\n\n\n\n\n\n\n\n\nImpacte del Dentry\n\n\nUna Dentry Cache saturada o poc eficient pot degradar significativament el rendiment del sistema (I/O latency), ja que el kernel es veu for莽at a re-llegir lestructura de directoris directament del disc.\n\n\n\n\n\n\nFileObject: Un proc茅s obre un fitxer, creant un FileObject amb un File Descriptor.\nDentry (Cache): El FileObject resol el cam铆 a trav茅s duna cadena de Dentries (des de la muntura fins al fitxer final). El Dentry proporciona lassociaci贸 Nom  Inode.\nInode: El n煤mero dInode permet al VFS carregar les metadades on-disk a mem貌ria. Aquesta estructura cont茅 els punters directes i indirectes als blocs de dades.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#relacions-in-memory-del-vfs",
    "href": "slides/03-filesystem-part1.html#relacions-in-memory-del-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Relacions In-Memory del VFS",
    "text": "Relacions In-Memory del VFS\n\nM煤ltiples descriptors de fitxer poden apuntar al mateix fitxer (dup()).\nM煤ltiples abstraccions de fitxer poden apuntar a la mateixa Dentry (obrim el mateix path diverses vegades).\nM煤ltiples Dentries poden apuntar al mateix Inode (Hard Links).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#el-superbloc",
    "href": "slides/03-filesystem-part1.html#el-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "El Superbloc",
    "text": "El Superbloc\nEl Superbloc 茅s el punt de refer猫ncia absolut de qualsevol Sistema de Fitxers (FS). Sense aquesta estructura, el kernel no pot ni tan sols intentar muntar el volum.\n\n\n\n\n\n\n\nAv铆s\n\n\nSi el Superbloc es corromp (per un error de disc o dE/S), el sistema de fitxers esdev茅 inaccessible fins que es restaura una de les seves c貌pies de seguretat (backup copies).\n\n\n\n\nPer aquest motiu, els FS moderns mantenen m煤ltiples c貌pies del superbloc distribu茂des pel volum.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#organitzaci贸-f铆sica-del-superbloc",
    "href": "slides/03-filesystem-part1.html#organitzaci贸-f铆sica-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Organitzaci贸 F铆sica del Superbloc",
    "text": "Organitzaci贸 F铆sica del Superbloc\n\n\nEl diagrama mostra que el superbloc es troba t铆picament a linici del sistema de fitxers i que hi ha diversos blocs utilitzats amb diferents prop貌sits: alguns per emmagatzemar dentries, alguns per emmagatzemar inodes i alguns per emmagatzemar blocs de dades dusuari. Tamb茅 hi ha blocs utilitzats per gestionar els blocs lliures disponibles (p.ex., mapes de bits per als sistemes de fitxers simples).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#abstraccions-del-superbloc",
    "href": "slides/03-filesystem-part1.html#abstraccions-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Abstraccions del Superbloc",
    "text": "Abstraccions del Superbloc\n\n\n\n\n\n\n\n\nComponent\nFunci贸\nUbicaci贸\n\n\n\n\nSuperbloc\nCont茅 la metadata global del FS: tipus, mida, estat, i punters clau.\nInici del FS (i c貌pies de seguretat).\n\n\nIMAP (Inode Map)\nBitmap per a lassignaci贸 i desassignaci贸 dInodes. Indica quins Inodes estan lliures o en 煤s dins de la IZONE.\nBloc(s) assignat(s) pel Superbloc.\n\n\nDMAP (Data Map)\nBitmap per a lassignaci贸 i desassignaci贸 de Blocs de Dades. Indica quins blocs de la DZONE estan lliures o en 煤s.\nBloc(s) assignat(s) pel Superbloc.\n\n\nIZONE\nrea que cont茅 les estructures dInode dels fitxers.\nDespr茅s dels mapes.\n\n\nDZONE\nrea que cont茅 les dades dusuari (el contingut real dels fitxers).\nDespr茅s de la IZONE.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#estructura-i-implementaci贸-del-superbloc",
    "href": "slides/03-filesystem-part1.html#estructura-i-implementaci贸-del-superbloc",
    "title": "Sistema de fitxers (I)",
    "section": "Estructura i Implementaci贸 del Superbloc",
    "text": "Estructura i Implementaci贸 del Superbloc\nEl Superbloc no nom茅s sautodefineix, sin贸 que defineix larquitectura de tota la partici贸:\n\nfs_type: El tipus de FS (p.ex., EXT4_MAGIC).\ns_blocks_count: El nombre total de blocs al FS.\ns_log_block_size: Defineix la mida del bloc l貌gic (p.ex., 1K, 4K). Tota la I/O es fa en aquesta unitat.\nPunters a Bitmaps: Adreces del primer bloc de lIMAP i el DMAP.\nEstat del FS: Indica si el FS va ser desmuntat netament o si va patir un crash (s_state - important per al fsck).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#mapes-de-bits-bitmaps",
    "href": "slides/03-filesystem-part1.html#mapes-de-bits-bitmaps",
    "title": "Sistema de fitxers (I)",
    "section": "Mapes de Bits (Bitmaps)",
    "text": "Mapes de Bits (Bitmaps)\nEls mapes de bits s贸n crucials per a lefici猫ncia en lassignaci贸:\n\nIMAP (Inode Bitmap): Cada bit representa lestat dun 煤nic Inode a la IZONE. 1 = En 煤s, 0 = Lliure.\nDMAP (Data Bitmap): Cada bit representa lestat dun 煤nic bloc a la DZONE. 1 = Ocupat per dades, 0 = Lliure per assignaci贸.\n\n\n\n\n\n\n\nOptimitzaci贸 (Caching)\n\n\nQuan el FS es munta, el kernel carrega el Superbloc i, almenys parcialment, els mapes IMAP i DMAP a la mem貌ria. Aix貌 permet que les noves assignacions de fitxers i blocs siguin extremadament rpides sense requerir una E/S de disc constant.\n\n\n\n\n\n\n\n\n\n\nFS Grans\n\n\nEs carreguen parcialment i a demanda per no gastar massa mem貌ria en FS grans.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#mapping-crides-de-sistema-vfs",
    "href": "slides/03-filesystem-part1.html#mapping-crides-de-sistema-vfs",
    "title": "Sistema de fitxers (I)",
    "section": "Mapping: Crides de Sistema  VFS",
    "text": "Mapping: Crides de Sistema  VFS\n\n\n\n\n\n\n\n\n\n\nCrida al Sistema\nOperaci贸 VFS\nDescripci贸\n\n\n\n\nmount()\nvfs_mount()\nMuntar un FS.\n\n\nopen()\nvfs_open()\nObrir un fitxer (i obtenir un FD).\n\n\nstat() / fstat()\nvfs_stat() / vfs_fstat()\nConsultar atributs del fitxer.\n\n\nread() / write()\nvfs_read() / vfs_write()\nLlegir o escriure dades.\n\n\ncreate() / delete()\nvfs_create() / vfs_unlink()\nCrear i eliminar fitxers.\n\n\nclose()\nvfs_close()\nTancar un fitxer\n\n\n\n\nEl VFS 茅s labstracci贸 de Linux que permet gestionar m煤ltiples tipus de FS (Ext4, XFS, NTFS) de manera transparent.\n\n\n\n\n\ngraph TD\n    A[Crida al Sistema open, read] --&gt; B{VFS};\n    B --&gt;|Operaci贸 abstracta| C1[Driver FS Espec铆fic Ext4];\n    B --&gt;|Operaci贸 abstracta| C2[Driver FS Espec铆fic XFS];\n    C1 --&gt; D[Subsistema d'Emmagatzematge E/S];\n    C2 --&gt; D;\n    \n    style B fill:#eaf7ff,stroke:#007bff\n    style C1 fill:#f9f5dd,stroke:#c4aa18\n    style C2 fill:#f9f5dd,stroke:#c4aa18",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#montatge-dun-fs",
    "href": "slides/03-filesystem-part1.html#montatge-dun-fs",
    "title": "Sistema de fitxers (I)",
    "section": "Montatge dun FS",
    "text": "Montatge dun FS\n# Sintaxi: mount -t &lt;fs_type&gt; &lt;device&gt; &lt;mount_point&gt;\nmount -t ext4 /dev/nvme0n1p2 /home\nmount -t btrfs /dev/sdb1 /backup\nmount -t tmpfs -o size=1G tmpfs /tmp/ramdisk\n\n\n\n\n\n\n\n\nPas\nDescripci贸\nImplicaci贸\n\n\n\n\n1. Entrada/Sortida\nInput: Dispositiu de blocs (Partici贸). Output: Dentry arrel del FS.\n\n\n\n2. Check Device\nValidaci贸 de lestructura inicial del FS.\n\n\n\n3. Llegir Superbloc\nDeterminar parmetres (mida de bloc, magic number). Carregar el Superbloc a mem貌ria.\nCr铆tic: Estableix el context global.\n\n\n4. Crear Inode i Dentry\nLocalitzar el Root Inode (e.g., inode 2 a Ext4) i crear lestructura Dentry arrel a la mem貌ria.\nInici de la navegaci贸 l貌gica.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#obertura-dun-fitxer",
    "href": "slides/03-filesystem-part1.html#obertura-dun-fitxer",
    "title": "Sistema de fitxers (I)",
    "section": "Obertura dun Fitxer",
    "text": "Obertura dun Fitxer\n\n\n\n\n\nsequenceDiagram \n    participant P as Proc茅s\n    participant VFS as VFS (Kernel)\n    participant FS as Driver de FS (read_inode)\n\n    P-&gt;&gt;VFS: open -&gt; /a/b/fitxer.txt \n    VFS-&gt;&gt;VFS: 1. Per cada component a, b, fitxer.txt:\n    VFS-&gt;&gt;VFS: Resoldre Dentry Pare (Cache)\n    VFS-&gt;&gt;FS: 2. Carregar Inode si no est en cache (via Num. Inode)\n    VFS-&gt;&gt;VFS: 3. Final: Crear nou **FILE OBJECT**\n    VFS-&gt;&gt;P: 4. Assignar **File Descriptor** (FD)",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#consultar-atributs",
    "href": "slides/03-filesystem-part1.html#consultar-atributs",
    "title": "Sistema de fitxers (I)",
    "section": "Consultar Atributs",
    "text": "Consultar Atributs\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant VFS as VFS (Kernel)\n    participant FS as Driver de FS (read_inode)\n    P-&gt;&gt;VFS: stat -&gt; fitxer.txt o fstat -&gt; FD\n    VFS-&gt;&gt;VFS: 1. Acc茅s a l'Inode via FD\n    VFS-&gt;&gt;FS: 2. Si no est en cache, llegir Inode del disc\n    FS--&gt;&gt;VFS: 3. Retornar Atributs\n    VFS--&gt;&gt;P: 4. Retornar Atributs UID, GID, Permisos, Mida, Timestamps",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-de-lectura",
    "href": "slides/03-filesystem-part1.html#operacions-de-lectura",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions de Lectura",
    "text": "Operacions de Lectura\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant VFS as VFS \n    participant FS as Driver de FS 路 read\n    P-&gt;&gt;VFS: read -&gt; FD, buf, len\n    VFS-&gt;&gt;VFS: 1. Validar FD i permisos\n    VFS-&gt;&gt;VFS: 2. Calcular blocs a llegir -&gt; offset, len\n    VFS-&gt;&gt;FS: 3. Llegir dades file-&gt;dentry-&gt;inode-&gt;data blocks\n    FS--&gt;&gt;VFS: 4. Retornar dades a VFS\n    VFS--&gt;&gt;P: 5. Copiar dades a l'espai d'usuari",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-descriptura",
    "href": "slides/03-filesystem-part1.html#operacions-descriptura",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions dEscriptura",
    "text": "Operacions dEscriptura\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant VFS as VFS\n    participant PC as Page Cache\n    participant FS as Driver FS\n    participant J as Journal\n    participant BD as Block Device\n\n    P-&gt;&gt;VFS: write -&gt; fd=5, buffer, 4096\n    VFS-&gt;&gt;VFS: Validar FD i permisos d'escriptura\n    VFS-&gt;&gt;VFS: Calcular nous blocs necessaris\n    \n    alt Fitxer necessita cr茅ixer\n        VFS-&gt;&gt;FS: Assignar nous blocs de dades\n        FS-&gt;&gt;FS: Actualizar bitmaps i inode\n        FS-&gt;&gt;J: Registrar transacci贸 al journal\n    end\n    \n    VFS-&gt;&gt;PC: Escriure dades a la page cache 路 dirty pages\n    VFS--&gt;&gt;P: Retornar bytes escrits \n    \n    Note over PC,BD: Writeback as铆ncron \n    PC-&gt;&gt;BD: Flush dirty pages al disc\n    J-&gt;&gt;BD: Commit transacci贸 journal",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#escriptura-as铆ncrona-i-writeback",
    "href": "slides/03-filesystem-part1.html#escriptura-as铆ncrona-i-writeback",
    "title": "Sistema de fitxers (I)",
    "section": "Escriptura As铆ncrona i Writeback",
    "text": "Escriptura As铆ncrona i Writeback\nLa escriptura as铆ncrona permet que les operacions descriptura es realitzin en segon pla, millorant la resposta del sistema. Les dades es desplacen a la page cache i es poden escriure al disc m茅s tard.\n\nDirty Pages: Pgines a la mem貌ria que han estat modificades per貌 encara no shan escrit al disc.\nWriteback: Proc茅s de transferir les dirty pages de la mem貌ria al disc.\nJournaling: Mecanisme per assegurar la integritat del FS en cas de fallada durant el writeback.\nFlush: Operaci贸 per escriure immediatament les dirty pages al disc.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#creaci贸-de-directoris",
    "href": "slides/03-filesystem-part1.html#creaci贸-de-directoris",
    "title": "Sistema de fitxers (I)",
    "section": "Creaci贸 de Directoris",
    "text": "Creaci贸 de Directoris\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant VFS as VFS\n    participant FS as Driver de FS 路 mkdir\n    P-&gt;&gt;VFS: mkdir -&gt; /a/b/novedirectori\n    VFS-&gt;&gt;VFS: 1. Resoldre Dentry Pare -&gt; /a/b -&gt; Determinar Inode Pare\n    VFS-&gt;&gt;VFS: 2. Llegir blocs de dades del directori pare 路 Trobar espai per a nova Dentry\n    VFS-&gt;&gt;FS: 4. Crear nou Inode per al directori\n    FS--&gt;&gt;VFS: 5. Retornar Num. Inode\n    VFS-&gt;&gt;VFS: 6. Afegir Dentry al directori par 路 Escriure els blocs de dades del directori pare modificats\n    VFS--&gt;&gt;P: 8. Retornar 猫xit o error",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#eliminaci贸-de-fitxers",
    "href": "slides/03-filesystem-part1.html#eliminaci贸-de-fitxers",
    "title": "Sistema de fitxers (I)",
    "section": "Eliminaci贸 de Fitxers",
    "text": "Eliminaci贸 de Fitxers\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant VFS as VFS\n    participant FS as Driver de FS 路 unlink\n    P-&gt;&gt;VFS: unlink -&gt; /a/b/fitxer.txt\n    VFS-&gt;&gt;VFS: 1. Resoldre Dentry Pare -&gt; /a/b -&gt; Determinar Inode Pare\n    VFS-&gt;&gt;VFS: 2. Llegir blocs de dades del directori pare 路 Trobar i esborrar la Dentry\n    VFS-&gt;&gt;VFS: 4. Comprovar enlla莽os -&gt; Si 茅s l'煤ltim enlla莽, desassignar blocs de dades i blocs d'inode\n    VFS-&gt;&gt;FS: 6. Actualitzar metadades al disc\n    FS--&gt;&gt;VFS: 7. Confirmaci贸 d'actualitzaci贸\n    VFS--&gt;&gt;P: 8. Retornar 猫xit o error",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#superbloc-i-operacions-dinode",
    "href": "slides/03-filesystem-part1.html#superbloc-i-operacions-dinode",
    "title": "Sistema de fitxers (I)",
    "section": "Superbloc i Operacions dInode",
    "text": "Superbloc i Operacions dInode\nEl VFS (Virtual Filesystem Switch) estableix dos conjunts doperacions que el driver de cada Sistema de Fitxers ha dimplementar. Aquests m猫todes permeten al kernel interactuar amb les metadades de forma uniforme.\n\n\n\n\n\n\n\n\nOperaci贸\nFunci贸 T猫cnica\nProp貌sit\n\n\n\n\nfill_super()\nLlegeix lestat global del FS (total/lliure dInodes i Blocs).\nInicialitzaci贸 i muntatge.\n\n\nwrite_super()\nPersisteix les estad铆stiques i lestat actualitzat al disc.\nCanvis en lassignaci贸.\n\n\nput_super()\nAllibera la mem貌ria associada a la instncia del FS.\nDesmuntatge (umount).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#operacions-de-linode",
    "href": "slides/03-filesystem-part1.html#operacions-de-linode",
    "title": "Sistema de fitxers (I)",
    "section": "Operacions de lInode",
    "text": "Operacions de lInode\nMalgrat el nom, la majoria daquestes operacions tracten amb la gesti贸 de les Dentries i la jerarquia de noms de fitxer (no el contingut de lInode en si).\n\nCreaci贸 i Cerca: create, lookup, link, unlink.\nDirectori i Enlla莽os: mkdir, rmdir, symlink, readlink, rename.\n\n\n\n\n\n\n\n\nTipus dInode\n\n\nEls drivers de FS treballen amb dos tipus dInode:\n\nVFS Inode: Estructura gen猫rica utilitzada pel kernel.\nFS Inode: Estructura interna del driver (p.ex., la versi贸 Ext4 o XFS).\n\nEl driver 茅s responsable de la conversi贸 entre aquestes dues estructures segons sigui necessari.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-dinodes-icache",
    "href": "slides/03-filesystem-part1.html#cache-dinodes-icache",
    "title": "Sistema de fitxers (I)",
    "section": "Cache dInodes (Icache)",
    "text": "Cache dInodes (Icache)\nAquesta cache emmagatzema les metadades del fitxer a mem貌ria (lestructura de lInode), evitant lectures repetitives a la IZONE del disc.\n\nEstructura: Sindexa mitjan莽ant una Taula Hash (hash table).\nClau Hash: Es genera a partir de la tupla (Superbloc, N煤mero dInode).\nPol铆tica: Els Inodes es mantenen fins que el FS es desmunta, selimina el fitxer, o hi ha pressi贸 de mem貌ria (memory pressure).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-de-dentries",
    "href": "slides/03-filesystem-part1.html#cache-de-dentries",
    "title": "Sistema de fitxers (I)",
    "section": "Cache de Dentries",
    "text": "Cache de Dentries\nLa Dcache 茅s leina m茅s important per a la resoluci贸 rpida de camins (path lookup). Cacheja la relaci贸 Nom \\(\\rightarrow\\) Inode.\n\n\n\n\n\n\n\nEstat de la Dentry\nImplicaci贸 T猫cnica\n\n\n\n\nUsed\nLobjecte est en 煤s (p.ex., associat a un FILE Objecte). El seu d_inode 茅s vlid.\n\n\nUnused\nEl d_inode 茅s vlid, per貌 lobjecte Dentry no est sent utilitzat activament per cap proc茅s.\n\n\nNegative\nLd_inode no 茅s vlid. Sutilitza per recordar que un fitxer no existeix o ha estat eliminat, evitant cerques futures innecessries al disc.\n\n\n\n\n\n\n\n\n\n\nOptimitzaci贸 de la Dentry Cache\n\n\nLacc茅s a lInode cache (per al seu alliberament en condicions de mem貌ria baixa) utilitza lestat d煤s, basat en el Superbloc i el n煤mero dInode. La Dentry cache tamb茅 fa servir taules hash per a cerques ultra-rpides.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#cache-de-pgines-dades-i-es",
    "href": "slides/03-filesystem-part1.html#cache-de-pgines-dades-i-es",
    "title": "Sistema de fitxers (I)",
    "section": "Cache de pgines: Dades i E/S",
    "text": "Cache de pgines: Dades i E/S\nLa Cache de pgines 茅s el mecanisme principal del kernel per a la gesti贸 de dades dE/S, utilitzat per tots els sistemes de fitxers. Emmagatzema els blocs de dades del fitxer a la mem貌ria del sistema,per a la lectura rpida i per a lescriptura diferida.\n\n\n\n\n\n\n\nGesti贸 de Mem貌ria\n\n\nLinux reutilitza la mem貌ria lliure com a cache, per貌 lallibera quan un proc茅s necessita RAM.\n\n\n\n\n\nDades Cachejades: Nom茅s dades de fitxers, no metadades de nivell de bloc (block device data).\nMecanismes dE/S: Suporta operacions read(), write() i mmap() (mapes de mem貌ria).\n\n\n\n\n\n\n\n\nEstructura Interna: Rdix-Arbre\n\n\nLa Cache de pgines utilitza una estructura de dades Radix Tree per mapejar de manera eficient els offsets de fitxer a les pgines de mem貌ria. Aix貌 permet acc茅s rpid a pgines de dades grans.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-file-allocation-table",
    "href": "slides/03-filesystem-part1.html#fat-file-allocation-table",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: File Allocation Table",
    "text": "FAT: File Allocation Table\n\nSistema de fitxers creat el 1977 i popularitzat grcies a MS-DOS.\nEncara popular avui (FAT32): USB, targetes de mem貌ria, partici贸 darrencada EFI.\nFile Allocation Table: Estructura de llista enlla莽ada que cont茅 informaci贸 sobre els blocs ocupats per cada fitxer.\nTamb茅 determina si un bloc est en 煤s o no.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-organitzaci贸-de-directoris",
    "href": "slides/03-filesystem-part1.html#fat-organitzaci贸-de-directoris",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: Organitzaci贸 de Directoris",
    "text": "FAT: Organitzaci贸 de Directoris\nEls directoris en FAT s贸n fitxers especials que contenen entrades de 32 bytes per a cada fitxer o subdirectori. Cada entrada inclou: nom, atributs, timestamps, primer cl煤ster i mida del fitxer.\n\n\n\nNom\nIndex\nDir?\nPermisos\n\n\n\n\n.\n2\nS铆\nrwx\n\n\nWindows\n3\nS铆\nrwx\n\n\nUsers\n4\nS铆\nrwx\n\n\npagefile.sys\n5\nNo\nr\n\n\n\nEl superbloc actua com a punt de refer猫ncia per a tot el sistema de fitxers, emmagatzemant informaci贸 cr铆tica com la mida del cl煤ster, la ubicaci贸 de la FAT i la ubicaci贸 del directori arrel.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#fat-limitacions-t猫cniques",
    "href": "slides/03-filesystem-part1.html#fat-limitacions-t猫cniques",
    "title": "Sistema de fitxers (I)",
    "section": "FAT: Limitacions T猫cniques",
    "text": "FAT: Limitacions T猫cniques\nLimitacions de capacitat:\n\nFAT32: mxim 2TB per volum\nFAT32: mxim 4GB per fitxer\n\nProblemes de rendiment:\n\nLocalitzaci贸 de blocs lliures: scan complet de la FAT\nFragmentaci贸 severa (pobra localitat)\nFragmentaci贸 de metadata: cerques costoses\nLlistes enlla莽ades ineficients per fitxers grans\n\nImpacte prctic:\n\nUn fitxer de 16MB (4096 cl煤sters de 4KB) requereix 4096 lectures de la FAT per acc茅s seq眉encial complet",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-extended-file-system",
    "href": "slides/03-filesystem-part1.html#ext-extended-file-system",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Extended File System",
    "text": "EXT: Extended File System\nEls sistemes EXT van ser dissenyats espec铆ficament per a Linux com a evoluci贸 dels sistemes Unix tradicionals.\nEvoluci贸:\n\next (1992): Primera versi贸, problemes de rendiment\next2 (1993): Inodes, directoris flexibles\n\next3 (2001): Journaling per a consist猫ncia\next4 (2008): Extents, millor rendiment\n\nCaracter铆stiques:\n\nInodes com a element bsic\nBitmaps per gesti贸 dassignaci贸\nBlock Groups per localitat de dades\nJournaling per integritat",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-estructura-de-linode",
    "href": "slides/03-filesystem-part1.html#ext-estructura-de-linode",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Estructura de lInode",
    "text": "EXT: Estructura de lInode\nLinode 茅s el nucli del sistema EXT. Cada fitxer t茅 almenys un inode que cont茅 tota la seva metadata:\nstruct ext4_inode {\n    uint16_t i_mode;        // Permisos i tipus de fitxer\n    uint16_t i_uid;         // User ID del propietari\n    uint32_t i_size;        // Mida del fitxer en bytes\n    uint32_t i_atime;       // ltim temps d'acc茅s\n    uint32_t i_ctime;       // Temps de creaci贸 de l'inode\n    uint32_t i_mtime;       // ltim temps de modificaci贸\n    uint16_t i_gid;         // Group ID del propietari\n    uint16_t i_links_count; // Nombre de hard links\n    \n    // Punters a blocs de dades\n    uint32_t i_block[15];   // Blocs directes i indirectes\n    /*\n     * i_block[0-11]: 12 punters directes (48KB amb blocs de 4KB)\n     * i_block[12]:   1 punter simple indirecte (4MB addicionals)\n     * i_block[13]:   1 punter doble indirecte (4GB addicionals)\n     * i_block[14]:   1 punter triple indirecte (4TB addicionals)\n     */\n\n};\nEls i-nodes consumeixen un 10% de lemmagatzematge del disc (es pot configurar en el moment de la creaci贸 del sistema de fitxers).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-adre莽ament-de-blocs-ext2",
    "href": "slides/03-filesystem-part1.html#ext-adre莽ament-de-blocs-ext2",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Adre莽ament de Blocs (ext2)",
    "text": "EXT: Adre莽ament de Blocs (ext2)\n\nUn fitxer de 100MB (25.600 blocs de 4KB) necessita 2 nivells dindirecci贸, requerint m煤ltiples lectures de metadades abans daccedir a les dades reals.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext-organitzaci贸",
    "href": "slides/03-filesystem-part1.html#ext-organitzaci贸",
    "title": "Sistema de fitxers (I)",
    "section": "EXT: Organitzaci贸",
    "text": "EXT: Organitzaci贸\n\n\nBitmap dInodes: mapa de bits dinodes ocupats/lliures.\nBitmap de Blocs: mapa de bits de blocs ocupats/lliures.\nTaula dInodes: cada entrada 茅s un 煤nic inode.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-problema-de-consist猫ncia-i",
    "href": "slides/03-filesystem-part1.html#ext3-problema-de-consist猫ncia-i",
    "title": "Sistema de fitxers (I)",
    "section": "EXT3: Problema de Consist猫ncia (I)",
    "text": "EXT3: Problema de Consist猫ncia (I)\nImagineu que un fitxer necessita augmentar la seva mida, i aix貌 requereix assignar un nou bloc de dades i actualitzar linode per reflectir aquesta nova assignaci贸. Aquest proc茅s implica m煤ltiples operacions descriptura al disc.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-problema-de-consist猫ncia-ii",
    "href": "slides/03-filesystem-part1.html#ext3-problema-de-consist猫ncia-ii",
    "title": "Sistema de fitxers (I)",
    "section": "EXT3: Problema de Consist猫ncia (II)",
    "text": "EXT3: Problema de Consist猫ncia (II)\n\nImagina que el proc茅s es veu interromput (crash) a mitja operaci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#journaling---consist猫ncia",
    "href": "slides/03-filesystem-part1.html#journaling---consist猫ncia",
    "title": "Sistema de fitxers (I)",
    "section": "Journaling - Consist猫ncia",
    "text": "Journaling - Consist猫ncia\n\n\n\n\n\nsequenceDiagram\n    participant P as Proc茅s\n    participant K as Kernel\n    participant J as Journal\n    participant FS as Filesystem\n\n    P-&gt;&gt;K: write() - ampliar fitxer\n    \n    Note over K,J: FASE 1: Preparaci贸\n    K-&gt;&gt;J: Crear transacci贸: T1\n    K-&gt;&gt;J: Nou bloc dades 路 Update bitmap 路 Update inode\n    K-&gt;&gt;J: COMMIT transacci贸 T1\n    \n    Note over K,FS: FASE 2: Aplicaci贸\n    K-&gt;&gt;FS: Aplicar canvis del journal\n    K-&gt;&gt;J: Marcar T1 com a completa\n    \n    K--&gt;&gt;P: write() completat",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#journaling-modes",
    "href": "slides/03-filesystem-part1.html#journaling-modes",
    "title": "Sistema de fitxers (I)",
    "section": "Journaling: Modes",
    "text": "Journaling: Modes\n\nJournaling Complet: Tant les dades com les metadades sescriuen al journal abans daplicar-les al sistema de fitxers. Mxima seguretat, per貌 m茅s lent.\nJournaling de Metadades: Nom茅s les metadades sescriuen al journal. Les dades es poden escriure directament al sistema de fitxers. Equilibri entre seguretat i rendiment.\nEscriptura Diferida (Writeback): Les dades i les metadades es poden escriure directament al sistema de fitxers sense passar pel journal. Mxim rendiment, per貌 risc de corrupci贸 de dades en cas de fallada.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext3-journaling",
    "href": "slides/03-filesystem-part1.html#ext3-journaling",
    "title": "Sistema de fitxers (I)",
    "section": "ext3 路 Journaling",
    "text": "ext3 路 Journaling\n\nPre-escriptura (Write-Ahead Logging):\n\nAbans descriure qualsevol dada o metadada al disc, es registra la intenci贸 daquesta escriptura en un registre especial anomenat journal. Garanteix que les operacions es completin correctament, fins i tot en cas de fallades.\n\nSi escriu el journal correctament:\n\nLa transacci贸 es marca com a completa. Els canvis es poden aplicar al sistema de fitxers de manera segura.\n\nSi la escriptura del journal es veu interrompuda:\n\nLa transacci贸 no es completa (p猫rdua de dades), per貌 el sistema de fitxers roman consistent.\n\nSi el journal sescriu correctament, per貌 el disc no:\n\nTemporalment, el sistema de fitxers perd la consist猫ncia.El registre t茅 la informaci贸 per restaurar-la (durant larrencada, els journals inacabats es completen).",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-extents-per-a-millor-efici猫ncia",
    "href": "slides/03-filesystem-part1.html#ext4-extents-per-a-millor-efici猫ncia",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: Extents per a Millor Efici猫ncia",
    "text": "ext4: Extents per a Millor Efici猫ncia\nEl principal problema (ext2/ext3) era la gesti贸 ineficient dels punters a blocs de dades, especialment per a fitxers grans.\n\nUn extends 茅s un descriptor que representa un rang contigu de blocs, millorant lefici猫ncia en lassignaci贸 i reduint la fragmentaci贸.\n\n\nRangs de blocs f铆sics contigus, descrits amb una entrada (bloc inicial + nombre de blocs).\nUn extent pot mapar fins a 128 MiB (blocs de 4KB) despai contigu amb blocs de 4 KiB.\nLinode dext4 pot contenir directament fins a 4 extents; si el fitxer 茅s gran o fragmentat, sutilitza una estructura darbre (HTree) per indexar m茅s extents.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-estructura-dun-extent",
    "href": "slides/03-filesystem-part1.html#ext4-estructura-dun-extent",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: Estructura dun Extent",
    "text": "ext4: Estructura dun Extent\nstruct ext4_extent {\n    uint32_t ee_block;      // Bloc l貌gic inicial al fitxer\n    uint16_t ee_len;        // Longitud en blocs (mxim 32.768)\n    uint16_t ee_start_hi;   // Bits alts del bloc f铆sic\n    uint32_t ee_start_lo;   // Bits baixos del bloc f铆sic\n};\n\n\n\n\n\ngraph TD\n    A[Inode] --&gt; B[Extent Header]\n    B --&gt; C1[Extent 1]\n    B --&gt; C2[Extent 2]\n    B --&gt; C3[Extent 3]\n    B --&gt; C4[Extent 4]\n    C1 --&gt; D1[Bloc F铆sic 1000 - 1023]\n    C2 --&gt; D2[Bloc F铆sic 2000 - 2023]\n    C3 --&gt; D3[Bloc F铆sic 3000 - 3023]\n    C4 --&gt; D4[Bloc F铆sic 4000 - 4023]\n    style A fill:#eaf7ff,stroke:#007bff\n    style B fill:#f9f5dd,stroke:#c4aa18",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-htreebtree",
    "href": "slides/03-filesystem-part1.html#ext4-htreebtree",
    "title": "Sistema de fitxers (I)",
    "section": "ext4: HTree/Btree",
    "text": "ext4: HTree/Btree\n\n\n\nUn B-tree 茅s una estructura darbre auto-balancejada que mant茅 dades ordenades i permet cerques, insercions i eliminacions en temps logar铆tmic.\nUn HTree 茅s una variant de B-tree utilitzada espec铆ficament per indexar fitxers i directoris en ext4.\nLa principal difer猫ncia 茅s que les entrades es distribueixen en nodes fulla i no fulla, amb una estructura de cap莽alera espec铆fica per a cada node.\nInode/Arrel: Apunta a la cap莽alera de lHTree.\n\n\n\n\n\n\n\ngraph TD\n    A[Inode] --&gt; B[HTree Root]\n    B --&gt; C1[Node No Fulla 1]\n    B --&gt; C2[Node No Fulla 2]\n    C1 --&gt; D1[Node Fulla 1]\n    C1 --&gt; D2[Node Fulla 2]\n    C2 --&gt; D3[Node Fulla 3]\n    C2 --&gt; D4[Node Fulla 4]\n    D1 --&gt; E1[Extent 1]\n    D1 --&gt; E2[Extent 2]\n    D2 --&gt; E3[Extent 3]\n    D3 --&gt; E4[Extent 4]\n    D4 --&gt; E5[Extent 5]\n\n\n\n\n\n\n\nNodes no fulla: Indexen altres nodes, permetent que larbre creixi i es mantingui balancejat.\nNodes fulla: Contenen les extents, que s贸n rangs de blocs f铆sics contigus.\nExtents: Descriuen els blocs reals del fitxer o directori.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#ext4-assignaci贸-multibloc-i-retrassada",
    "href": "slides/03-filesystem-part1.html#ext4-assignaci贸-multibloc-i-retrassada",
    "title": "Sistema de fitxers (I)",
    "section": "ext4 路 Assignaci贸 multibloc i retrassada",
    "text": "ext4 路 Assignaci贸 multibloc i retrassada\n\nAssignaci贸 Multibloc:\n\next4 pot assignar m煤ltiples blocs a la vegada, agrupant blocs consecutius per minimitzar la fragmentaci贸.\nAix貌 redueix la sobrecrrega dassignaci贸 i millora la localitat de les dades.\n\nAssignaci贸 Retardada:\n\nLassignaci贸 retardada espera a bloquejar lespai fins just abans descriure, optimitzant la distribuci贸 de blocs.\nAix貌 permet agrupar escriptures i minimitzar la fragmentaci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#exercicis-propostas",
    "href": "slides/03-filesystem-part1.html#exercicis-propostas",
    "title": "Sistema de fitxers (I)",
    "section": "Exercicis Propostas",
    "text": "Exercicis Propostas\n\nAdministraci贸 Bsica de Sistemes de Fitxers\nDiscussi贸: Secure Boot 茅s realment segur?: Cerca not铆cies recents sobre Secure Boot i comparteix-les al f貌rum del curs. Debatiu sobre avantatges, desavantatges, vulnerabilitats conegudes i experi猫ncies personals.\nPrctica 01: Snapshots i restauraci贸 amb systemd i initramfs",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/03-filesystem-part1.html#thats-all",
    "href": "slides/03-filesystem-part1.html#thats-all",
    "title": "Sistema de fitxers (I)",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nEls sistemes de fitxers s贸n complexos i cr铆tics per al rendiment i la fiabilitat del sistema operatiu. El VFS proporciona una capa dabstracci贸 que permet gestionar diferents tipus de sistemes de fitxers de manera uniforme. Sistemes de fitxers com EXT4 han evolucionat per abordar problemes de rendiment i consist猫ncia, incorporant caracter铆stiques com els extents i el journaling.",
    "crumbs": [
      "Diapositives",
      "Unitat 03 路 Sistemes de fitxers (Part 1)"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#benvinguda",
    "href": "slides/01-foundations-of-systems-administration.html#benvinguda",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Benvinguda",
    "text": "Benvinguda\n\n\n\n\n\n\n\n\n\n\n\nAdministraci贸 i Manteniment de Sistemes i Aplicacions (AMSA)\n\n\n1r Semestre, 3r Curs del Grau en Enginyeria Informtica. Impartida per Jordi Mateo, professor del Departament dEnginyeria Informtica i Disseny Digital (DEIDD).\n\n\n\n\n\n\n\n\n\n(Font: Extret de Neowin)\n\n\n\n\nBenvinguts al curs 25/26 de Administraci贸 i Manteniment de Sistemes i Aplicacions. Aquesta assignatura pret茅n introduir-vos en el m贸n de ladministraci贸 de sistemes i aplicacions, aix铆 com en la seva gesti贸 i manteniment.\nAquesta vinyeta, amb un toc dhumor, il路lustra la dedicaci贸 dun administrador de sistemes. Malgrat el caos i els reptes, la seva prioritat 茅s assegurar que els sistemes funcionin correctament i estiguin sempre disponibles. Independentment del que passi fora de la sala de servidors. La seva feina consisteix a mantenir la infraestructura, prevenir problemes i resoldrels rpidament per garantir la continu茂tat dels serveis.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-ladministraci贸-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-ladministraci贸-de-sistemes",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s lAdministraci贸 de Sistemes?",
    "text": "Qu猫 茅s lAdministraci贸 de Sistemes?\n\n\n\n\nPer comen莽ar, magradaria con猫ixer la vostra opini贸 sobre qu猫 茅s lAdministraci贸 de Sistemes. Per fer-ho, crearem un n煤vol de paraules amb les vostres respostes, al final de curs analitzarem les respostes i veurem si la vostra opini贸 ha canviat. Enlla莽 al wordcloud",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-ladministraci贸-de-sistemes-1",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-ladministraci贸-de-sistemes-1",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s lAdministraci贸 de Sistemes?",
    "text": "Qu猫 茅s lAdministraci贸 de Sistemes?\n\n\n\n\nLadministraci贸 de sistemes 茅s la disciplina t猫cnica que implica la configuraci贸, la gesti贸, la supervisi贸 i el manteniment continu dinfraestructures informtiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.), per garantir la seva disponibilitat, rendiment, seguretat i funcionalitat, amb lobjectiu de satisfer les necessitats operacionals i estrat猫giques de lorganitzaci贸.\n\n\nSi preguntem a ChatGPT que ens defineixi formalment qu猫 茅s lAdministraci贸 de Sistemes, ens dir que 茅s la disciplina t猫cnica que implica la configuraci贸, la gesti贸, la supervisi贸 i el manteniment continu dinfraestructures informtiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.), per garantir la seva disponibilitat, rendiment, seguretat i funcionalitat, amb lobjectiu de satisfer les necessitats operacionals i estrat猫giques de lorganitzaci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-administrador",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-administrador",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un administrador?",
    "text": "Qu猫 茅s un administrador?\n\n\n\n\nUn administrador 茅s una persona que t茅 cura, gestiona o dirigeix els b茅ns o els interessos duna altra persona o entitat. En aquest cas, configurar, gestionar, supervisar i mantenir sistemes informatics.\n\n\nFixeu-vos en els elements clau de la definici贸:\nSegons la RAE, un administrador 茅s una persona que t茅 cura, gestiona o dirigeix els b茅ns o els interessos duna altra persona o entitat. En aquest cas, configurar, gestionar, supervisar i mantenir sistemes informatics. Aix貌 implica que la primera part de la definici贸 de ChatGPT est en l铆nia amb la definici贸 de ladministrador.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-sistema",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-sistema",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un sistema?",
    "text": "Qu猫 茅s un sistema?\n\n\n\n\nUn sistema 茅s un conjunt delements interconnectats que treballen junts per aconseguir un objectiu com煤. El Sistema Informtic est format per hardware, programari, dades, xarxes, persones, etc., que treballen junts per processar informaci贸.\n\n\nSegons la RAE, un sistema 茅s un conjunt delements interconnectats que treballen junts per aconseguir un objectiu com煤. El Sistema Informtic est format per hardware, programari, dades, xarxes, persones, etc., que treballen junts per processar informaci贸. Aix貌 implica que la segona part de la definici贸 de ChatGPT necessita ser m茅s espec铆fica per reflectir la complexitat i diversitat dels sistemes informtics i no 煤nicament la infraestructura.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#quines-s贸n-les-m茅triques-a-garantir",
    "href": "slides/01-foundations-of-systems-administration.html#quines-s贸n-les-m茅triques-a-garantir",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Quines s贸n les m茅triques a garantir?",
    "text": "Quines s贸n les m茅triques a garantir?\n\nDisponibilitat: Capacitat dun sistema per estar operatiu i accessible als usuaris en tot moment.\nRendiment: Mesura de lefici猫ncia amb qu猫 un sistema utilitza els recursos disponibles per executar tasques.\nSeguretat: Capacitat dun sistema per protegir les dades i recursos contra accessos no autoritzats, atacs i p猫rdues.\nFuncionalitat: Conjunt de caracter铆stiques i capacitats que un sistema ofereix per complir amb els requisits operatius i les necessitats dels usuaris.\n\n\nA qu猫 ens referim quan diem garantir unes m猫triques com la disponibilitat, el rendiment, la seguretat i la funcionalitat dun sistema?\n\nDisponibilitat: La disponibilitat dun sistema es refereix a la capacitat daquest de romandre operatiu i accessible als usuaris en tot moment, minimitzant el temps dinactivitat. Aix貌 implica assegurar que el sistema estigui disponible per a l煤s en qualsevol moment, evitant interrupcions i fallades.\nRendiment: El rendiment dun sistema es refereix a la mesura de lefici猫ncia amb qu猫 aquest utilitza els recursos disponibles per executar tasques de manera rpida i efectiva. Aix貌 implica garantir que el sistema pugui processar dades i executar tasques de manera eficient, sense retards ni interrupcions.\nSeguretat: La seguretat dun sistema es refereix a la capacitat daquest de protegir les dades i recursos contra accessos no autoritzats, atacs i p猫rdues. Aix貌 implica implementar mesures de seguretat, com xifrat, autenticaci贸, control dacc茅s i monitoritzaci贸, per protegir la informaci贸 i els recursos del sistema.\nFuncionalitat: La funcionalitat dun sistema es refereix al conjunt de caracter铆stiques i capacitats que aquest ofereix per complir amb els requisits operatius i les necessitats dels usuaris. Aix貌 implica garantir que el sistema pugui realitzar les tasques i funcions requerides, oferint una experi猫ncia dusuari satisfact貌ria i complint amb les expectatives dels usuaris.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#quines-s贸n-les-necessitats-a-satisfer",
    "href": "slides/01-foundations-of-systems-administration.html#quines-s贸n-les-necessitats-a-satisfer",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Quines s贸n les necessitats a satisfer?",
    "text": "Quines s贸n les necessitats a satisfer?\n\nNecessitats Operacionals: Requisits i objectius relacionats amb lexecuci贸 diria i el funcionament eficient dels sistemes, com ara la disponibilitat, el rendiment i la seguretat.\nNecessitats Estrat猫giques: Objectius i metes a llarg termini de lorganitzaci贸, com ara la innovaci贸, la competitivitat i ladaptabilitat o la escalabilitat dels sistemes.\n\n\nFinalment, la definici贸 de ChatGPT tamb茅 fa refer猫ncia a les necessitats operacionals i estrat猫giques de lorganitzaci贸. Aix貌 implica que ladministraci贸 de sistemes no nom茅s es centra en garantir el funcionament i la seguretat dels sistemes, sin贸 que tamb茅 t茅 en compte els objectius i les metes de lorganitzaci贸 en conjunt. Aix貌 significa que els administradors de sistemes han de tenir en compte les necessitats operacionals i estrat猫giques de lorganitzaci贸 per garantir que els sistemes compleixin amb els requisits i expectatives de lempresa.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#millorant-la-definici贸-feta-per-chatgpt",
    "href": "slides/01-foundations-of-systems-administration.html#millorant-la-definici贸-feta-per-chatgpt",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Millorant la definici贸 feta per ChatGPT",
    "text": "Millorant la definici贸 feta per ChatGPT\nLadministraci贸 de sistemes 茅s la disciplina t猫cnica que implica la configuraci贸, gesti贸, supervisi贸 i manteniment continu dinfraestructures informtiques (servidors, xarxes, emmagatzematge de dades, programari, seguretat, etc.)\naix铆 com la coordinaci贸 de les persones usuries, pol铆tiques, procediments i dades associades\nper garantir la disponibilitat, rendiment, seguretat i funcionalitat del sistema, amb lobjectiu de satisfer les necessitats operacionals i estrat猫giques de lorganitzaci贸 en conjunt.\n\nLa definici贸 de ChatGPT no 茅s incorrecta, per貌 茅s una mica limitada. Un sistema no nom茅s est format per infraestructures (hardware, programari, xarxes, etc.), sin贸 que tamb茅 inclou altres elements com les persones, les pol铆tiques, els procediments, les dades que estan relacionades amb les necessitats operacionals i estrat猫giques. Per tant, la definici贸 millorada inclou aquests elements per proporcionar una visi贸 m茅s completa de ladministraci贸 de sistemes.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#analogia-amb-matrix",
    "href": "slides/01-foundations-of-systems-administration.html#analogia-amb-matrix",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Analogia amb Matrix",
    "text": "Analogia amb Matrix\n\nQuants de vosaltres heu vist la pel路l铆cula Matrix? Qu猫 t茅 a veure amb lAdministraci贸 de Sistemes?\n\n\n\n\n\nIntroducci贸 a System Administration - CBT Nuggets (0:32 fins a 2:16)\n\n\n\n\nLautor del clip fa una analogia entre ladministraci贸 de sistemes i la pel路l铆cula Matrix. En aquesta pel路l铆cula, els personatges principals s贸n capa莽os de controlar i manipular el m贸n virtual de Matrix, canviant la realitat a voluntat. Aquesta analogia reflecteix la capacitat dels administradors de sistemes per controlar i gestionar els sistemes informtics, configurant-los, supervisant-los i mantenint-los per garantir el seu funcionament i seguretat. Compara matrix amb un super administrador de sistemes que controla tots els aspectes i us permet menjar dos pastilles per canviar la realitat (una de blava i una de vermella). Una us permet ser administrador de sistemes i laltra us permet ser usuari de sistemes. Aquesta analogia 茅s una manera divertida de visualitzar el paper dels administradors de sistemes i la seva capacitat per controlar i gestionar els sistemes informtics.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#evoluci贸",
    "href": "slides/01-foundations-of-systems-administration.html#evoluci贸",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Evoluci贸",
    "text": "Evoluci贸\n\n\n\n\n\nsequenceDiagram\n    participant Maquinari\n    participant Virtualitzaci贸\n    participant Contenidors\n    participant DevOps\n    participant IaC as Infraestructura com a Codi\n    participant FaaS as Funcions com a Servei\n\n    rect rgb(255, 255, 204)\n        Note over Maquinari: 1. Configuraci贸 Tradicional\n        Maquinari-&gt;&gt;Maquinari: L'administrador es centra en el hardware\n    end\n\n    rect rgb(204, 255, 204)\n        Note over Maquinari,Virtualitzaci贸: 2. Virtualitzaci贸\n        Maquinari-&gt;&gt;Virtualitzaci贸: A茂llament de S.O.\n    end\n\n    rect rgb(204, 255, 255)\n        Note over Maquinari,DevOps: 3. Contenidors i DevOps\n        Virtualitzaci贸-&gt;&gt;Contenidors: A茂llament d'aplicacions\n        Contenidors-&gt;&gt;DevOps: Faciliten el desplegament continu\n    end\n\n    rect rgb(255, 204, 255)\n        Note over Maquinari,IaC: 4. Infraestructura com a Codi (IaC)\n        DevOps-&gt;&gt;IaC: Automatitzaci贸 total de la infraestructura\n    end\n\n    rect rgb(255, 204, 204)\n        Note over Maquinari,FaaS: 5. Funcions com a Servei (FaaS)\n        IaC-&gt;&gt;FaaS: Abstracci贸 completa de la plataforma\n    end\n\n\n\n\n\n\n\nFa una d猫cada, el m贸n del software i el hardware era molt diferent del que coneixem avui en dia. Els servidors eren f铆sics, les aplicacions sexecutaven en un 煤nic servidor i la infraestructura era esttica i dif铆cil de modificar. Els administradors de sistemes treballaven en un entorn dominat pel hardware i els cables, dedicant moltes hores a configurar i mantenir els servidors. Al mateix temps, els desenvolupadors de software operaven en un univers separat, on les aplicacions sexecutaven en servidors f铆sics i tenien poc control sobre la infraestructura. Aquesta separaci贸 va generar una divisi贸 notable entre els dos grups, amb escassa comunicaci贸 i col路laboraci贸.\nLa situaci贸 va canviar radicalment amb larribada de la virtualitzaci贸. Aquesta tecnologia va permetre als administradors de sistemes crear mquines virtuals i clons de servidors, simplificant enormement la gesti贸 i configuraci贸 de la infraestructura. La virtualitzaci贸 va marcar un punt dinflexi贸, transformant la manera de gestionar els sistemes i permetent als desenvolupadors provar i desplegar aplicacions en entorns a茂llats, millorant aix铆 la qualitat i fiabilitat del software i apropant els dos grups.\nLaparici贸 dels contenidors va suposar un altre gran avan莽 en ladministraci贸 de sistemes. Aquesta tecnologia va permetre als desenvolupadors empaquetar aplicacions i les seves depend猫ncies en contenidors lleugers i porttils, que podien ser executats en qualsevol entorn. Aix貌 va impulsar el concepte de DEVOPS, facilitant la col路laboraci贸 entre els equips de desenvolupament i operacions per automatitzar i millorar els processos de desplegament, monitoritzaci贸 i gesti贸 de la infraestructura.\nDEVOPS va emergir com a resposta a aquest canvi, promovent la col路laboraci贸, comunicaci贸 i integraci贸 entre els equips de desenvolupament i operacions, amb lobjectiu de millorar la qualitat del software i accelerar el desplegament daplicacions. Aquesta metodologia va permetre als equips treballar conjuntament per automatitzar i perfeccionar els processos relacionats amb la infraestructura.\nLa prctica de Infrastructure as Code (IAC) va completar aquest proc茅s, permetent gestionar la infraestructura de manera programtica mitjan莽ant codi. Aix貌 va permetre als equips de desenvolupament i operacions tractar la infraestructura com a codi, aplicant les mateixes prctiques de desenvolupament de software en la seva gesti贸. Com a resultat, la col路laboraci贸, integraci贸 i automatitzaci贸 dels processos van millorar, augmentant la fiabilitat i escalabilitat de la infraestructura.\nFinalment, amb laparici贸 dels conceptes serverless i Function as a Service (FAAS), la diferenciaci贸 entre desenvolupament i operacions va desapar猫ixer completament. Aquest nou model (actual) permet als desenvolupadors executar funcions de manera a茂llada i eficient, sense preocupar-se de la infraestructura subjacent. Aquesta nova forma de treballar ha millorat la productivitat i flexibilitat dels equips de desenvolupament, facilitant el desenvolupament i desplegament daplicacions en entorns dinmics i escalables. Els administradors de sistemes han evolucionat de t猫cnics centrats en la infraestructura a enginyers de sistemes i aplicacions, amb un enfocament m茅s ampli i integrat en el desenvolupament de software.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#sortides-professionals",
    "href": "slides/01-foundations-of-systems-administration.html#sortides-professionals",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Sortides Professionals",
    "text": "Sortides Professionals\n\n\nLadministraci贸 de sistemes 茅s una disciplina mplia i diversa, que no segueix una 煤nica via daprenentatge. Aquesta professi贸 inclou una gran varietat de rols i especialitzacions, per貌 no compta amb un itinerari professional clarament establert, fet que dificulta lensenyament de tots els seus aspectes en una sola assignatura. Si observeu el pla destudis del Grau en Enginyeria Informtica, veureu que inclou assignatures orientades a la programaci贸, amb sortides professionals com a desenvolupadors de software en diferents mbits. Alhora, tamb茅 ofereix formaci贸 en computaci贸 (xarxes, sistemes operatius, bases de dades), amb possibilitats laborals com a enginyer de xarxes o administrador de bases de dades.\nTradicionalment, ladministraci贸 de sistemes ha estat vinculada a les operacions, amb sortides professionals com a t猫cnic de suport o t猫cnic de centre de dades, sovint allunyades dels perfils dun enginyer informtic. No obstant aix貌, avui en dia, ladministraci贸 de sistemes ha evolucionat significativament, donant lloc a perfils m茅s avan莽ats i t猫cnics com DevOps, SRE (Site Reliability Engineer), i Cloud Engineer, que ofereixen oportunitats laborals molt m茅s atractives i alineades amb les necessitats del mercat actual.\nAquesta assignatura t茅 com a objectiu introduir-vos al m贸n de ladministraci贸 de sistemes i aplicacions, aix铆 com a la seva gesti贸 i manteniment. Ho farem amb una visi贸 actualitzada, orientada cap a les sortides professionals m茅s demandades en el mercat laboral, preparant-vos per a perfils amb m茅s responsabilitat i especialitzaci贸 dins del camp de les tecnologies de la informaci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#objectius-del-curs",
    "href": "slides/01-foundations-of-systems-administration.html#objectius-del-curs",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Objectius del curs",
    "text": "Objectius del curs\n\nIntroduir-vos en el m贸n de ladministraci贸 de sistemes i aplicacions, aix铆 com en la seva gesti贸 i manteniment.\nRepasar llenguatges de programaci贸 i scripting per a lautomatitzaci贸 de tasques. Bash, AWK, YAML, que ens permetran utilitzar eines com Ansible, AWS CloudFormation, Docker, Kubernetes, etc.\nApendre a gestionar, configurar i monitoritzar servidors en entorns f铆sics i virtuals.\nIntroduir-vos en el m贸n del Cloud Computing i les seves principals plataformes (AWS, Azure, Google Cloud).\nDesplegar serveis Web, Bases de Dades, Aplicacions i Infraestructures en diferents entorns.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#metodologia",
    "href": "slides/01-foundations-of-systems-administration.html#metodologia",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Metodologia",
    "text": "Metodologia\n\nTeoria: En aquestes sessions, es presentaran els continguts te貌rics de lassignatura, que es complementaran amb exemples il路lustratius. Com a material de suport, sutilitzaran les diapositives de lassignatura.\nPrctiques: Aquestes sessions es basen en una metodologia activa i asincr貌nica que permet a cada estudiant o grup avan莽ar al seu ritme. El contingut 茅s autosuficient, i la funci贸 del professor 茅s fomentar el debat i ajudar a resoldre dubtes.\nTreball aut貌nom: Aquesta part del curs implica la finalitzaci贸 dels laboratoris i lelaboraci贸 dinformes a partir dels reptes proposats. Tamb茅 inclou la lectura i visualitzaci贸 de documentaci贸 t猫cnica; aix铆 com la realitzaci贸 dactivitats al cloud AWS.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#planificaci贸-part-i",
    "href": "slides/01-foundations-of-systems-administration.html#planificaci贸-part-i",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Planificaci贸 Part I",
    "text": "Planificaci贸 Part I\n\n\n\n\n\n\n\n\nSet.\nDilluns\nDimecres\n\n\n\n\n1a\n-\nU1: Fonaments de lAdministraci贸\n\n\n2a\nU2: Proc茅s dArrencada i Inicialitzaci贸 del Sistema\nU2: Proc茅s dArrencada i Inicialitzaci贸\n\n\n3a\nU2: Proc茅s dArrencada i Inicialitzaci贸 del Sistema\nU2: Proc茅s dArrencada i Inicialitzaci贸\n\n\n4a\nU3: Sis. de Fitxers i Emmagatzematge\nU3: Sis. de Fitxers i Emmagatzematge\n\n\n5a\nU3: Sis. de Fitxers i Emmagatzematge\nU3: Sis. de Fitxers i Emmagatzematge\n\n\n6a\nU3: Sis. de Fitxers i Emmagatzematge\nU4: Autenticaci贸 i Autoritzaci贸\n\n\n7a\nU4: Autenticaci贸 i Autoritzaci贸\nU4: Autenticaci贸 i Autoritzaci贸\n\n\n8a\nWorkshop\nWorkshop\n\n\n9a\nPARCIALS",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#planificaci贸-part-ii",
    "href": "slides/01-foundations-of-systems-administration.html#planificaci贸-part-ii",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Planificaci贸 Part II",
    "text": "Planificaci贸 Part II\n\n\n\nSet.\nDilluns\nDimecres\n\n\n\n\n10a\nU5: Virtualitzaci贸\nU5: Virtualitzaci贸\n\n\n11a\nU5: Virtualitzaci贸\nU5: Virtualitzaci贸\n\n\n12a\nU6: Computaci贸 en el N煤vol\nU6: Computaci贸 en el N煤vol\n\n\n13a\nU6: Computaci贸 en el N煤vol\nU6: Computaci贸 en el N煤vol\n\n\n14a\n-\nU7: Orquestraci贸 i CI/CD\n\n\n15a\nWorkshop\nWorkshop\n\n\n16a\nPARCIALS\n\n\n\n17a\n\n\n\n\n18a\n\n\n\n\n19a\nRECUPERACIONS",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#criteris-davaluaci贸",
    "href": "slides/01-foundations-of-systems-administration.html#criteris-davaluaci贸",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Criteris dAvaluaci贸",
    "text": "Criteris dAvaluaci贸\n\n\n\n\n\n\n\n\n\n\nActivitat\nPes\nRecuperable?\nNota M铆nima?\nGrup?\n\n\n\n\nExamen 1\n35%\nS铆\nNo\nNo\n\n\nExamen 2\n35%\nS铆\nNo\nNo\n\n\nLaboratori\n20%\nNo\nS铆\nS铆\n\n\nActivitats Async\n5%\nNo\nNo\nNo\n\n\nSeguiment i participaci贸\n5%\nNo\nNo\nNo",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exmens",
    "href": "slides/01-foundations-of-systems-administration.html#exmens",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Exmens",
    "text": "Exmens\nEls exmens parcials (E1 i E2) s贸n proves escrites que avaluen els coneixements te貌rics i prctics adquirits durant el curs.\n\nS贸n proves individuals i presencials.\nEs realitzaran en les dates establertes al calendari acad猫mic.\nNo es permet l煤s de cap dispositiu electr貌nic (tel猫fons m貌bils, ordinadors porttils o tauletes).\nSi es permet l煤s dun resum de continguts, que ha de ser un document escrit a m i no pot excedir una fulla DIN A4 (per davant i per darrere).",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#recuperaci贸",
    "href": "slides/01-foundations-of-systems-administration.html#recuperaci贸",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Recuperaci贸",
    "text": "Recuperaci贸\n\nEls parcials s贸n recuperables mitjan莽ant proves escrites addicionals que es realitzaran durant la setmana de recuperaci贸.\nSi un estudiant necessita recuperar un 煤nic parcial (E1 o E2), podr fer una prova espec铆fica per a aquest parcial. La qualificaci贸 obtinguda en aquesta recuperaci贸 substituir la nota del parcial corresponent.\nSi un estudiant necessita recuperar ambd贸s parcials, haur de realitzar dues proves separades, una per a cada parcial (E1 i E2). Les qualificacions obtingudes en cadascuna daquestes proves de recuperaci贸 substituiran les notes originals dels parcials respectius.\ns important notar que no hi haur un model dexamen unificat per a la recuperaci贸; cada prova de recuperaci贸 se centrar exclusivament en els continguts del parcial al qual correspon.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#prctiques",
    "href": "slides/01-foundations-of-systems-administration.html#prctiques",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Prctiques",
    "text": "Prctiques\n\nLes prctiques de lassignatura impliquen treball fora de laula i shan de lliurar de forma estricta en les dates establertes.\nLa seva avaluaci贸 es far mitjan莽ant r煤briques de correcci贸, que estaran disponibles per als estudiants amb antelaci贸.\nEl professorat pot entrevistar els estudiants per verificar lautoria. Si es detecta que una activitat no ha estat realitzada per lestudiant la seva qualificaci贸 ser 0.\nQualsevol entrega fora del termini establert es considerar no vlida i es qualificar amb un 0.\nCadascuna pot tenir una ponderaci贸 espec铆fica indicada a la descripci贸 de lactivitat.\nAquestes prctiques no s贸n recuperables.\nTot i ser activitats en grup, cada estudiant pot obtenir una nota diferent en funci贸 de la seva participaci贸 i aportacions individuals al grup.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#activitats-as铆ncrones-a-aws",
    "href": "slides/01-foundations-of-systems-administration.html#activitats-as铆ncrones-a-aws",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Activitats As铆ncrones a AWS",
    "text": "Activitats As铆ncrones a AWS\nAquestes activitats as铆ncrones es realitzaran a la plataforma AWS al llarg del curs. La seva finalitat 茅s que completis totes les activitats i laboratoris proposats, ja que la qualificaci贸 es basar 铆ntegrament en la finalitzaci贸 daquests. Completar totes les tasques et donar el 5% de la nota final. Si en fas nom茅s una part, la puntuaci贸 ser proporcional a les activitats que hagis realitzat.\n\nNo recuperable: Aquesta activitat no disposa de recuperaci贸.\nData l铆mit: La data mxima per a la presentaci贸 i finalitzaci贸 茅s el dia de lE2.\nValor afegit: Obtenci贸 dun certificat oficial AWS.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#seguiment-i-participaci贸",
    "href": "slides/01-foundations-of-systems-administration.html#seguiment-i-participaci贸",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Seguiment i Participaci贸",
    "text": "Seguiment i Participaci贸\n\n\n\n\n\n\n\nR煤brica dAvaluaci贸\n\n\n\n\n\n\n\n\n\n\n\nPunts\nParticipaci贸 Presencial\nParticipaci贸 en F貌rums\nActivitats Sessi贸\n\n\n\n\n10\nContribucions excepcionals,enriqueix la discussi贸.\nL铆der en discussions, promou debat.\nQualitat excepcional, supera expectatives.\n\n\n9\nComentaris rellevants, mostra comprensi贸, escolta activament.\nRespostes significatives.\nAlta qualitat, treball prec铆s.\n\n\n8\nContribucions regulars, interactua amb companys.\nPublicacions rellevants, contribueix constructivament.\nCompleix tots requisits amb precisi贸.\n\n\n7\nParticipa amb una comprensi贸 bsica.\nCompleix m铆nims, contribucions breus.\nQualitat inconsistent per貌 acceptable.\n\n\n5-6\nPoca freq眉猫ncia, comentaris superficials.\nPublicacions rares, poc profundes.\nAlgunes activitats incompletes.\n\n\n1-4\nNom茅s participa si se li demana.\nPublicacions irrellevants.\nRarament completa activitats.\n\n\n0\nEvita participar, distret.\nPublicacions fora de tema.\nNo lliura activitats.\n\n\n\n\n\n\n\n\nLassist猫ncia passiva no es puntua.\n\n\nAquest component davaluaci贸 est dissenyat per fomentar la participaci贸 activa i el comprom铆s amb lassignatura. La participaci贸 no es limita nom茅s a lassist猫ncia a classe, sin贸 que tamb茅 inclou la contribuci贸 en discussions, f貌rums en l铆nia i activitats relacionades amb les sessions. Tota participaci贸 ha de ser rellevant i constructiva per ser valorada positivament. En aquesta r煤brica, es detallen els criteris espec铆fics que sutilitzaran per avaluar la participaci贸 dels estudiants en diferents mbits.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#bonus-1",
    "href": "slides/01-foundations-of-systems-administration.html#bonus-1",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Bonus 1",
    "text": "Bonus 1\n\n\n\nObjectiu: Fomentar la reflexi贸 i lautoavaluaci贸 dels continguts treballats a classe.\nMetodologia: Cada setmana, els estudiants han de fer un commit al seu repositori dapunts amb les notes de les sessions de teoria i prctiques.\nAvaluaci贸: Es valorar la qualitat de les notes, la seva coher猫ncia i la seva relaci贸 amb els continguts treballats, aix铆 com les reflexions i opinions personals incloses.\nPer participar cal crear un repositori a Github (p煤blic) i fer-me arribar lenlla莽.\n\n\n\n\nExemple de Notes\n## Setmana X\n\n# Resum te貌ric\n\n# Exemples prctics\n\n# Dubtes i preguntes\n\n# Reflexions personals\n\n\n\n\n\n\n\nNo es permet cap altre forma\n\n\nLes notes han de ser escrites en format Markdown i mantingudes en un repositori Git i Github.\n\n\n\n\n\n\nAquest bonus est dissenyat per incentivar els estudiants a mantenir un registre organitzat i reflexiu dels continguts treballats a classe. En fer un commit setmanal amb les seves notes, els estudiants no nom茅s reforcen el seu aprenentatge, sin贸 que tamb茅 desenvolupen habilitats de documentaci贸 i autoavaluaci贸. La qualitat de les notes ser clau en lavaluaci贸, ja que es valorar no nom茅s la precisi贸 dels continguts, sin贸 tamb茅 la capacitat de reflexionar sobre el que sha apr猫s i com sha aplicat aquest coneixement. Es tracta duna oportinitat per als estudiants per crear el seu diari daprenentatge al llarg del curs. Per participar, els estudiants han de crear un repositori p煤blic a Github i compartir lenlla莽 amb el professorat.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#bonus-2",
    "href": "slides/01-foundations-of-systems-administration.html#bonus-2",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Bonus 2",
    "text": "Bonus 2\n\n\n\nEls materials s贸n Open Source.\nQualsevol estudiant pot detectar errors, millorar els materials o afegir continguts nous.\nSavaluar la quantitat i qualitat.\n\n\n\n\n\nUn altre bonus que oferim 茅s la possibilitat de contribuir als materials de lassignatura seguint la metodologia de Open Source. Aix貌 significa que qualsevol estudiant pot detectar errors, suggerir millores o afegir continguts nous als materials proporcionats. Per participar, els estudiants poden fer un fork del repositori de lassignatura, treballar en una branca separada i despr茅s obrir una pull request amb les seves propostes de canvi. La quantitat i qualitat de les contribucions seran avaluades, oferint aix铆 una oportunitat per als estudiants de participar activament en la millora dels recursos educatius.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#gesti贸-del-curs",
    "href": "slides/01-foundations-of-systems-administration.html#gesti贸-del-curs",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Gesti贸 del curs",
    "text": "Gesti贸 del curs\n\nEs demana que els estudiants arribin puntuals a les sessions. Lentrada tardana pot interrompre la dinmica de la classe i el treball dels companys.\nEs demana que els estudiants respectin les normes de conviv猫ncia i respecte mutu durant les sessions de classe. Aix貌 inclou evitar interrupcions innecessries, escoltar activament als companys i al professor, i mantenir un ambient de treball positiu i constructiu.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#comunicaci贸-amb-el-professorat",
    "href": "slides/01-foundations-of-systems-administration.html#comunicaci贸-amb-el-professorat",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Comunicaci贸 amb el professorat",
    "text": "Comunicaci贸 amb el professorat\n\nIntenteu comunicar-vos a trav茅s del correu electr貌nic i no per leina del campus virtual per assegurar una resposta m茅s rpida.\nLes sessions de tutoria es realitzaran de manera presencial o virtual, segons les necessitats dels estudiants. s important que els estudiants sol路licitin cita pr猫via per a les tutories utilitzant el correu electr貌nic jordi.mateo@udl.cat indicant el motiu de la consulta i la disponibilitat horria i afegint lassumpte [AMSA]: Sol路licitud de Tutoria.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#treball-individual",
    "href": "slides/01-foundations-of-systems-administration.html#treball-individual",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Treball individual",
    "text": "Treball individual\n\nCada estudiant 茅s responsable de la seva pr貌pia feina i de com gestiona el seu temps.\nLassist猫ncia a classe no 茅s obligat貌ria.\nCada alumne ha de presentar evid猫ncies pr貌pies del treball realitzat, encara que es col路labori en grup.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#煤s-de-la-iag",
    "href": "slides/01-foundations-of-systems-administration.html#煤s-de-la-iag",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "s de la IAG",
    "text": "s de la IAG\n\nPots utilitzar eines dIAG per generar idees, entendre conceptes complexos o esbossar lestructura inicial del teu codi o projecte. No obstant aix貌, la implementaci贸 i la versi贸 final han de ser sempre de la teva autoria.\nEst estrictament prohibit presentar codi o solucions generades directament per una IAG com a treball propi (茅s a dir, mitjan莽ant un simple copiar i enganxar).\nSi incorpores material assistit per una IAG, has de declarar-ho expl铆citament. Aix貌 implica identificar clarament les seccions generades per IAG i proporcionar el prompt exacte utilitzat per crear-les.\n\n\nLincompliment daquestes directrius es considerar una violaci贸 de la integritat acad猫mica.\n\n\nQualificaci贸 de zero en la tasca.\nConseq眉猫ncies disciplinries que estableix la Normativa de Conviv猫ncia de la UdL per frau acad猫mic.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#eines",
    "href": "slides/01-foundations-of-systems-administration.html#eines",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Eines",
    "text": "Eines\n\nOrdinador porttil amb connexi贸 a Internet.\n\nEs recomana portar el vostre propi ordinador per cursar lassignatura.\nSi no disposeu dordinador, podreu utilitzar els ordinadors de la classe durant les sessions de laboratori.\n\nDistribucions Linux (Debian i AlmaLinux)\n\ns obligatori utilitzar les distribucions indicades als laboratoris. Altres distribucions no rebran suport.\n\nSoftware de virtualitzaci贸 (VMWare i QEMU)\n\nEs recomana utilitzar VMWare i QEMU, per貌 podeu optar per altres opcions de virtualitzaci贸. Heu de ser capa莽os dadaptar el material al vostre programari de virtualitzaci贸.\n\nCompte a AWS",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#materials-i-recursos",
    "href": "slides/01-foundations-of-systems-administration.html#materials-i-recursos",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Materials i Recursos",
    "text": "Materials i Recursos\n\nApunts de lassignatura i materials proporcionats pel professor.\nDocumentaci贸 oficial de les eines i tecnologies utilitzades.\nF貌rums t猫cnics a la xarxa com Stack Overflow, Reddit, etc\nLlibres de refer猫ncia en administraci贸 de sistemes:\n\nUNIX and Linux System Administration Handbook de Evi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley.\nThe Practice of System and Network Administration de Thomas A. Limoncelli, Christina J. Hogan, Strata R. Chalup.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-bomber",
    "href": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-bomber",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "El rol de ladministrador de sistemes - Similituds amb un bomber",
    "text": "El rol de ladministrador de sistemes - Similituds amb un bomber\n\nEls administradors de sistemes han de tenir coneixements t猫cnics profunds i una actitud proactiva per anticipar problemes i, si cal, resoldrels sota pressi贸, tal com ho faria un bomber en una emerg猫ncia.\n\n\n\n\n\nEl rol tradicional de laministrador de sistemes pot ser semblant al dun bomber. Ha de treballar per prevenir incendis, per貌 quan hi ha un incendi ha de c贸rrer per apagar-lo i restaurar la situaci贸 el m茅s rpid. No importa lhora, el lloc o el dia, ladministrador de sistemes ha de ser capa莽 de respondre a les emerg猫ncies i solucionar els problemes de manera eficient i efectiva. Aix貌 requereix una gran habilitat t猫cnica, coneixements profunds dels sistemes i una actitud proactiva per anticipar-se als problemes i resoldrels rpidament. Els administradors de sistemes han de ser tant proactius com reactius, prevenint problemes i responent rpidament davant els imprevistos per garantir la continu茂tat del servei. Poden utilitzar eines com Nagios, Zabbix, Prometheus per monitoritzar els sistemes i detectar problemes abans que es converteixin en emerg猫ncies reals. Per貌, han dintervenir i improvisar quan calgui per resoldre els problemes i restaurar la normalitat.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-cient铆fic",
    "href": "slides/01-foundations-of-systems-administration.html#el-rol-de-ladministrador-de-sistemes---similituds-amb-un-cient铆fic",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "El rol de ladministrador de sistemes - Similituds amb un cient铆fic",
    "text": "El rol de ladministrador de sistemes - Similituds amb un cient铆fic\n\n\n\n\n\n\n\nEls administradors de sistemes han de ser capa莽os de resoldre problemes complexos i trobar solucions creatives.\nAix貌 pot ser semblant al treball dun cient铆fic, que ha de plantejar hip貌tesis, realitzar experiments i analitzar dades per arribar a conclusions.\nPer exemple, una empresa pot necessitar donar codis dacc茅s temporals als usuaris per connectar-se a la xarxa Wifi. En lloc de gestionar-ho manualment, un administrador de sistemes va crear un sistema que generava codis dacc茅s temporals quan els usuaris tocaven un platan connectada a un Raspberry Pi.\n\n\n\nUn altra caracter铆stica de ladministrador de sistemes 茅s la seva capacitat per resoldre problemes complexos i trobar solucions creatives. Aix貌 pot ser semblant al treball dun cient铆fic, que ha de plantejar hip貌tesis, realitzar experiments i analitzar dades per arribar a conclusions.\nPer exemple, una empresa pot necessitar donar codis dacc茅s temporals als usuaris per connectar-se a la xarxa Wifi. En lloc de gestionar-ho manualment, un administrador de sistemes va crear un sistema que generava codis dacc茅s temporals quan els usuaris tocaven un platan connectada a un Raspberry Pi. Aquesta soluci贸 creativa i inesperada va permetre automatitzar una tasca manual i millorar lexperi猫ncia de lusuari. Aix貌 demostra la capacitat de ladministrador de sistemes per trobar solucions innovadores i eficients als problemes que es presenten.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-administrador-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#salari-administrador-de-sistemes",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Salari Administrador de Sistemes",
    "text": "Salari Administrador de Sistemes\n\n\n\n\n\nEl salari base segons el portal payscale a Espanya 茅s de mitjana 30k amb un potencial de creixement a futtur de 10k. Aquesta dada 茅s orientativa i pot variar segons la ubicaci贸, lexperi猫ncia, les habilitats i la formaci贸 del professional. Per貌, en comparativa amb altres sortides professionals, ladministrador de sistemes igual no 茅s una opci贸 interessant. Analitzem ara sortides professionals m茅s especialitzades.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#especialitzacions-en-administraci贸-de-sistemes",
    "href": "slides/01-foundations-of-systems-administration.html#especialitzacions-en-administraci贸-de-sistemes",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Especialitzacions en Administraci贸 de Sistemes",
    "text": "Especialitzacions en Administraci贸 de Sistemes\n\n\n\nAdministradors de Xarxa, Enmagatzematge, Seguretat\nOperadors de Xarxa\nArquitectes de Sistemes\nT猫cnics de Suport\nT猫cnics de Centre de Dades\nEnginyers de Sistemes\nEnginyer DEVOPS\nEnginyer SRE (Site Reliability Engineer)\n\n\n\n\n\nHi ha una gran varietat despecialitzacions dins lmbit de ladministraci贸 de sistemes, cada una amb responsabilitats 煤niques que poden influir en el salari i els rols. A continuaci贸, detallem algunes daquestes especialitzacions:\n\nAdministradors de Xarxa: Sencarreguen de la configuraci贸, gesti贸 i manteniment de routers, switches, firewalls i altres dispositius de xarxa en entorns f铆sics i virtuals. La seva tasca 茅s garantir la connectivitat i seguretat de les xarxes de lempresa.\nAdministradors de Emmagatzematge: Gestionen sistemes de fitxers, solucions de c貌pies de seguretat i tecnologies demmagatzematge de dades com NETAPP o EMC. S贸n responsables dassegurar que les dades estiguin segures i accessibles.\nAdministradors de Seguretat: Protegeixen els sistemes informtics contra amenaces i atacs cibern猫tics. Implementen pol铆tiques de seguretat, gestionen certificats digitals i realitzen auditories de seguretat per protegir la informaci贸 sensible.\nOperadors de Xarxa: Supervisionen el funcionament diari de les xarxes, gestionant el trnsit de dades i resolent problemes de connexi贸 o rendiment. Sasseguren que les xarxes funcionin sense interrupcions.\nArquitectes de Sistemes: Dissenyen i planifiquen la infraestructura tecnol貌gica de lempresa. S贸n responsables dassegurar que els sistemes compleixin els requisits de rendiment, seguretat i escalabilitat.\nT猫cnics de Suport: Ofereixen assist猫ncia t猫cnica als usuaris, resolent problemes i incidents a trav茅s de sistemes de tickets. La seva tasca 茅s garantir que els usuaris puguin utilitzar les tecnologies sense problemes.\n\n-T猫cnics de Centre de Dades: Gestionen i mantenen els servidors, xarxes i altres equips f铆sics en els centres de dades. Sasseguren que el centre de dades funcioni amb alta disponibilitat i rendiment.\n\nEnginyers de Sistemes: S贸n responsables de dissenyar, implementar i mantenir la infraestructura informtica de lempresa. La seva tasca 茅s assegurar que els sistemes compleixin els requisits operatius i t猫cnics.\n\nAra veurem dues especialitzacions m茅s avan莽ades i amb m茅s demanda en el mercat laboral actual: Enginyer DEVOPS i Enginyer SRE (Site Reliability Engineer) amb detall. Tamb茅 us deixo un enlla莽 a un llibre que parla de les diferents especialitzacions.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-site-reliability-engineer-sre",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-site-reliability-engineer-sre",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un Site Reliability Engineer (SRE)?",
    "text": "Qu猫 茅s un Site Reliability Engineer (SRE)?\nEls Site Reliability Engineers (SRE) s贸n enginyers de sistemes especialitzats en la fiabilitat i lescalabilitat dels sistemes informtics. Estan centrats en les operacions, utilitzant el software com a eina per gestionar els sistemes, solucionar els afers i automatitzar tasques. Les seves missions s贸n crear sistemes escalables i fiables.\n\nFiabilitat del Sistema: Nagios, Zabbix, Prometheus.\nEscalabilitat: Kubernetes, Docker, Terraform.\nMonitoritzaci贸 i Alertes: Grafana, ELK Stack, PagerDuty.\nGesti贸 dIncidents: Jira, ServiceNow, Slack.\nOptimitzaci贸 de Rendiment: New Relic, Datadog, AppDynamics.\nAutomatitzaci贸 de Processos: Ansible, Puppet, Chef.\n\n\nAmb levoluci贸 cont铆nua de les tecnologies cloud i laugment de la demanda de serveis digitals, les prctiques de Site Reliability Engineering (SRE) shan convertit en una pe莽a clau per a moltes organitzacions. Un SRE es pot definir com un professional especialitzat en garantir que les empreses compleixin els seus Acords de Nivell de Servei (SLA) pel que fa a disponibilitat, rendiment, experi猫ncia de lusuari i indicadors clau de negoci (KPIs). Aix貌 implica centrar-se en la millora de la fiabilitat i lescalabilitat dels sistemes, aix铆 com en la implementaci贸 de prctiques dintegraci贸 i lliurament continu (CI/CD), refor莽ar la seguretat i optimitzar els costos operatius.\nEls SREs aprofiten el programari com una eina per gestionar i automatitzar els sistemes, identificar i resoldre problemes, i automatitzar processos amb lobjectiu final de construir infraestructures escalables i fiables que responguin als objectius de negoci.\nLes funcions principals dun SRE inclouen la monitoritzaci贸 constant dels sistemes, la gesti贸 dalertes i resposta a incidents, lautomatitzaci贸 de tasques rutinries, i loptimitzaci贸 de lescala i adaptabilitat dels recursos tecnol貌gics. A m茅s, col路laboren estretament amb els equips de desenvolupament per assegurar la millora cont铆nua de la fiabilitat i el rendiment dels sistemes.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-dun-site-reliability-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#salari-dun-site-reliability-engineer",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Salari dun Site Reliability Engineer",
    "text": "Salari dun Site Reliability Engineer\n\n\n\n\n\nEls Site Reliability Engineers (SREs) experimenten un increment salarial substancial en comparaci贸 amb els administradors de sistemes. Un SRE pot comen莽ar guanyant fins a 50.000  durant el seu primer any, i amb lexperi猫ncia, arribar fins als 70.000  o m茅s en un termini de cinc anys. Aquest diferencial salarial reflecteix la creixent importncia i demanda de professionals especialitzats en la fiabilitat i escalabilitat dels sistemes informtics. A difer猫ncia dels administradors de sistemes, els SREs no nom茅s es dediquen a mantenir la infraestructura, sin贸 que tamb茅 se centren en optimitzar la resili猫ncia i efici猫ncia dels serveis digitals, assegurant que compleixin els Acords de Nivell de Servei (SLA). Per tant, si tinteressa un rol amb responsabilitats m茅s t猫cniques i un potencial de creixement major, el cam铆 dSRE pot ser una opci贸 molt atractiva dins del mercat laboral actual. Les seves responsabilitats dins de lempresa s贸n molt importants i tenen un impacte directe amb els objectius de negoci.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-devops-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-devops-engineer",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un DevOps Engineer?",
    "text": "Qu猫 茅s un DevOps Engineer?\nEls DevOps Engineers s贸n professionals clau en la integraci贸 i col路laboraci贸 entre els equips de desenvolupament (Dev) i operacions (Ops), amb lobjectiu principal de millorar lefici猫ncia i agilitat dels processos de desenvolupament de software. El seu treball se centra en accelerar el desplegament daplicacions, millorar la qualitat del software i optimitzar els fluxos de treball, fent 煤s intensiu de lautomatitzaci贸, la integraci贸 cont铆nua (CI) i el lliurament continu (CD).\n\nAutomatitzaci贸: Jenkins, GitLab CI, Bamboo.\nGesti贸 dinfraestructura com a codi (IaC): Terraform, Ansible, CloudFormation.\nContenidors i orquestraci贸: Docker, Kubernetes.\nMonitoritzaci贸 i registre: Prometheus, Grafana, ELK Stack.\nCol路laboraci贸 i comunicaci贸: Slack, Jira, Confluence.\n\n\nMentre que els Sysadmins tradicionalment socupen de la gesti贸 i manteniment de la infraestructura, com ara servidors, xarxes i sistemes operatius, els DevOps Engineers van m茅s enll daquestes tasques. El seu rol inclou lautomatitzaci贸 de processos, la implementaci贸 de pipelines de CI/CD, la gesti贸 de contenidors (com Docker) i la infraestructura com a codi (IaC), com Terraform o Ansible. En lloc denfocar-se nom茅s en el manteniment i la disponibilitat dels sistemes, els DevOps Engineers treballen per integrar millor el desenvolupament i les operacions, assegurant que els nous llan莽aments de software siguin rpids, segurs i consistents.\nTot i que hi ha solapaments entre DevOps i SRE, les difer猫ncies clau radican en lenfocament i les prioritats. Mentre que els DevOps Engineers se centren en loptimitzaci贸 dels processos de desenvolupament i operacions a trav茅s de la col路laboraci贸 i lautomatitzaci贸, els SREs estan m茅s orientats a la fiabilitat i escalabilitat dels sistemes en producci贸. El SRE t茅 un enfocament m茅s espec铆fic en mantenir els serveis en l铆nia, gestionant incidents, optimitzant el rendiment i assegurant-se que es compleixen els SLA. Tot i que ambd贸s rols treballen amb eines similars, com CI/CD i contenidors, els SREs tenen m茅s responsabilitats en la resoluci贸 dincidents cr铆tics i en la millora de la resili猫ncia del sistema.\nCom podeu veure les eines tecnol貌giques que utilitzen els DevOps Engineers s贸n molt similars a les dels SREs, per貌 la seva aplicaci贸 i objectius s贸n diferents. Per tant, apunteu-vos aquestes eines i tecnologies, ja que s贸n essencials pel m贸n laboral actual.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#salari-dun-devops-engineer",
    "href": "slides/01-foundations-of-systems-administration.html#salari-dun-devops-engineer",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Salari dun DevOps Engineer",
    "text": "Salari dun DevOps Engineer\n\n\n\n\n\nEls DevOps Engineers, igual que els SREs, gaudeixen dun salari m茅s alt i dun major potencial de creixement professional en comparaci贸 amb els administradors de sistemes tradicionals. Si tapassiona ladministraci贸 de sistemes enfocada a lautomatitzaci贸 del desplegament de software, el disseny i la gesti贸 de pipelines de CI/CD, l煤s de contenidors i la implementaci贸 dinfraestructura com a codi, el rol de DevOps Engineer pot oferir-te una carrera m茅s atractiva i plena doportunitats. En lactualitat, moltes empreses busquen professionals amb habilitats en DevOps.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#transfomraci贸-del-administrador-de-sistemes-a-sre",
    "href": "slides/01-foundations-of-systems-administration.html#transfomraci贸-del-administrador-de-sistemes-a-sre",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Transfomraci贸 del Administrador de Sistemes a SRE",
    "text": "Transfomraci贸 del Administrador de Sistemes a SRE\n\n\n\n\nDamon Edwards, co-fundador de Rundeck, parla de la transformaci贸 dun administrador de sistemes a un Site Reliability Engineer (SRE) i com aquesta evoluci贸 pot ajudar a millorar la fiabilitat dels sistemes i la productivitat dels equips de desenvolupament. Aquesta xerrada va ser presentada a la DevOpsCon 2019.\n\n\nEn aquest curs, veure una pinzellada de les tasques dun SRE i dun DevOps Engineer quan introdu茂m les eines de monitoritzaci贸, automatitzaci贸 i CI/CD. Per貌, si voleu aprofundir en la temtica, us recomano aquesta xerrada de la DevOpsCon, per Damon Edwarks, que parla del tema i explica com un administrador de sistemes es pot transformar en un SRE tenint en compte una responsabilitat compartida entre els SLOs i els errors de pressupost.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#arquitectura-client-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#arquitectura-client-servidor",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Arquitectura Client-Servidor",
    "text": "Arquitectura Client-Servidor\nUna arquitectura client-servidor involucra uns sistemes que necessiten serveis i uns servidors que processen i responen a aquestes peticions.\n\n\nClient\nUn ordinador o dispositiu capac抬 de rebre informacio o utilitzar un servei o proveidor.\nServidor\nUn ordinador o dispositiu remot capac抬 de proveir acces a un servei o a informacio.\n\n\n\n\nUn dels conceptes m茅s importants en ladministraci贸 de sistemes 茅s larquitectura client-servidor. Aquesta arquitectura implica la interacci贸 entre dos tipus de sistemes: els clients, que sol路liciten serveis o informaci贸, i els servidors, que processen i responen a aquestes peticions. Aquesta arquitectura 茅s mpliament utilitzada en entorns informtics, com ara la web, les xarxes dordinadors i les aplicacions empresarials.\nPer exemple, quan un usuari accedeix a una pgina web, el seu navegador actua com a client i sol路licita la pgina al servidor web. El servidor de DNS consulta la URL i retorna ladre莽a IP del servidor web. El navegador envia una petici贸 HTTP o HTTPS al servidor web, que respon amb els fitxers necessaris per mostrar la pgina al navegador. Aquest proc茅s implica la comunicaci贸 entre el client i el servidor per proporcionar la informaci贸 sol路licitada a lusuari.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#caracter铆stiques-client-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#caracter铆stiques-client-servidor",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Caracter铆stiques Client-Servidor",
    "text": "Caracter铆stiques Client-Servidor\n\n\nAvantatges\n\nSistema centralitzat Totes les dades en un lloc.\nPol铆tiques de recuperaci贸 de dades.\nSeparaci贸 de la l貌gica.\n\n\n\n\nInconvenients\n\nAtacs de denegaci贸 de serveis.\nMan-in-the-middle.\nPhishing.\nSpoofing.\n\n\n\nAquesta arquitectura t茅 avantatges i inconvenients. Entre els avantatges es troba la centralitzaci贸 de les dades, ja que tota la informaci贸 es troba en un 煤nic lloc, el que facilita la gesti贸 i la recuperaci贸 de les dades. A m茅s, permet establir pol铆tiques de recuperaci贸 de dades i separar la l貌gica de negoci de la interf铆cie dusuari, el que facilita la gesti贸 i el manteniment del sistema. Daquesta manera, els desenvolupadors poden centrar-se en la l貌gica de negoci sense preocupar-se de la interf铆cie dusuari. Per exemple, en una aplicaci贸 web, la l貌gica de negoci es pot gestionar al servidor, mentre que la interf铆cie dusuari es pot gestionar al client.\nEls principals inconvenients daquesta arquitectura s贸n els possibles atacs de denegaci贸 de serveis, els atacs de lhome al mig, el phishing i lusurpaci贸 didentitat. Aquests atacs poden comprometre la seguretat del sistema i posar en perill la informaci贸 dels usuaris. Per tant, 茅s important implementar mesures de seguretat per protegir el sistema i les dades dels usuaris. Un atac de denegaci贸 de servei enviar moltes peticions al servidor per saturar-lo i fer-lo caure. Un atac de lhome al mig intercepta les comunicacions entre el client i el servidor per obtenir informaci贸 sensible. El phishing 茅s un atac en qu猫 els atacants envien correus electr貌nics falsos per enganyar els usuaris i obtenir informaci贸 confidencial. Lusurpaci贸 didentitat implica fer-se passar per una altra persona per obtenir acc茅s a informaci贸 o recursos sensibles. Per tant, 茅s molt imporant ser conscients daquests riscos i implementar mesures de seguretat per protegir el sistema i les dades dels usuaris.\nA la figura sobserva com m煤ltiples clients es comuniquen amb un servidor central per obtenir informaci贸 o serveis. I com multiples servidors poden comunicar-se amb altres servidors per obtenir informaci贸 o serveis. Tamb茅 1 client pot comunicar-se amb m煤ltiples servidors. Per exemple, un client pot accedir a un servidor web per obtenir informaci贸 i a un servidor de correu per enviar correus electr貌nics. El servidor web pot comunicar-se amb el servidor de correu per enviar notificacions als usuaris.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#servidors-m茅s-comuns",
    "href": "slides/01-foundations-of-systems-administration.html#servidors-m茅s-comuns",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Servidors m茅s comuns",
    "text": "Servidors m茅s comuns\n\n\n\nServidor dautenticaci贸.\nServidor de fitxers.\nServidor de discos.\nServidor de correu.\nServidor de base de dades.\n\n\n\nServidor SSH.\nServidor Web.\nServidor daplicacions.\nServidor de backups.\nServidor de c貌mput.\n\n\n\nHi ha molts tipus de servidors en funci贸 de lobjectiu que tenen. Alguns dels servidors m茅s comuns s贸n els servidors dautenticaci贸, que sencarreguen de gestionar lacc茅s dels usuaris als sistemes; els servidors de fitxers, que emmagatzemen i gestionen els fitxers i documents de lempresa; els servidors de discos, que proporcionen emmagatzematge addicional als servidors; els servidors de correu, que gestionen el correu electr貌nic de lempresa; els servidors de base de dades, que emmagatzemen i gestionen les dades de lempresa; els servidors SSH, que permeten lacc茅s remot als servidors; els servidors web, que allotgen les pgines web de lempresa; els servidors daplicacions, que executen les aplicacions de lempresa; els servidors de backups, que realitzen c貌pies de seguretat de les dades de lempresa; i els servidors de c貌mput, que realitzen clculs i processos computacionals entre altres.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-darquitectura-escalable",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-darquitectura-escalable",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Exemple darquitectura escalable",
    "text": "Exemple darquitectura escalable\n\n\n\n\nA la figura proporcionada es mostra una arquitectura t铆picament utilitzada per al desplegament duna web escalable i fiable. En aquesta arquitectura, el punt dentrada 茅s un balancejador de crrega, que distribueix les peticions entre els diversos servidors web. Els servidors web, que poden ser r猫pliques, allotgen les pgines web i gestionen les peticions dels usuaris. Aquestes pgines web necessiten accedir a un servidor de base de dades per emmagatzemar i gestionar les dades associades. Cada base de dades est protegida per un servidor de backups, que realitza c貌pies de seguretat per garantir la recuperaci贸 en cas de fallades. A m茅s, per millorar la velocitat de crrega de les pgines web, es fa servir un dispositiu CDN (Content Delivery Network) que redirigeix les peticions als servidors m茅s propers a lusuari.\nAquesta arquitectura 茅s mpliament utilitzada per allotjar llocs webs, ja que ofereix una combinaci贸 descalabilitat i fiabilitat, assegurant un rendiment 貌ptim i una alta disponibilitat per als usuaris finals.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-i",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-i",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Problemes m茅s comuns servidors (I)",
    "text": "Problemes m茅s comuns servidors (I)\n\nQui i com accedeix a la informaci贸?\n\nDeterminar qui (usuari,proc茅s,servei) pot accedir a quins fitxers i directoris i com ho pot fer (lectura, escriptura, execuci贸).\nPermisos, ACLs, pol铆tiques de seguretat.\n\nCom protegeixo la informaci贸?\n\nDeterminar com protegir la informaci贸 sensible i confidencial.\nEncriptaci贸, contrasenyes, autenticaci贸, autoritzaci贸, auditoria, backups.\n\nCom asseguro el sistema?\n\nProtegir el sistema contra atacs i amenaces.\nFirewall, IDS/IPS, antivirus, actualitzacions, patches, hardening.\n\n\n\nUn dels problemes m茅s comuns en els servidors 茅s determinar qui i com accedeix a la informaci贸. Aix貌 implica definir qui (usuari, proc茅s, servei) pot accedir a quins fitxers i directoris i com ho pot fer (lectura, escriptura, execuci贸). Per fer-ho, es poden utilitzar permisos, llistes de control dacc茅s (ACLs) i pol铆tiques de seguretat per garantir que nom茅s els usuaris autoritzats puguin accedir a la informaci贸.\nUn altre problema com煤 茅s com protegir la informaci贸 sensible i confidencial. Aix貌 implica determinar com protegir la informaci贸 per evitar lacc茅s no autoritzat. Per fer-ho, es poden utilitzar t猫cniques com lencriptaci贸, les contrasenyes, lautenticaci贸, lautoritzaci贸, lauditoria i els backups per garantir la seguretat i la privacitat de la informaci贸.\nUn altre problema 茅s com assegurar el sistema contra atacs i amenaces. Aix貌 implica protegir el sistema contra atacs externs i interns que puguin comprometre la seguretat i la integritat del sistema. Per fer-ho, es poden utilitzar eines com el firewall, els sistemes de detecci贸 i prevenci贸 dintrusions (IDS/IPS), lantivirus, les actualitzacions, els patches i el hardening per garantir la seguretat del sistema.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-ii",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-ii",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Problemes m茅s comuns servidors (II)",
    "text": "Problemes m茅s comuns servidors (II)\n\nCom puc saber si el client 茅s qui diu ser?\n\nAutenticar els usuaris i els dispositius.\nContrasenyes, certificats digitals, autenticaci贸 multifactorial.\n\nQuins avantatges/inconvenients t茅 un disseny respecte a un altre?\n\nDeterminar quin disseny 茅s m茅s adequat per a les necessitats de lempresa.\nEscalabilitat, rendiment, seguretat, disponibilitat, fiabilitat.\n\nCom asseguro el bon funcionament?\n\nGarantir que el sistema funcioni correctament i sense problemes.\nMonitoritzaci贸, alertes, backups, redundncia, tolerncia a fallades.\n\n\n\nUn altre problema 茅s com autenticar els usuaris i els dispositius per garantir que siguin qui diuen ser. Aix貌 implica autenticar els usuaris i els dispositius per garantir que nom茅s els usuaris autoritzats puguin accedir a la informaci贸. Per fer-ho, es poden utilitzar t猫cniques com les contrasenyes, els certificats digitals i lautenticaci贸 multifactorial per garantir la seguretat i la privacitat de la informaci贸.\nUn altre problema com煤 茅s determinar quins avantatges i inconvenients t茅 un disseny respecte a un altre. Aix貌 implica determinar quin disseny 茅s m茅s adequat per a les necessitats de lempresa en termes descalabilitat, rendiment, seguretat, disponibilitat i fiabilitat. Per fer-ho, es poden avaluar els avantatges i inconvenients de cada disseny per garantir que sadeq眉i a les necessitats de lempresa.\nUn altre problema 茅s com assegurar el bon funcionament del sistema. Aix貌 implica garantir que el sistema funcioni correctament i sense problemes. Per fer-ho, es poden utilitzar t猫cniques com la monitoritzaci贸, les alertes, els backups, la redundncia i la tolerncia a fallades per garantir que el sistema funcioni correctament i sense problemes.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-iii",
    "href": "slides/01-foundations-of-systems-administration.html#problemes-m茅s-comuns-servidors-iii",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Problemes m茅s comuns servidors (III)",
    "text": "Problemes m茅s comuns servidors (III)\n\nCom dissenyo pol铆tiques i plans demerg猫ncia si tot falla?\n\nPreparar-se per a situacions demerg猫ncia i desastres.\nPlans de conting猫ncia, plans de recuperaci贸, plans de resposta a incidents.\n\nCom analitzo post-mortem les causes dun atac?\n\nIdentificar les causes dun atac i prendre mesures correctives.\nAnlisi forense, auditoria, millora cont铆nua.\n\n\n\nUn altre problema 茅s com dissenyar pol铆tiques i plans demerg猫ncia si tot falla. Aix貌 implica preparar-se per a situacions demerg猫ncia i desastres per garantir la continu茂tat del negoci. Per fer-ho, es poden utilitzar plans de conting猫ncia, plans de recuperaci贸 i plans de resposta a incidents per garantir que lempresa pugui respondre de manera efica莽 a situacions demerg猫ncia i desastres.\nFinalment, un altre problema 茅s com analitzar post-mortem les causes dun atac per identificar les causes i prendre mesures correctives. Aix貌 implica realitzar una anlisi forense, una auditoria i una millora cont铆nua per identificar les causes dun atac i prendre mesures correctives per evitar que es repeteixin en el futur.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-centre-de-dades",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-centre-de-dades",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un centre de dades?",
    "text": "Qu猫 茅s un centre de dades?\ns una instal路laci贸 que allotja un conjunt de servidors i equipament de xarxa (recursos heterogenis) per proporcionar recursos informtics a diverses aplicacions i serveis (crregues de treball diverses).\n\n\n\n\nEsquema dun centre dades\n\n\n\n\nUn centre de dades o data center 茅s un espai f铆sic on sallotgen els servidors, els dispositius de xarxa i altres equips informtics necessaris per emmagatzemar, processar i distribuir la informaci贸. Aquests centres de dades poden ser propis de lempresa o externs, i poden ser gestionats per lempresa o per un prove茂dor de serveis. Els centres de dades s贸n essencials per a les empreses que necessiten emmagatzemar i processar grans quantitats de dades, ja que proporcionen lespai, la infraestructura i els recursos necessaris per garantir el funcionament dels sistemes informtics.\nUn exemple notable de reutilitzaci贸 destructures per a centres de dades 茅s l煤s dedificis hist貌rics com esgl茅sies i mines abandonades. Aquests espais, amb les seves condicions 煤niques i sovint amb una infraestructura s貌lida, s贸n adaptats per allotjar servidors i equips. Per exemple, lantiga esgl茅sia de Saint-Ouen a Fran莽a ha estat convertida en un centre de dades, aprofitant la seva estructura i espai per complir amb els requisits tecnol貌gics moderns. Daltra banda, la mina de carboni de Pionen a Su猫cia ha estat transformada en un centre de dades subterrani, oferint una protecci贸 f铆sica addicional contra desastres naturals i atacs.\nGoogle disposa de servidors al fons del mar, aprofitant lenergia de les ones per refredar els servidors i reduir el consum energ猫tic. Aquesta innovadora soluci贸 aprofita els recursos naturals per millorar lefici猫ncia energ猫tica dels centres de dades i reduir limpacte ambiental. Aquestes iniciatives mostren la diversitat de solucions i enfoques per a la gesti贸 de centres de dades, adaptant-se a les necessitats i condicions espec铆fiques de cada empresa.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-rack",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-rack",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un rack?",
    "text": "Qu猫 茅s un rack?\nUn rack 茅s una estructura metl路lica que allotja servidors, switches, routers i altres equips informtics en un centre de dades.\n\n\n\n\nRacks del CPD de la UdL\n\n\n\n\nUn rack 茅s una estructura metl路lica que allotja servidors, switches, routers i altres equips informtics en un centre de dades. Aquests racks permeten organitzar i protegir els equips informtics, aix铆 com facilitar la gesti贸 dels cables i la refrigeraci贸 dels equips. Cada rack pot contenir diversos servidors, switches i altres equips, i es pot apilar verticalment per aprofitar lespai disponible al centre de dades. A m茅s, els racks disposen de panells laterals i portes per protegir els equips i garantir la seguretat dels servidors i altres equips informtics.\nPer exemple, a la imatge us mostro els racks dun passad铆s del centre de dades de la Universitat de Lleida, on es poden aquests armaris, penseu que cada rack pot contenir diversos servidors, switches i altres equips informtics, i 煤nciament es veu un dels m煤ltiples passadissos del centre de dades. En aquest centre de dades 茅s on tenim el Campus Virtual, les eines i dades dels estudiants i professors, aix铆 com els servidors de recerca dels grups de recerca de la UdL, entre daltres.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-de-racks",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-de-racks",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Exemple de racks",
    "text": "Exemple de racks\n\n\n\n\n\n\nRack 1 - GCD - Davant\n\n\n\n\n\n\n\n\n\n\nRack 1 - GCD - Darrera\n\n\n\n\n\nAra us mostro un rack, en concret els servidors s贸n del grup de recerca en computaci贸 distribu茂da. A la part de dalt es pot veure un switch, i la resta s贸 servidors. A la part de davant es poden veure els servidors i a la part de darrera els cables de xarxa i alimentaci贸. En aquest cas, hi ha diferents colors de cables per identificar la xarxa a la qual pertanyen i la seva funci贸.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#exemple-de-servidor",
    "href": "slides/01-foundations-of-systems-administration.html#exemple-de-servidor",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Exemple de servidor",
    "text": "Exemple de servidor\n\n\n\n\n\n\nExterior dun servidor\n\n\n\n\n\n\n\n\n\n\nInterior dun servidor\n\n\n\n\n\nEn aquestes imatges podem fer zoom i veure els components exteriors i interiors dun servidor. A la imatge 8 es pot veure com cada disc t茅 un indicador de color per identificar el disc en cas de fallada. A la imatge 9 es pot veure la placa base, els discos durs, la font dalimentaci贸, la mem貌ria RAM i el processador.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-switch",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-un-switch",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s un switch?",
    "text": "Qu猫 茅s un switch?\nUn switch 茅s un dispositiu de xarxa que connecta diversos equips informtics per permetre la comunicaci贸 entre ells.\n\n\n\n\nSwitch\n\n\n\n\nUn switch 茅s un dispositiu de xarxa que connecta diversos equips per facilitar la comunicaci贸 entre ells. Cada switch utilitza una taula de comutaci贸 per dirigir les dades cap al destinatari correcte. Aquesta taula permet al switch con猫ixer quins equips estan connectats a quins ports i escollir la millor ruta per enviar les dades. Els ports del switch es poden configurar per assignar-los a VLANs (Xarxes Locals Virtuals), la qual cosa permet segmentar la xarxa en diverses sub-xarxes, millorant aix铆 la seguretat i el rendiment global de la xarxa.\nNo confondre un switch amb un router. Un switch connecta diversos equips dins de la mateixa xarxa local, mentre que un router connecta diverses xarxes locals o xarxes WAN (Xarxes drea Ampliada). Els routers utilitzen taula de rutes per determinar la millor ruta per enviar les dades entre xarxes, mentre que els switches utilitzen taula de comutaci贸 per enviar les dades entre equips dins de la mateixa xarxa local.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#caracter铆stiques-dun-sistema",
    "href": "slides/01-foundations-of-systems-administration.html#caracter铆stiques-dun-sistema",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Caracter铆stiques dun sistema",
    "text": "Caracter铆stiques dun sistema\n\nSimplicitat\nEscalabilitat\nSeguretat\nFiabilitat\nDisponibilitat\nRendiment\nFacilitat d煤s\n\n\nEn el disseny de sistemes informtics, 茅s important tenir en compte diverses caracter铆stiques per garantir que el sistema sigui eficient, segur i fiable. Algunes de les caracter铆stiques m茅s importants dun sistema s贸n la simplicitat, lescalabilitat, la seguretat, la fiabilitat, la disponibilitat, el rendiment i la facilitat d煤s. Ara b茅, sovint intentem dotar sistemes amb caracter铆stiques que no es poden afegir despr茅s de la seva construcci贸. Per exemple, intentar aplicar seguretat despr茅s que les interf铆cies del sistema hagin estat definides produeix restriccions i limitacions; intentar fer un sistema amb limitacions intr铆nseques funcionar en circumstncies per les quals no va ser dissenyat produeix hacks i workarounds i el resultat final sovint essembla m茅s una casa de cartes frgil que una estructura s貌lida i fiable.\nPer tant, quan discutim sobre el disseny de sistemes informtics, 茅s important tenir en compte aquestes caracter铆stiques i assegurar-nos que el sistema compleixi els objectius de lempresa i sigui capa莽 de respondre a les necessitats dels usuaris",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-lescalabilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-lescalabilitat",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s lescalabilitat?",
    "text": "Qu猫 茅s lescalabilitat?\n\n\nLescalabilitat 茅s la capacitat dun sistema per gestionar un augment de la crrega de treball sense afectar el rendiment.\n\nVertical: augmentar la capacitat dun servidor afegint m茅s recursos (CPU, mem貌ria, disc).\nHoritzontal: augmentar la capacitat dun sistema afegint m茅s servidors.\n\n\n\n\n\nEscalabilitat\n\n\n\n\n\n\n\n\n\n\n\n\nExemple\n\n\nEl serveis al n煤vol permeten pagar nom茅s pel que sutilitza, permetent augmentar o disminuir la capacitat segons les necessitats. Et permet estirar els recursos tecnol貌gics com un globus daire calent, augmentant la capacitat quan 茅s necessari i reduint-la quan ja no 茅s necessari.\n\n\n\n\n\nEscalabilitat es refereix a la capacitat dun sistema per gestionar un augment en la crrega de treball sense que el seu rendiment es vegi afectat. s un concepte clau en el disseny de sistemes informtics, especialment en entorns amb variacions en la demanda. Aquesta capacitat saconsegueix mitjan莽ant dues estrat猫gies principals:\n\nEscalabilitat Vertical: Consisteix en millorar la capacitat dun servidor afegint m茅s recursos com CPU, mem貌ria o disc. Aix貌 permet que un servidor maneje una crrega de treball m茅s gran sense necessitat daddicional hardware.\nEscalabilitat Horitzontal: Consisteix en augmentar la capacitat del sistema afegint m茅s servidors. Aix貌 distribueix la crrega de treball entre diversos servidors, millorant la capacitat global del sistema.\n\nEn lentorn de cloud computing, aquest concepte es relaciona sovint amb elasticitat, que 茅s la capacitat dun sistema per adaptar-se de manera dinmica a les fluctuacions de la crrega de treball. Per exemple, una botiga en l铆nia podria experimentar un augment significatiu de trnsit durant el Black Friday. Un sistema escalable i elstic podria gestionar aquest augment de demanda sense perdre rendiment, i despr茅s reduir la capacitat quan la demanda torna a nivells normals.\nLobjectiu 茅s garantir que el sistema pugui mantenir un rendiment 貌ptim i evitar problemes com temps despera llargs, errors o caigudes, que podrien afectar negativament lexperi猫ncia de lusuari i els resultats comercials.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-la-fiabilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-la-fiabilitat",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s la fiabilitat?",
    "text": "Qu猫 茅s la fiabilitat?\nLa fiabilitat dun sistema es refereix a la seva capacitat per operar sense interrupcions durant un per铆ode determinat. La fiabilitat es mesura habitualment mitjan莽ant el MTBF (Mean Time Between Failures), que indica el temps mitj que un sistema pot funcionar abans de fallar. Per exemple, si un sistema t茅 un MTBF de 1000 hores, aix貌 vol dir que, de mitjana, es pot esperar que el sistema falli cada 1000 hores d煤s.\n\n\\[ MTBF = \\frac{Temps\\ total\\ de\\ funcionament}{Nombre\\ de\\ fallades} \\]\n\n\nPer millorar la fiabilitat i minimitzar les interrupcions, es poden implementar t猫cniques com la redundncia. Un exemple com煤 茅s l煤s de servidors en configuraci贸 de calent i fred:\n\nServidor en calent: s el servidor principal que est en funcionament i gestionant les operacions actuals.\nServidor en fred: s un servidor de reserva que es mant茅 en espera i es posa en marxa nom茅s quan el servidor en calent falla.\n\n\n\nLa fiabilitat 茅s la capacitat dun sistema per mantenir-se operatiu durant un per铆ode de temps determinat sense fallar. Es mesura en MTBF (Mean Time Between Failures). Per exemple, un sistema amb un MTBF de 1000 hores es pot esperar que falli cada 1000 hores d煤s.\nUna forma devitar fallades 茅s la redundncia, imagineu que tenim un servidor en calent (actual) i un servidor en fred (reserva) que es posa en marxa en cas de fallada del servidor actual. En aquest cas, el sistema 茅s m茅s fiable perqu猫 si falla el servidor actual, el servidor de reserva pot prendre el relleu sense afectar el servei. La contrapartida 茅s que aquesta redundncia implica un cost addicional.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-la-disponibilitat",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-la-disponibilitat",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s la disponibilitat?",
    "text": "Qu猫 茅s la disponibilitat?\nLa disponibilitat dun sistema es refereix a la seva capacitat per estar operatiu i accessible per als usuaris durant un per铆ode de temps determinat.\n\nLa disponibilitat es mesura habitualment mitjan莽ant el MTTR (Mean Time To Repair), que indica el temps mitj que es triga a reparar un sistema despr茅s duna fallada. Per exemple, si un sistema t茅 un MTTR de 2 hores, aix貌 vol dir que, de mitjana, es triga 2 hores a reparar el sistema despr茅s duna fallada.\n\n\n\\[ Disponibilitat = \\frac{Temps\\ de\\ funcionament}{Temps\\ de\\ funcionament + Temps\\ de\\ reparar} \\]\n\n\n\n\n\n\n\n\nExemple\n\n\nAmazon Web Services (AWS) ofereix un SLA (Service Level Agreement) del 99,99%, el que significa que el servei estar disponible el 99,99% del temps. Si el servei no compleix aquest SLA, AWS ha de compensar els clients amb cr猫dits de servei.\n\n\n\n\n\nLa disponibilitat dun sistema es refereix a la seva capacitat per estar operatiu i accessible per als usuaris durant un per铆ode de temps determinat. Es mesura en MTTR (Mean Time To Repair), que indica el temps mitj que es triga a reparar un sistema despr茅s duna fallada. Per exemple, si un sistema t茅 un MTTR de 2 hores, aix貌 vol dir que, de mitjana, es triga 2 hores a reparar el sistema despr茅s duna fallada. No confondre amb fiabilitat, que es refereix a la capacitat dun sistema per operar sense interrupcions durant un per铆ode determinat.\nPer exemple, un sistema pot tenir una alta fiabilitat, per貌 una baixa disponibilitat si el temps de reparaci贸 despr茅s duna fallada 茅s llarg. Daltra banda, un sistema pot tenir una baixa fiabilitat, per貌 una alta disponibilitat si es pot reparar rpidament despr茅s duna fallada. La disponibilitat es mesura en percentatge i es pot garantir mitjan莽ant acords de nivell de servei (SLA) que estipulen el temps de disponibilitat del sistema i les compensacions en cas de fallada.\nUn exemple com煤 dalta disponibilitat 茅s Amazon Web Services (AWS), que ofereix un SLA del 99,99%, el que significa que el servei estar disponible el 99,99% del temps.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#kiss-keep-it-simple-stupid",
    "href": "slides/01-foundations-of-systems-administration.html#kiss-keep-it-simple-stupid",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "KISS: Keep It Simple, Stupid",
    "text": "KISS: Keep It Simple, Stupid\nUn sistema simple 茅s m茅s fcil de mantenir, gestionar i entendre. Per dissenyar un sistema simple, es poden seguir les seg眉ents pautes:\n\nDivideix i vencers: Divideix el sistema en components m茅s petits i senzills\nMinimitza la complexitat: Evita la complexitat innecessria i mant茅n el sistema senzill\nUtilitza estndards: Utilitza estndards i prctiques comunes per simplificar el disseny\nDocumenta el sistema: Documenta el sistema per facilitar la comprensi贸 i el manteniment\nAutomatitza les tasques repetitives: Utilitza la automatitzaci贸 per simplificar les tasques repetitives i reduir els errors humans\n\n\n\n\n\n\n\n\nExemple\n\n\nUn sistema LEGO 茅s un exemple de simplicitat, ja que es pot construir gaireb茅 qualsevol cosa convinant peces senzilles. Aquesta simplicitat permet als usuaris crear i modificar les seves pr貌pies creacions sense necessitat de coneixements t猫cnics avan莽ats.\n\n\n\n\n\nKISS 茅s una directriu de disseny que destaca la importncia de la simplicitat. Aplicant aquest principi, els sistemes resulten ser m茅s robustos i fcils de gestionar, cosa que millora la seva eficcia i la satisfacci贸 de lusuari.\nAlgunes pautes per aplicar el principi KISS en el disseny de sistemes s贸n:\n\nDivideix i vencers: Divideix el sistema en components m茅s petits i senzills, per exemple, en lloc de tenir un gran mon貌lit, divideix el sistema en microserveis.\nMinimitza la complexitat: Evita la complexitat innecessria i mant茅n el sistema senzill, per exemple, evita l煤s de tecnologies i funcionalitats que no s贸n necessries.\nUtilitza estndards: Utilitza estndards i prctiques comunes per simplificar el disseny, per exemple, segueix les prctiques de codificaci贸 i disseny recomanades per la comunitat.\nDocumenta el sistema: Documenta el sistema per facilitar la comprensi贸 i el manteniment, per exemple, crea documentaci贸 clara i concisa per als desenvolupadors i els usuaris.\nAutomatitza les tasques repetitives: Utilitza la automatitzaci贸 per simplificar les tasques repetitives i reduir els errors humans, per exemple, automatitza les tasques de desplegament i proves per millorar lefici猫ncia i la fiabilitat del sistema.\n\nUn exemple de simplicitat 茅s un sistema LEGO, que permet als usuaris construir gaireb茅 qualsevol cosa combinant peces senzilles. Aquesta simplicitat permet als usuaris crear i modificar les seves pr貌pies creacions sense necessitat de coneixements t猫cnics avan莽ats.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#eines-i-tecnologies-m茅s-comuns",
    "href": "slides/01-foundations-of-systems-administration.html#eines-i-tecnologies-m茅s-comuns",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Eines i tecnologies m茅s comuns?",
    "text": "Eines i tecnologies m茅s comuns?\n\nVirtualitzaci贸: Mquines Virtuals, Contenidors\nCloud Computing: Infraestructura com a Servei (IaaS), Plataforma com a Servei (PaaS), Software com a Servei (SaaS)\nAutomatitzaci贸: Ansible, Puppet, Chef\nInfraestructura com a Codi: Terraform, CloudFormation\nMonitoritzaci贸: Nagios, Zabbix, Prometheus\nCI/CD: Jenkins, GitLab CI\nSeguretat: PfSense, Suricata, Snort\nBases de Dades: MySQL, PostgreSQL, MongoDB\nServeis Web: Apache, Nginx, Tomcat\nOrquestaci贸 de Contenidors: Kubernetes, Docker Swarm\n\n\nEn el m贸n de ladministraci贸 de sistemes, hi ha una gran varietat deines i tecnologies que es poden utilitzar per gestionar i mantenir els sistemes informtics. Algunes de les eines i tecnologies m茅s comuns s贸n:\n\nVirtualitzaci贸: La virtualitzaci贸 permet crear mquines virtuals i contenidors per a茂llar i gestionar els recursos del sistema. Aix貌 permet millorar lefici猫ncia i la flexibilitat dels sistemes, ja que es poden crear m煤ltiples entorns virtuals en un sol servidor f铆sic.\nCloud Computing: El cloud computing ofereix serveis informtics a trav茅s dInternet, permetent als usuaris accedir a recursos informtics a la demanda. Aix貌 inclou Infraestructura com a Servei (IaaS), Plataforma com a Servei (PaaS) i Software com a Servei (SaaS).\nAutomatitzaci贸: Lautomatitzaci贸 permet automatitzar tasques repetitives i reduir els errors humans. Algunes eines dautomatitzaci贸 com Ansible, Puppet i Chef permeten gestionar la configuraci贸 dels servidors de manera eficient.\nInfraestructura com a Codi: Linfraestructura com a codi permet gestionar la infraestructura de manera programtica, utilitzant codi per definir i gestionar els recursos del sistema. Eines com Terraform i CloudFormation permeten gestionar la infraestructura com a codi.\nMonitoritzaci贸: La monitoritzaci贸 permet supervisar lestat dels sistemes i identificar problemes abans que afectin el rendiment. Algunes eines de monitoritzaci贸 com Nagios, Zabbix i Prometheus permeten supervisar els sistemes en temps real.\nCI/CD: La integraci贸 cont铆nua (CI) i el desplegament cont铆nu (CD) permeten automatitzar el proc茅s de desenvolupament i desplegament de codi. Eines com Jenkins i GitLab CI permeten implementar prctiques de CI/CD.\nSeguretat: La seguretat dels sistemes 茅s una preocupaci贸 important en ladministraci贸 de sistemes. Algunes eines de seguretat com PfSense, Suricata i Snort permeten protegir els sistemes contra atacs i amenaces.\nBases de Dades: Les bases de dades s贸n essencials per emmagatzemar i gestionar la informaci贸 dels sistemes. Algunes bases de dades com MySQL, PostgreSQL i MongoDB s贸n mpliament utilitzades en ladministraci贸 de sistemes.\nServeis Web: Els serveis web s贸n essencials per proporcionar serveis i aplicacions a trav茅s dInternet. Algunes eines com Apache, Nginx i Tomcat permeten gestionar i desplegar serveis web.\nOrquestaci贸 de Contenidors: Lorquestaci贸 de contenidors permet gestionar i coordinar els contenidors en un entorn de contenidors. Eines com Kubernetes i Docker Swarm permeten gestionar i escalar els contenidors de manera eficient.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#virtualitzaci贸-mquines-virtuals",
    "href": "slides/01-foundations-of-systems-administration.html#virtualitzaci贸-mquines-virtuals",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Virtualitzaci贸 (Mquines Virtuals)",
    "text": "Virtualitzaci贸 (Mquines Virtuals)\n\n\n\n\nEsquema de tipus de virtualitzaci贸 de mquines virtuals\n\n\n\n\nLa virtualitzaci贸 茅s una tecnologia clau que permet aprofitar millor els recursos dun servidor f铆sic, creant m煤ltiples mquines virtuals (VMs) que funcionen com a entitats independents, cadascuna amb el seu propi sistema operatiu i aplicacions. Aquest enfocament permet millorar lefici猫ncia, ja que m煤ltiples mquines virtuals poden compartir un 煤nic servidor f铆sic, maximitzant l煤s dels recursos disponibles i oferint m茅s flexibilitat a lhora de gestionar sistemes. Per exemple, si voleu executar tant Windows com Linux al vostre ordinador per fer proves, podeu crear mquines virtuals per a cada sistema operatiu utilitzant programes com VirtualBox o VMware. Aix貌 us permet treballar amb diferents entorns sense necessitat de tenir diversos ordinadors f铆sics. A nivell de servidors, aquesta mateixa idea es porta a gran escala: un sol servidor f铆sic pot tenir m煤ltiples mquines virtuals a茂llades, cada una amb la seva funci贸 espec铆fica. Aix貌 permet consolidar serveis i maximitzar l煤s de recursos. Per exemple, en una empresa, un sol servidor f铆sic podria allotjar VMs per a bases de dades, aplicacions web, i sistemes de correu, cadascun funcionant de manera independent.\n\nVirtualitzaci贸 Nativa: Tamb茅 coneguda com a bare-metal, en aquest tipus, lhipervisor sexecuta directament sobre el maquinari f铆sic sense cap sistema operatiu intermedi. Exemples daquesta tecnologia inclouen VMware ESXi o Microsoft Hyper-V. Aix貌 ofereix un rendiment molt elevat, ja que no hi ha cap capa addicional entre el maquinari i lhipervisor, ideal per a entorns de producci贸.\nVirtualitzaci贸 Allotjada: Aqu铆, lhipervisor sexecuta sobre un sistema operatiu ja existent. Per exemple, en KVM (Kernel-based Virtual Machine), sutilitza Linux com a sistema operatiu base, i sobre aquest es creen les mquines virtuals. Aquest enfocament 茅s m茅s fcil dimplementar per貌 pot sacrificar una mica de rendiment en comparaci贸 amb la virtualitzaci贸 nativa.\nParavirtualitzaci贸: En aquest model, el sistema operatiu convidat sap que est sent virtualitzat i coopera amb lhipervisor per millorar el rendiment. Un exemple destacat 茅s Xen, que 茅s molt utilitzat en entorns cloud per la seva efici猫ncia. Aquest tipus de virtualitzaci贸 pot oferir un rendiment proper al de la virtualitzaci贸 nativa, per貌 amb m茅s flexibilitat.\nVirtualitzaci贸 Assistida per Hardware: Aquest model aprofita les capacitats del processador per accelerar el proc茅s de virtualitzaci贸. Processadors moderns com els dIntel (VT-x) o AMD (AMD-V) ofereixen suport per a aquest tipus de virtualitzaci贸, que 茅s utilitzat per tecnologies com VMware o Hyper-V.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#ansible",
    "href": "slides/01-foundations-of-systems-administration.html#ansible",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Ansible",
    "text": "Ansible\nAnsible 茅s una eina dautomatitzaci贸 de la configuraci贸 i gesti贸 de sistemes. Utilitza un llenguatge senzill basat en YAML per definir les tasques i la configuraci贸 dels sistemes, i utilitza SSH per connectar-se als servidors i executar les tasques.\n\n\n- hosts: webservers\n  tasks:\n    - name: Install Apache\n      apt:\n        name: apache2\n        state: present\n    - name: Start Apache\n      service:\n        name: apache2\n        state: started\n\nhosts:\n  webservers:\n    - web1.example.com\n    - web2.example.com\n    - web3.example.com\n\n\nAnsible 茅s una eina dautomatitzaci贸 que ens permet gestionar la configuraci贸 dels servidors de manera eficient i fiable. Per exemple, si necessitem instal路lar un servidor web a 10.000 servidors, en lloc de fer-ho manualment en cada servidor, podem utilitzar Ansible per automatitzar aquesta tasca. Amb aquest script indiquem les tasques ha realitzar instal路lar apache i aixecar el servei. I en el fitxer de hosts indiquem els servidors on volem realitzar aquestes tasques.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-el-cloud-computing",
    "href": "slides/01-foundations-of-systems-administration.html#qu猫-茅s-el-cloud-computing",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Qu猫 茅s el Cloud Computing?",
    "text": "Qu猫 茅s el Cloud Computing?\nLliurament de recursos sota demanda, incloent servidors, emmagatzematge, bases de dades, programari, anal铆tica, i m茅s, a trav茅s dinternet amb un model de pagament per 煤s.\n\n\n\n\nPizza as a service\n\n\n\n\nEl cloud computing es refereix al lliurament sota demanda de serveis informtics, incloent servidors, emmagatzematge, bases de dades, programari, anal铆tica, i molt m茅s, a trav茅s dinternet amb un model de pagament per 煤s.\nAquests recursos sexecuten en servidors ubicats en grans centres de dades arreu del m贸n. Els usuaris poden accedir-hi de manera remota des de qualsevol lloc amb connexi贸 a internet. En lloc de posseir i mantenir la seva pr貌pia infraestructura, els usuaris i empreses poden llogar serveis des daplicacions fins a emmagatzematge dun prove茂dor de serveis al n煤vol. Els recursos es poden combinar com peces de LEGO per crear solucions a mida de les necessitats.\nAquest model ha perm猫s levoluci贸 de ladministraci贸 de sistemes a un nivell superior, permetent als usuaris centrar-se en el desenvolupament daplicacions i serveis sense haver de preocupar-se de la infraestructura subjacents.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#amazon-web-services",
    "href": "slides/01-foundations-of-systems-administration.html#amazon-web-services",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Amazon Web Services",
    "text": "Amazon Web Services\n\n\n\n\nAmazon Web Services (AWS) 茅s un prove茂dor de serveis de computaci贸 en n煤vol que ofereix una mplia gamma de serveis, incloent servidors virtuals, emmagatzematge, bases de dades, anal铆tica, seguretat, i molt m茅s. AWS permet als usuaris i empreses llogar recursos informtics a trav茅s dinternet, oferint una plataforma flexible i escalable per a la implementaci贸 daplicacions en n煤vol. Altres prove茂dors de serveis en n煤vol inclouen Microsoft Azure, Google Cloud Platform, IBM Cloud, i Oracle Cloud, per貌 en aquest curs utilitzarem AWS per raons de popularitat i disponibilitat de recursos.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#cloudformation",
    "href": "slides/01-foundations-of-systems-administration.html#cloudformation",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "CloudFormation",
    "text": "CloudFormation\nCloudFormation 茅s un servei dAWS que permet als desenvolupadors definir i desplegar la infraestructura de manera programtica mitjan莽ant codi.\nResources:\n  MyInstance:\n    Type: AWS::EC2::Instance\n    Properties:\n      ImageId: ami-0c55b159cbfafe1f0\n      InstanceType: t2.micro\n      KeyName: my-key-pair\n      SecurityGroups:\n        - my-security-group\n\nAWS CloudFormation 茅s un servei que permet als desenvolupadors definir i desplegar la infraestructura de manera programtica mitjan莽ant codi. Aquest codi es defineix en plantilles de CloudFormation, que descriuen els recursos necessaris per a la infraestructura, com ara instncies EC2, grups de seguretat, taules de rutes, , En aquest exemple, es defineix una instncia EC2 amb una imatge AMI, un tipus dinstncia, una clau SSH, i un grup de seguretat. Un cop es defineix la plantilla, es pot desplegar la infraestructura amb un sol clic o una sola comanda, automatitzant aix铆 el proc茅s de desplegament i garantint la consist猫ncia de la infraestructura.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#virtualitzaci贸-contenidors",
    "href": "slides/01-foundations-of-systems-administration.html#virtualitzaci贸-contenidors",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Virtualitzaci贸 (Contenidors)",
    "text": "Virtualitzaci贸 (Contenidors)\n\n\n\n\nEsquema de tipus de virtualitzaci贸 de contenidors (Docker)\n\n\n\n\nLa virtualitzaci贸 de contenidors 茅s una tecnologia que permet als desenvolupadors empaquetar aplicacions i les seves depend猫ncies en un contenidor lleuger i porttil que pot ser executat en qualsevol sistema que tingui un motor de contenidors. Aquest enfocament permet als desenvolupadors crear, distribuir i executar aplicacions de manera eficient i fiable, ja que els contenidors s贸n autosuficients i a茂llats de lentorn dexecuci贸. A m茅s, els contenidors s贸n lleugers i porttils, el que facilita la seva distribuci贸 i execuci贸 en entorns diversos.\nPer exemple, Docker o containerd s贸n motors de contenidors que permeten als desenvolupadors crear i executar contenidors lleugers i porttils. Aquests contenidors poden contenir aplicacions, serveis o microserveis, i es poden executar en qualsevol sistema que tingui un motor de contenidors instal路lat. Aix貌 permet als desenvolupadors crear, distribuir i executar aplicacions de manera eficient i fiable, ja que els contenidors s贸n autosuficients i a茂llats de lentorn dexecuci贸.\nLa principal difer猫ncia entre la virtualitzaci贸 de mquines virtuals i la virtualitzaci贸 de contenidors 茅s el nivell dabstracci贸. Mentre que les mquines virtuals virtualitzen tota una mquina f铆sica, incloent el sistema operatiu, els contenidors virtualitzen nom茅s laplicaci贸 i les seves depend猫ncies, compartint el mateix nucli del sistema operatiu hoste. Aix貌 fa que els contenidors siguin m茅s lleugers i porttils que les mquines virtuals, i permet als desenvolupadors crear i executar aplicacions de manera m茅s eficient i fiable.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#kubernetes",
    "href": "slides/01-foundations-of-systems-administration.html#kubernetes",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Kubernetes",
    "text": "Kubernetes\n\n\n\n\nKubernetes\n\n\n\n\nKubernetes 茅s una plataforma de codi obert per a la gesti贸 daplicacions en contenidors. Permet als desenvolupadors automatitzar el desplegament, lescalat i la gesti贸 daplicacions en contenidors, oferint una plataforma flexible i escalable per a la implementaci贸 daplicacions en entorns de producci贸. Es basa en una arquitectura de mster i nodes, on el mster 茅s responsable de la gesti贸 i control del cl煤ster, mentre que els nodes s贸n els servidors on sexecuten les aplicacions en contenidors. Requereix de diferents xarxes (com xarxa de control, xarxa de pod, xarxa de servei) per a la comunicaci贸 entre els components del cl煤ster, a m茅s necessita serveis de descobriment de serveis (com etcd) per a la gesti贸 de la configuraci贸 i lestat del cl煤ster, controladors de xarxa (com Flannel) per a la comunicaci贸 entre els nodes, i controladors de volums (com Rook) per a la gesti贸 de lemmagatzematge persistent, un planificador (com kube-scheduler) per a la programaci贸 de les tasques, i un controlador de replicaci贸 (com kube-controller-manager) per a la gesti贸 de la replicaci贸 de les aplicacions i sobretot el kubelet, que 茅s lagent que sexecuta en cada node i 茅s responsable de la gesti贸 dels contenidors en el node. Com veieu, Kubernetes 茅s una plataforma complexa que requereix una configuraci贸 i gesti贸 adequades per a garantir el seu funcionament correcte.",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "slides/01-foundations-of-systems-administration.html#thats-all",
    "href": "slides/01-foundations-of-systems-administration.html#thats-all",
    "title": "Fonaments de lAdministraci贸 de Sistemes",
    "section": "Thats all",
    "text": "Thats all\n\n\n\n\n\n\n\n\n\nTake Home Message\n\n\nUn administrador de sistemes combina habilitats de bomber i investigador: ha de solucionar problemes de manera rpida i efectiva, per貌 tamb茅 anticipar-se i prevenir-ne de futurs abans que esdevinguin cr铆tics. Aquesta tasca 茅s complexa i diversa, abastant des de la gesti贸 de cables i servidors f铆sics fins a ladministraci贸 de pods i sistemes automtics sense servidor (serverless).",
    "crumbs": [
      "Diapositives",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html",
    "title": "Configuraci贸 dentorn de virtualitzaci贸",
    "section": "",
    "text": "Aquest exercici t茅 com a objectiu recordar i consolidar les habilitats en la configuraci贸 dentorns de virtualitzaci贸 utilitzant mquines virtuals (MV). Durant el curs, la creaci贸 i destrucci贸 de MV ser una tasca recurrent, per la qual cosa 茅s fonamental tenir una base s貌lida. Preparant una plantilla preinstal路lada, podreu estalviar temps significatiu evitant la reinstal路laci贸 completa del sistema operatiu cada cop que necessiteu un nou entorn de treball.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 1 路 Configuraci贸 d'entorn de virtualitzaci贸"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#requeriments-previs",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#requeriments-previs",
    "title": "Configuraci贸 dentorn de virtualitzaci贸",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nDisposar dun hipervisor de virtualitzaci贸 instal路lat a la vostra mquina hoste. Es recomana utilitzar VMware Workstation Pro o VMware Fusion. Podeu reutilitzar la instal路laci贸 que ja vau fer a lassignatura de Sistemes Operatius.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 1 路 Configuraci贸 d'entorn de virtualitzaci贸"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#objectius",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#objectius",
    "title": "Configuraci贸 dentorn de virtualitzaci贸",
    "section": "Objectius",
    "text": "Objectius\n\nCrear i configurar mquines virtuals amb distribucions Linux.\nUtilitzar snapshots per gestionar lestat de les MV.\nConfigurar i establir una connexi贸 remota segura a les MV utilitzant SSH.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 1 路 Configuraci贸 d'entorn de virtualitzaci贸"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#tasques",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#tasques",
    "title": "Configuraci贸 dentorn de virtualitzaci贸",
    "section": "Tasques",
    "text": "Tasques\n\nCreaci贸 de mquines virtuals\nCreareu dues mquines virtuals amb les distribucions Linux que farem servir durant el curs. Assegureu-vos de descarregar les imatges ISO correctament:\n\nAlmaLinux: Una distribuci贸 de GNU/Linux basada en Red Hat Enterprise Linux (RHEL).Descarregueu la versi贸 9.6.\nDebian: Una distribuci贸 popular coneguda per la seva estabilitat. Descarregueu la versi贸 12.5.0.\n\nEn la configuraci贸 no necessitareu finestres grfiques, i de moment podeu utilitzar una configuraci贸 de disc i particions estndard. M茅s endavant, durant el curs, anirem ajustant la configuraci贸 segons les necessitats espec铆fiques de cada prctica.\n\n\nCreaci贸 de snapshots\nUn cop instal路lades les dues mquines virtuals, creeu una snapshot de cadascuna. Una snapshot 茅s una instantnia de lestat actual de la mquina virtual, incloent-hi la seva mem貌ria, configuraci贸 i lestat dels seus discos virtuals. Aquesta eina us permetr tornar rpidament a un estat inicial net en qualsevol moment, evitant haver de reinstal路lar el sistema si alguna configuraci贸 falla.\n\n\nConfiguraci贸 dacc茅s remot amb SSH\nPer facilitar la connexi贸 i gesti贸 de les mquines virtuals, configurarem lacc茅s remot mitjan莽ant SSH (Secure Shell). Aix貌 us permetr connectar-vos a les MV des de la vostra mquina hoste utilitzant una terminal o PowerShell amb suport SSH (Linux o MacOS).\nssh user@vm_ip_address\n\n\ns de la snapshot\nUn cop hgiu completat la configuraci贸 inicial i les proves amb les mquines virtuals, practiqueu l煤s de les snapshots:\n\nInstal路leu algun programari a la MV amb debian com les eines de desenvolupament (gcc, make, etc).\n\n# Recordeu instal路lar com a root\napt install build-essential\n\nComproveu que el programari est instal路lat correctament.\n\ngcc --version\n\nDespr茅s, torneu a la snapshot creada anteriorment per veure que el programari ja no est instal路lat.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 1 路 Configuraci贸 d'entorn de virtualitzaci贸"
    ]
  },
  {
    "objectID": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#activitat-proposada",
    "href": "exercises/01-foundations-of-systems-administration/01-ex-week1.html#activitat-proposada",
    "title": "Configuraci贸 dentorn de virtualitzaci贸",
    "section": "Activitat proposada",
    "text": "Activitat proposada\n\nEscriu un script senzill que et permeti obrir la MV i connectar-te via SSH amb un sol comandament. Aquest script hauria de:\n\nIniciar la mquina virtual si no est en funcionament.\nEsperar fins que la MV estigui completament engegada.\nConnectar-se a la MV mitjan莽ant SSH.",
    "crumbs": [
      "Activitats",
      "Unitat 01 路 Fonaments de l'Administraci贸 de Sistemes",
      "Activitat 1 路 Configuraci贸 d'entorn de virtualitzaci贸"
    ]
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html",
    "href": "exercises/03-fs/09-ex-week6.html",
    "title": "Administrant RAIDs",
    "section": "",
    "text": "Dos discs durs virtuals de 20 GB cadascun per la configuraci贸 del RAID1.\nImatge iso basada en Alma Linux.\nUn software de virtualitzaci贸 com VirtualBox, VMware, UTM o QEMU.\n\n\n\n\nConfigurar un RAID1 per la partici贸 root (/) durant la instal路laci贸 dAlma Linux.\n\n\n\n\nInicieu la instal路laci贸 dAlma Linux fins a la pantalla de selecci贸 de discs.\n\nSeleccioneu els dos discs virtuals i trieu lopci贸 Personalitzat.\n\nFeu clic a Fet.\n\nApareixer la finestra de particions manuals:\n\nLes particions creades seran:\n\n/boot/efi  600 MB\n\n/boot  1 GB\n\nswap  2 GB\n\n/  16,4 GB\n\nPer configurar el RAID1, seleccioneu la partici贸 / i feu clic a Editar.\n\n\nTrieu RAID1 com a tipus de dispositiu.\n\nFeu clic a Fet  Acceptar canvis.\n\n\n\n\n\n\n\nUn cop finalitzada la instal路laci贸, el sistema es reiniciar.\n\nSi tot 茅s correcte, Alma Linux arrencar sense problemes.\n\nObserveu que tenim dues particions / (una per disc).\n\n\n\n\n\n\n\nAlertaQu猫 passa si el disc vda falla?\n\n\n\nEn cas de fallada del disc vda, el sistema no arrencar perqu猫 la partici贸 /boot no est replicada en RAID. Tenim replicada nom茅s la partici贸 /. Per tant, si el disc vda falla, el sistema no podr accedir a la partici贸 /boot i no podr arrencar.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 9 路 Configuraci贸 de RAIDs amb mdadm"
    ]
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#installaci贸-dun-raid1-a-alma-linux",
    "href": "exercises/03-fs/09-ex-week6.html#installaci贸-dun-raid1-a-alma-linux",
    "title": "Administrant RAIDs",
    "section": "",
    "text": "Dos discs durs virtuals de 20 GB cadascun per la configuraci贸 del RAID1.\nImatge iso basada en Alma Linux.\nUn software de virtualitzaci贸 com VirtualBox, VMware, UTM o QEMU.\n\n\n\n\nConfigurar un RAID1 per la partici贸 root (/) durant la instal路laci贸 dAlma Linux.\n\n\n\n\nInicieu la instal路laci贸 dAlma Linux fins a la pantalla de selecci贸 de discs.\n\nSeleccioneu els dos discs virtuals i trieu lopci贸 Personalitzat.\n\nFeu clic a Fet.\n\nApareixer la finestra de particions manuals:\n\nLes particions creades seran:\n\n/boot/efi  600 MB\n\n/boot  1 GB\n\nswap  2 GB\n\n/  16,4 GB\n\nPer configurar el RAID1, seleccioneu la partici贸 / i feu clic a Editar.\n\n\nTrieu RAID1 com a tipus de dispositiu.\n\nFeu clic a Fet  Acceptar canvis.\n\n\n\n\n\n\n\nUn cop finalitzada la instal路laci贸, el sistema es reiniciar.\n\nSi tot 茅s correcte, Alma Linux arrencar sense problemes.\n\nObserveu que tenim dues particions / (una per disc).\n\n\n\n\n\n\n\nAlertaQu猫 passa si el disc vda falla?\n\n\n\nEn cas de fallada del disc vda, el sistema no arrencar perqu猫 la partici贸 /boot no est replicada en RAID. Tenim replicada nom茅s la partici贸 /. Per tant, si el disc vda falla, el sistema no podr accedir a la partici贸 /boot i no podr arrencar.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 9 路 Configuraci贸 de RAIDs amb mdadm"
    ]
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#migraci贸-de-la-carpeta-home-a-un-raid5",
    "href": "exercises/03-fs/09-ex-week6.html#migraci贸-de-la-carpeta-home-a-un-raid5",
    "title": "Administrant RAIDs",
    "section": "Migraci贸 de la carpeta /home a un RAID5",
    "text": "Migraci贸 de la carpeta /home a un RAID5\n\nО Requisits\nEn la mquina virtual anterior, podem afegir quatre discs durs virtuals de 1 GB cadascun (vdc, vdd, vde, vdf).\n\n\n Objectiu\nMigrar el contingut de la carpeta /home a un dispositiu RAID5 format per quatre discs virtuals.\n\n\n Procediment\n\nCreem el RAID5 amb la comanda seg眉ent:\nmdadm --create --verbose /dev/md0 --level=5 --raid-devices=4 /dev/vd[c-f]\nComprovem que el RAID sha creat correctament amb la comanda:\ncat /proc/mdstat\nCreem un sistema de fitxers XFS en el dispositiu RAID5:\nmkfs.xfs /dev/md0\nMuntarem el dispositiu RAID5 en un directori temporal:\nmkdir /mnt/raid\nmount /dev/md0 /mnt/raid\nCopiem el contingut de la carpeta /home al dispositiu RAID5:\ncp -r /home/* /mnt/raid\nDesmuntem el dispositiu RAID5 del directori temporal:\numount /mnt/raid\nMuntarem el dispositiu RAID5 en la carpeta /home:\nmount /dev/md0 /home\nObtenim el UUID del dispositiu RAID5 amb la comanda:\nblkid /dev/md0\nFem una c貌pia de seguretat del fitxer /etc/fstab:\n```bash\nPer fer que el muntatge sigui permanent, afegim la seg眉ent l铆nia al fitxer /etc/fstab:\nUUID=&lt;UUID&gt;  /home  xfs  defaults  0 0\n\n\n\n Resultat final\n\nEl contingut de la carpeta /home sha migrat correctament al dispositiu RAID5.\n\nEl sistema utilitza ara el RAID5 per emmagatzemar les dades dels usuaris",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 9 路 Configuraci贸 de RAIDs amb mdadm"
    ]
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#simulaci贸-de-fallades-en-el-raid5",
    "href": "exercises/03-fs/09-ex-week6.html#simulaci贸-de-fallades-en-el-raid5",
    "title": "Administrant RAIDs",
    "section": "Simulaci贸 de fallades en el RAID5",
    "text": "Simulaci贸 de fallades en el RAID5\nAra simularem una fallada en un dels discs durs virtuals del RAID5. I observarem com el sistema continua funcionant sense problemes.\n\nCrearem un usuari de prova i un fitxer de text a la seva carpeta /home:\nuseradd test\necho \"Hola m贸n\" &gt; /home/test/hola.txt\nchown -R test:test /home/test\nSimulem la fallada dun disc dur virtual del RAID5:\nmdadm --manage /dev/md127 --fail /dev/vdc\nComprovem que podem accedir al fitxer de text creat anteriorment:\ncat /home/test/hola.txt\nAra intentarem simular la fallada dun segon disc dur virtual del RAID5:\nmdadm --manage /dev/md127 --fail /dev/vdd\nComprovem que el sistema ens avisa que no es pot fallar un segon disc perqu猫 el RAID5 nom茅s tolera la fallada dun disc:\nmdadm: Cannot remove /dev/vdd from /dev/md0,\n       array will be failed.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 9 路 Configuraci贸 de RAIDs amb mdadm"
    ]
  },
  {
    "objectID": "exercises/03-fs/09-ex-week6.html#exercicis",
    "href": "exercises/03-fs/09-ex-week6.html#exercicis",
    "title": "Administrant RAIDs",
    "section": "Exercicis",
    "text": "Exercicis\nEs demana instal路lar un sistema AlmaLinux de forma tradicional sense RAID en un disc virtual de 20GB (vda), creant les quatre particions habituals: /boot/efi, /boot, swap i /.\nUn cop finalitzada la instal路laci贸:\n\nAfegiu dos discs durs virtuals addicionals de 20GB cadascun (vdb i vdc).\nMigrar les particions existents a RAID1 de la seg眉ent manera:\n\n/boot/efi  RAID1 amb vdb1 i vdc1.\n/boot  RAID1 amb vdb2 i vdc2.\nswap  RAID1 amb vdb3 i vdc3.\n/  RAID1 amb vdb4 i vdc4.\n\nConfigureu el sistema perqu猫 arranqui correctament des dels discs vdb i vdc.\nUn cop comprovat el correcte funcionament, elimineu el disc original vda.\nVerificar que el sistema arranca correctament despr茅s de la migraci贸.\nConfirmar que totes les particions es troben en RAID1.\nDocumentar tot el proc茅s amb captures de pantalla, explicacions detallades i justificacions t猫cniques en un informe final.",
    "crumbs": [
      "Activitats",
      "Unitat 03 路 Sistemes de fitxers",
      "Activitat 9 路 Configuraci贸 de RAIDs amb mdadm"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html",
    "href": "exercises/04-accounts/01-lord-of-system.html",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "",
    "text": "Aprendre a gestionar comptes en servidors UNIX/Linux.\nFamiliaritzar-se amb els mecanismes de protecci贸 i control dusuaris.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#objectius",
    "href": "exercises/04-accounts/01-lord-of-system.html#objectius",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "",
    "text": "Aprendre a gestionar comptes en servidors UNIX/Linux.\nFamiliaritzar-se amb els mecanismes de protecci贸 i control dusuaris.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#requisits",
    "href": "exercises/04-accounts/01-lord-of-system.html#requisits",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Requisits",
    "text": "Requisits\nEn aquesta prctica, es demana que es cre茂n comptes dusuari en un sistema Linux. Aquests comptes hauran de ser creats amb diferents permisos i restriccions, i shauran de configurar els grups i els permisos de fitxers i directoris per a cada usuari. Per tant, reviseu les comandes i els conceptes seg眉ents abans de comen莽ar:\n\nuseradd: Aquesta comanda sutilitza per crear nous usuaris en un sistema Linux. Cada usuari t茅 un identificador 煤nic (UID) i pot ser assignat a un o m茅s grups. Aquesta comanda tamb茅 pot crear els directoris inicials (home directories) pels usuaris.\ngroupadd: Aquesta comanda sutilitza per crear nous grups en un sistema Linux. Els grups s贸n una manera de gestionar col路leccions dusuaris, permetent una administraci贸 efica莽 de permisos i acc茅s als recursos del sistema. Els grups ajuden a organitzar i controlar els usuaris amb un mateix conjunt de permisos.\nusermod: Aquesta comanda sutilitza per modificar els atributs dun usuari en un sistema Linux. Aquests atributs poden incloure el nom de lusuari, el directori home, el grup principal, el shell, el UID, el GID, etc.\npasswd: Aquesta comanda sutilitza per canviar la contrasenya dun usuari en un sistema Linux. Aquesta comanda permet als usuaris canviar la seva pr貌pia contrasenya o als administradors canviar la contrasenya daltres usuaris.\nchown: Aquesta comanda sutilitza per canviar el propietari i el grup dun fitxer o directori en un sistema Linux. Aquesta comanda permet als usuaris canviar el propietari i el grup dun fitxer o directori, sempre que tinguin els permisos necessaris.\nchmod: Aquesta comanda sutilitza per canviar els permisos dun fitxer o directori en un sistema Linux. Aquesta comanda permet als usuaris canviar els permisos dun fitxer o directori, especificant els permisos per a propietaris, grups i altres usuaris.\nsetfacl/getfacl: Aquestes comandes sutilitzen per establir i obtenir llistes de control dacc茅s (ACL) en un sistema Linux. Les ACL s贸n una manera de controlar lacc茅s als fitxers i directoris, permetent als usuaris especificar permisos m茅s detallats que els permisos tradicionals de propietari, grup i altres usuaris.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#preparant-el-servidor",
    "href": "exercises/04-accounts/01-lord-of-system.html#preparant-el-servidor",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Preparant el servidor",
    "text": "Preparant el servidor\nInstancieu un servidor RedHat a la plataforma AWS. Aquest servidor ser el vostre Middlearth.\n\nActualitzar totes les llibreries amb sudo dnf update -y.\nInstal路lar un editor de text (vim o nano) amb sudo dnf install vim -y.\nInstal路lar la shell tcsh amb sudo dnf install tcsh -y.\nActualitzar el nom de lamfitri贸 amb: sudo hostnamectl set-hostname middlearth.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#mostrant-informaci贸-de-benvinguda",
    "href": "exercises/04-accounts/01-lord-of-system.html#mostrant-informaci贸-de-benvinguda",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Mostrant informaci贸 de benvinguda",
    "text": "Mostrant informaci贸 de benvinguda\nEl fitxer /etc/motd 茅s larxiu on es guarda un missatge de benvinguda; normalment 茅s un arxiu de text senzill que es mostra als usuaris quan inicien sessi贸. Pot contenir informaci贸 com la benvinguda al sistema, informaci贸 dactualitat, pol铆tiques de lempresa, enlla莽os a recursos importants o qualsevol altra cosa que es consideri 煤til per als usuaris en el moment diniciar sessi贸.\nCopieu el text seg眉ent al fitxer /etc/motd:\n#                Bienvenido a la tierra media!                  #\n#                            *  *  *                            #\n#                         *  *  *  *  *                         #\n#                      *  *  *  *  *  *  *                      #\n#                      *  *  *  *  *  *  *                      #\n#                      *  *  *  *  *  *  *                      #\n#                         *  *  *  *  *                         #\n#                            *  *  *                            #\n# El hogar est谩 atr谩s, el mundo por delante, y ha               #\n# y muchos caminos que recorrer a trav茅s de la                  #\n# sombras hasta el borde de la noche, hasta que                 #\n# las estrellas est茅n encendidas                                #\n#################################################################\n sudo vim /etc/motd \n# Afegiu la informaci贸 a l'arxiu.\n exit\nTornem a iniciar sessi贸 SSH. Per veure el nostre banner, despr茅s de fer login.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#mostrant-informaci贸-connexions-remotes",
    "href": "exercises/04-accounts/01-lord-of-system.html#mostrant-informaci贸-connexions-remotes",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Mostrant informaci贸: Connexions remotes",
    "text": "Mostrant informaci贸: Connexions remotes\nLarxiu /etc/issue.net 茅s similar al missatge del dia (/etc/motd), per貌 aquest sutilitza per mostrar un missatge als usuaris abans que aquests sautentiquin en un servidor mitjan莽ant protocols com SSH. Aquest missatge normalment cont茅 informaci贸 bsica o una benvinguda als usuaris quan intenten connectar-se al servidor.\nPer activar-ho:\n\nCopieu el contingut del fitxer /etc/issue.net a /etc/issue.net.default. Daquesta manera sempre mantindrem una c貌pia del fitxer original sense editar.\nCopieu el seg眉ent text al fitxer /etc/issue.net:\n\n#################################################################\n#                   _    _           _   _                      #\n#                  / \\  | | ___ _ __| |_| |                     #\n#                 / _ \\ | |/ _ \\ '__| __| |                     #\n#                / ___ \\| |  __/ |  | |_|_|                     #\n#               /_/   \\_\\_|\\___|_|   \\__(_)                     #\n#                                                               #\n#               You are entering into Mordor!                   #\n#   Username has been noted and has been sent to the server     #\n#                       administrator!                          #\n#################################################################\nFinalment, tornem a iniciar sessi贸 SSH. Per veure el nostre banner.\n sudo cp /etc/issue.net /etc/issue.net.default\nsudo vim /etc/issue.net\n# Copieu el text\n# Guardar i sortir\nPer podeu veure el banner, sha deditar la configuraci贸 del servei SSH:\nsudo vim /etc/ssh/sshd_config\n# Descomentar \nBanner /etc/issue.net\n# Guardar i sortir\nsudo systemctl restart sshd\nexit",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#creaci贸-de-grups",
    "href": "exercises/04-accounts/01-lord-of-system.html#creaci贸-de-grups",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Creaci贸 de grups",
    "text": "Creaci贸 de grups\nLa comanda groupadd sutilitza per crear nous grups en un sistema Linux. Els grups s贸n una manera de gestionar col路leccions dusuaris, permetent una administraci贸 efica莽 de permisos i acc茅s als recursos del sistema. Els grups ajuden a organitzar i controlar els usuaris amb un mateix conjunt de permisos.\ngroupadd [opcions] nom_del_grup\n\nCrea 4 grups amb els seg眉ents GIDs\n\n\n\nnom\nGID\n\n\n\n\nhobbits\n6000\n\n\nelfs\n7000\n\n\nnans\n8000\n\n\nmags\n9000\n\n\n\n\nUtilitza la comanda groupadd per crear els grups amb els GIDs especificats.\nPrepara un script bash que cre茂 els grups automticament.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#creant-els-usuaris",
    "href": "exercises/04-accounts/01-lord-of-system.html#creant-els-usuaris",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Creant els usuaris",
    "text": "Creant els usuaris\nLa comanda useradd sutilitza per crear nous usuaris en un sistema Linux. Cada usuari t茅 un identificador 煤nic (UID) i pot ser assignat a un o m茅s grups. Aquesta comanda tamb茅 pot crear els directoris inicials (home directories) pels usuaris.\n\nCrea els seg眉ents comptes\n\n\n\nusuari\nUID\nGID\nnom\n\n\n\n\nfrodo\n6001\n6000\nFrodo\n\n\ngollum\n6002\n6000\nSmeagol\n\n\nsamwise\n6003\n6000\nSamwise\n\n\nlegolas\n7001\n7000\nLegolas\n\n\ngimli\n8001\n8000\nGimli\n\n\ngandalf\n9001\n9000\nGandalf\n\n\n\n\nUtilitza la comanda useradd per crear els usuaris amb els UIDs i GIDs especificats.\nPrepara un script bash que cre茂 els usuaris automticament.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#protegint-els-comptes",
    "href": "exercises/04-accounts/01-lord-of-system.html#protegint-els-comptes",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Protegint els comptes",
    "text": "Protegint els comptes\nSha de requerir contrasenyes robustes per als comptes dusuari. De manera predeterminada, tots els comptes dusuari tenen assignada la contrasenya Tolkien2LOR. Un cop lusuari es connecti per primera vegada, haur de canviar la contrasenya. A m茅s, sha de configurar el sistema perqu猫 bloquegi els comptes dusuari despr茅s de 3 intents fallits.\n\nAssigna la contrasenya Tolkien2LOR a tots els usuaris.\nConfigura el sistema per bloquejar els comptes dusuari despr茅s de 3 intents fallits durant 120 segons. Daquesta manera, prevenim els atacs de for莽a bruta i protegim els comptes dusuari. Per fer-ho, podem utilitzar faillock en versions m茅s recents de RHEL. En versions anteriors, es podia utilitzar pam_tally2.\nConfigura pol铆tiques de contrasenyes m茅s fortes, heu de requerir que les contrasenyes tinguin almenys 12 carcters, incloguin maj煤scules, min煤scules, n煤meros i carcters especials.\nRequereix el canvi de contrasenya en el primer inici de sessi贸.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#acc茅s-a-la-comarca-ssh",
    "href": "exercises/04-accounts/01-lord-of-system.html#acc茅s-a-la-comarca-ssh",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Acc茅s a la comarca (SSH)",
    "text": "Acc茅s a la comarca (SSH)\nConfigura el servidor SSH per permetre lacc茅s als usuaris Frodo, Samwise, Legolas i Gimli utilitzant contrasenya. Lusuari Gandalf ha de poder accedir al sistema utilitzant una clau SSH. No sha de permetre lacc茅s a lusuari Gollum o a lusuari root.\n\nConfigura el servidor SSH per permetre lacc茅s als usuaris Frodo, Samwise, Legolas i Gimli utilitzant contrasenya. Per fer-ho, edita el fitxer de configuraci贸 del servei SSH /etc/ssh/sshd_config i les seves opcions.\n\nNota: La instancia EC2 de RedHat utilitza el fitxer de configuraci贸 /etc/ssh/sshd_config/50-cloud-init.conf per configurar el servei SSH. Aquest fitxer sinclou en el fitxer de configuraci贸 principal /etc/ssh/sshd_config.\n\nGenera un parell de claus SSH per a lusuari Gandalf i afegeix la clau p煤blica al fitxer ~/.ssh/authorized_keys de lusuari Gandalf, guarda la seva clau p煤blica i privada a /home/gandalf/.ssh/. Assegurat que els permisos del directori .ssh i del fitxer authorized_keys siguin correctes. Permet lacc茅s SSH sense contrasenya per a lusuari Gandalf utilitzant la clau SSH.\nBloqueja lacc茅s a lusuari Gollum.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#gandalf-el-mag",
    "href": "exercises/04-accounts/01-lord-of-system.html#gandalf-el-mag",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Gandalf, el mag",
    "text": "Gandalf, el mag\n\nDescriu quins passos heu seguit per permetre que lusuari Gandalf tingui permisos de root. Assuemix que existeix al sistema un grup anomenat wheel que t茅 permisos de root.\nEn les instancies EC2 dAmazon Linux, el grup wheel no est habilitat per defecte. Cerca a EC2 el fitxer on es defineixen els usuaris amb permisos de sudo, com lusuari ec2-user.\nUtilitza leina visudo per editar el fitxer /etc/sudoers i afegeix les l铆nies necessries per permetre que lusuari gandalf utilitzi la comanda sudo.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#actualitzant-usuaris",
    "href": "exercises/04-accounts/01-lord-of-system.html#actualitzant-usuaris",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Actualitzant Usuaris",
    "text": "Actualitzant Usuaris\n\nLusuari gollum vol tenir el seu home amb el nom smeagol.\nLusuari legolas vol tenir per defecte la shell tcsh.\nLusuari gimli no vol tenir contrasenya.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#el-poder-de-lanell",
    "href": "exercises/04-accounts/01-lord-of-system.html#el-poder-de-lanell",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "El poder de lanell",
    "text": "El poder de lanell\n\nCrearem un directori /anell.\nCrearem un grup portadors.\nAssignarem a frodo com a propietari del directori /anell.\nModificarem els permisos del directori: Els fitxers daquest directori 煤nicament podran ser executats/editats per lusuari Frodo, la resta dusuaris no ha de tenir cap perm铆s ni de lectura, a excepci贸 del grup dusuari del grup portadors que han de poder llegir el directori.\nEn Frodo ha de poder executar tots els fitxers del director /anell/bin sense haver dafegir tota la ruta, 煤nicament indicant el nom de lexecutable.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#final-del-viatge",
    "href": "exercises/04-accounts/01-lord-of-system.html#final-del-viatge",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Final del viatge",
    "text": "Final del viatge\n\nGimli es confon amb tots els missatges que apareixen a la pantalla quan inicia sessi贸. Configureu el seu compte perqu猫 no es mostri cap missatge a la pantalla quan comenci la sessi贸.\nNo sha de permetre que en Gimli executi programes des del seu propi directori /home. Per fer-ho heu dutilitzar (setfacl):\nLusuari Samwise sha perdut i ha acabat a Narnia, elimineu-lo de lunivers.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#notificaci贸-de-la-comarca",
    "href": "exercises/04-accounts/01-lord-of-system.html#notificaci贸-de-la-comarca",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Notificaci贸 de la comarca",
    "text": "Notificaci贸 de la comarca\nUn cop shan creat els usuaris entrarem al sistema com a frodo i enviarem un mail a la resta amb el seg眉ent missatge: Benvinguts a la companyia, anem direcci贸 mordor.\nsudo dnf -y install postfix\nsudo dnf -y install s-nail\nPostfix 茅s un programari de servidor de correu electr貌nic que t茅 com a objectiu principal gestionar lenviament, recepci贸 i lencaminament de correus electr貌nics en un entorn de servidor. s conegut per la seva efici猫ncia, seguretat i flexibilitat, i 茅s mpliament utilitzat en servidors de correu electr貌nic en tot el m贸n.\n\nConfiguraci贸 del postfix\nEditeu el fitxer /etc/postfix/main.cf:\n\nmyhostname = mail.middlearth.udl.cat\nmydomain = udl.cat\nmyorigin = $mydomain\ninet_interfaces = all\ninet_protocols = ipv4\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\nmynetworks = 127.0.0.0/8\nhome_mailbox = Maildir/\n\nAfegiu al final del fitxer /etc/postfix/main.cf:\n# Amaga el tipus o la versi贸 del programari SMTP\nsmtpd_banner = $myhostname ESMTP\n\n# Afegeix el seg眉ent al final\n# Desactiva la comanda SMTP VRFY\ndisable_vrfy_command = yes\n\n# Requereix la comanda HELO als amfitrions emissors\nsmtpd_helo_required = yes\n\n# L铆mit de mida d'un correu electr貌nic\n# Exemple a continuaci贸 significa l铆mit de 10M bytes\nmessage_size_limit = 10240000\n\n# Configuracions SMTP-Auth\nsmtpd_sasl_type = dovecot\nsmtpd_sasl_path = private/auth\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_security_options = noanonymous\nsmtpd_sasl_local_domain = $myhostname\nsmtpd_recipient_restrictions = permit_mynetworks, permit_auth_destination, permit_sasl_authenticated, reject\n\n\nConfigurant el dimoni\n\nArrancant el dimoni\n\nsudo systemctl enable --now postfix\n\n\nProva\nsu - ganfalf\necho \"Benvinguts a la companyia, anem direcci贸 mordor.\" | mail -s \"Notificaci贸 de la comarca\" frodo@localhost\nsu - frodo\nmail",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/04-accounts/01-lord-of-system.html#entregable",
    "href": "exercises/04-accounts/01-lord-of-system.html#entregable",
    "title": "Laboratori: Gesti贸 de comptes en un servidor Linux",
    "section": "Entregable",
    "text": "Entregable\n\nCal un document on sexpliquin tots els passos seguits per completar lexercici amb les comandes utilitzades i captures de pantalla quan sigui necessari.",
    "crumbs": [
      "Activitats",
      "Unitat 04 路 Autenticaci贸 i Autoritzaci贸",
      "Activitat 11 路 Gesti贸 de comptes en un servidor Linux"
    ]
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html",
    "href": "exercises/02-booting/06-ex-week4.html",
    "title": "Anlisi del proc茅s darrencada amb systemd",
    "section": "",
    "text": "Aprendre a utilitzar les eines de systemd per analitzar el proc茅s darrencada del sistema.\nEntendre com identificar quines unitats s贸n les m茅s cr铆tiques per al temps darrencada.\nAprendre a interpretar la sortida de les comandes systemd-analyze i systemctl.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 6 路 Anlisi del proc茅s d'arrencada amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#objectius",
    "href": "exercises/02-booting/06-ex-week4.html#objectius",
    "title": "Anlisi del proc茅s darrencada amb systemd",
    "section": "",
    "text": "Aprendre a utilitzar les eines de systemd per analitzar el proc茅s darrencada del sistema.\nEntendre com identificar quines unitats s贸n les m茅s cr铆tiques per al temps darrencada.\nAprendre a interpretar la sortida de les comandes systemd-analyze i systemctl.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 6 路 Anlisi del proc茅s d'arrencada amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#requeriments-previs",
    "href": "exercises/02-booting/06-ex-week4.html#requeriments-previs",
    "title": "Anlisi del proc茅s darrencada amb systemd",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una mquina virtual (MV) amb Debian instal路lat.\nTotes les comandes shan dexecutar amb permisos de superusuari (root). Per tant, su -.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 6 路 Anlisi del proc茅s d'arrencada amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/06-ex-week4.html#anlisi-del-proc茅s-darrencada-amb-systemd",
    "href": "exercises/02-booting/06-ex-week4.html#anlisi-del-proc茅s-darrencada-amb-systemd",
    "title": "Anlisi del proc茅s darrencada amb systemd",
    "section": "Anlisi del proc茅s darrencada amb systemd",
    "text": "Anlisi del proc茅s darrencada amb systemd\nLa comanda systemd ens permet gestionar els serveis del sistema i controlar el proc茅s darrencada. Podeu comprovar les seves possibilitats amb la comanda man systemd. Una de les funcionalitats m茅s 煤tils de systemd 茅s la capacitat de generar informaci贸 detallada sobre el proc茅s darrencada del sistema.\nEl primer pas per analitzar el proc茅s darrencada amb systemd 茅s utilitzar la comanda systemd-analyze per obtenir informaci贸 sobre el temps que ha trigat el sistema a arrencar. Aquesta comanda mostrar informaci贸 sobre el temps que ha trigat el sistema a arrencar, incloent el temps que ha trigat el kernel i lespai dusuari.\nStartup finished in 899ms (kernel) + 2.074s (userspace) = 2.973s\ngraphical.target reached after 2.068s in userspace.\n\n\n\nKernel\nEspai dusuari\nTotal\n\n\n\n\n899ms\n2.074s\n2.973s\n\n\n\nEn aquest cas, els primers 899ms sutilitzen per carregar les funcions del kernel com ara els controladors de dispositius i el sistema de fitxers. Els seg眉ents 2.074s sutilitzen per carregar lespai dusuari, com ara els serveis i els processos del sistema. En total, el sistema ha trigat 2.973s a arrencar.\nAra que tenim aquesta informaci贸, podem utilitzar la comanda systemd-analyze blame per obtenir informaci贸 detallada sobre el temps que ha trigat cada unitat a carregar durant el proc茅s darrencada. Aquesta opci贸 ens llistar les unitats ordenades per temps darrencada, de major a menor.\n\n\n\nTemps\nUnitat\n\n\n\n\n1.876s\nsystemd-random-seed.service\n\n\n784ms\ndbus.service\n\n\n782ms\ne2scrub_reap.service\n\n\n778ms\nsystemd-logind.service\n\n\n\n\n\n\n4ms\nsystemd-update-utmp-runlevel.service\n\n\n\nAmb aquesta informaci贸, podem identificar les unitats que poden estar retardant el proc茅s darrencada i optimitzar-les si cal. Per obtenir m茅s informaci贸 sobre una unitat espec铆fica, podeu utilitzar la comanda systemctl status seguida del nom de la unitat. Per exemple, si volem informaci贸 sobre la unitat systemd-random-seed.service, podem executar:\nsystemctl status systemd-random-seed.service\nAquesta informaci贸 ens mostrar:\n\nLestat actual de la unitat (inactiu, actiu, desactivat, error o recarregant).\nLa linia Loaded ens indica la ruta al fitxer on es desa la configuraci贸 de la unitat. En aquest cas, /lib/systemd/system/systemd-random-seed.service. A m茅s ens indica static que vol dir que la unitat no es pot desactivar. Altres unitats ens poden indicar error, masked, not-found, enable o disabled\nLa entrada al manual de la unitat, si nhi ha.\nFinalment, ens mostra informaci贸 sobre el proc茅s: PID, estat del proc茅s i temps que ha estat en execuci贸 (aix貌 en el exemple) tamb茅 pot mostrar la mem貌ria, el cgroup, o el nombre de tasques associades.\n\nSi volem saber exactament qu猫 fa aquest servei, podem consultar el manual amb la comanda man systemd-random-seed.service.\nEn el manual daquesta comanda us explicar de forma detallada qu猫 aquest servei carrega una llavor aleat貌ria al espai del nucli quan arranca i la desa quan sapaga. Aquesta llavor es guarda a /var/lib/systemd/random-seed. Per defecte, no sassigna entropia quan sescriu la llavor al nucli, per貌 aix貌 es pot canviar amb $SYSTEMD_RANDOM_SEED_CREDIT. El servei sexecuta despr茅s de muntar el sistema de fitxers /var/, per la qual cosa 茅s recomanable utilitzar un carregador darrencada que passi una llavor inicial al nucli, com systemd-boot.\n\n\n\n\n\n\nNotaObservaci贸\n\n\n\nAmb aquesta informaci贸 podem identificar quina 茅s la funci贸 de cada servei i decidir si pel nostre sistema 茅s necessari o no. En aquest cas, el servei systemd-random-seed.service 茅s necessari per a la generaci贸 de nombres aleatoris, per tant, no 茅s recomanable desactivar-lo.\n\n\nSi volem informaci贸 sobre la unitat systemd-random-seed.service, podem utilitzar la comanda systemctl cat systemd-random-seed.service per veure la configuraci贸 de la unitat.\n# /lib/systemd/system/systemd-random-seed.service\n#  SPDX-License-Identifier: LGPL-2.1-or-later\n#\n#  This file is part of systemd.\n#\n#  systemd is free software; you can redistribute it and/or modify it\n#  under the terms of the GNU Lesser General Public License as published by\n#  the Free Software Foundation; either version 2.1 of the License, or\n#  (at your option) any later version.\n\n[Unit]\nDescription=Load/Save Random Seed\nDocumentation=man:systemd-random-seed.service(8) man:random(4)\nDefaultDependencies=no\nRequiresMountsFor=/var/lib/systemd/random-seed\nConflicts=shutdown.target\nAfter=systemd-remount-fs.service\nBefore=first-boot-complete.target shutdown.target\nWants=first-boot-complete.target\nConditionVirtualization=!container\nConditionPathExists=!/etc/initrd-release\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStart=/lib/systemd/systemd-random-seed load\nExecStop=/lib/systemd/systemd-random-seed save\n\n# This service waits until the kernel's entropy pool is initialized, and may be\n# used as ordering barrier for service that require an initialized entropy\n# pool. Since initialization can take a while on entropy-starved systems, let's\n# increase the timeout substantially here.\nTimeoutSec=10min\nAquesta informaci贸 ens mostra la configuraci贸 de la unitat, incloent la descripci贸, la documentaci贸, les depend猫ncies, les condicions, el tipus de servei, els comandaments dinici i parada, i altres opcions de configuraci贸. El servei t茅 una depend猫ncia de muntatge per a /var/lib/systemd/random-seed, i sexecuta despr茅s de systemd-remount-fs.service i abans de first-boot-complete.target i shutdown.target. A m茅s, ens indica que 茅s un servei de tipus oneshot, que sexecuta una sola vegada i roman actiu despr茅s de la sortida. Els comandaments dinici i parada s贸n /lib/systemd/systemd-random-seed load i /lib/systemd/systemd-random-seed save, respectivament.\n\n\n\n\n\n\nNotaNota\n\n\n\nSi observeu el param猫tre TimeoutSec=10min aquesta unitat pot trigar fins a 10 minuts a carregar. Si el sistema est en un entorn amb poca entropia, aquesta unitat pot trigar m茅s temps a carregar.\n\n\nPer exemple, editarem la unitat systemd-random-seed.service per activar la entropia al sistema. Per editar la unitat podeu utilitzar qualsevol editor de text ( i.e vi) o b茅 la comanda systemctl edit systemd-random-seed.service que obrir un editor de text per afegir la l铆nia. Un cop obert leditor heu dafegir la l铆na a la secci贸 [Service] i desar el fitxer. Recordeu que per fer aquesta acci贸 necessitareu permisos dadministrador. Per tant, su - per canviar a lusuari root i despr茅s fer la comanda.\nEnvironment=SYSTEMD_RANDOM_SEED_CREDIT=4096\n\nCompte! Si feu anar el systemctl edit aquest crear un fitxer de configuraci贸 a /etc/systemd/system/systemd-random-seed.service.d/override.conf que sobreescriur la configuraci贸 de la unitat original. Per afegir la configuraci贸 c貌pieu la configuraci贸 original i afegiu la l铆nia Environment=SYSTEMD_RANDOM_SEED_CREDIT=4096 a la secci贸 [Service].\n\nEstem assignant un cr猫dit de 4096 a la llavor aleat貌ria. Aix貌 augmentar la quantitat dentropia que es passa al nucli quan sescriu la llavor. Un cr猫dit m茅s alt pot augmentar la seguretat del sistema, per貌 tamb茅 pot augmentar el temps darrencada en sistemes amb poca entropia.\nUn cop hgim fet els canvis, guardarem el fitxer i sortirem de leditor. Despr茅s, podem fer un reboot per aplicar els canvis. Quan el sistema shagi reiniciat, podem tornar a utilitzar la comanda systemd-analyze per comprovar si els canvis han tingut algun impacte en el temps darrencada del sistema.\nUna altra opci贸 interesant que ens ofereix systemd 茅s la comanda systemd-analyze critical-chain. Aquesta comanda ens permet veure la cadena cr铆tica de les unitats de temps del sistema. Aix貌 ens mostra quines unitats s贸n les m茅s cr铆tiques per al temps darrencada del sistema. Per analizar la sortida, heu de mirar el temps despr茅s del carcter @ per veure quant temps ha trigat la unitat a activar-se o iniciar-se, i el temps despr茅s del carcter + per veure quant temps ha trigat la unitat a iniciar-se. A m茅s, aquesta comanda nom茅s mostra el temps que les unitats han passat a lestat activant-se, i no cobreix les unitats que mai han passat per lestat activant-se (com les unitats de dispositius que passen directament de inactiu a actiu). Tot i aix貌, 茅s una eina 煤til per identificar les unitats que poden estar retardant el proc茅s darrencada.\ngraphical.target @2.076s\nmulti-user.target @2.075s\n  ssh.service @1.497s +578ms\n    network.target @1.494s\n      networking.service @1.225s +268ms\n        apparmor.service @1.158s +63ms\n          local-fs.target @1.158s\n            run-credentials-systemd\\x2dtmpfiles\\x2dsetup.service.mount @1.171s\n              local-fs-pre.target @242ms\n                systemd-tmpfiles-setup-dev.service @224ms +17ms\n                  systemd-sysusers.service @192ms +20ms\n                    systemd-remount-fs.service @131ms +54ms\n                      systemd-journald.socket @114ms\n                        -.mount @86ms\n                          -.slice @86ms\nEn aquest cas, podem veure que la unitat ssh.service 茅s la m茅s cr铆tica per al temps darrencada del sistema, ja que ha trigat 578ms a iniciar-se. A m茅s, podem veure les depend猫ncies de totes les unitats que shan carregat durant el proc茅s darrencada. Comen莽ant pel graphical.target i seguint per les unitats multi-user.target, aquestes dos unitats ens asseguren que el sistema ha arrencat en mode grfic i multiusuari. A partir daquest moment es carreguen la resta de serveis.\nUn altra opci贸 interessant 茅s utilitzar la comanda systemd-analyze plot per generar un grfic del proc茅s darrencada del sistema. Aquesta comanda generar un fitxer SVG amb el grfic del proc茅s darrencada, que podeu visualitzar amb un navegador web o un visor dimatges.\n\nSi volem analitzar tots les unitats:\nsystemd-analyze plot &gt; boot_system.svg\nSi volem analitzar les unitats de la instancia de lusuari:\nsystemd-analyze --user plot &gt; boot_user.svg\nSi volem les unitats de larrencada del sistema:\nsystemd-analyze --system plot &gt; boot_system.svg\n\n\n\n锔 Compte: Com puc visualtizar una imatge SVG en un debian sense interf铆cie grfica?\nPer visualitzar una imatge SVG en un sistema sense interf铆cie grfica, podeu descarregar el fitxer SVG a la vostra mquina local i visualitzar-lo amb un visor dimatges o un navegador web. Per exemple, podeu utilitzar la comanda scp per descarregar el fitxer SVG a la vostra mquina local:\nscp user@remote:/path/to/boot.svg /path/to/local/boot.svg\n\n\n\n锔 Compte: Debian no permet conexions remotes com a root per defecte. Abans de fer-ho, com debian per defecte no permet lexecuci贸 de scp com a root, caldr fer-ho com a usuari normal i despr茅s copiar el fitxer a la carpeta desitjada.\nmv boot.svg /tmp \nchown user:user /tmp/boot.svg  \n\nPer a m茅s informaci贸 sobre les opcions de la comanda systemd-analyze, podeu consultar el manual amb la comanda man systemd-analyze.\nPer acabar, podem comentar que aix铆 com systemctl status unitat ens mostra la informaci贸 duna unitat. Tamb茅 podem consultar la informaci贸 de totes les unitats amb:\n\nsystemctl status: Mostra informaci贸 sobre lestat actual del sistema o duna unitat espec铆fica acompanyada de les dades m茅s recents del registre del diari.\nsystemctl list-units: Mostra una llista de totes les unitats carregades al sistema, incloent les unitats actives, inactives i fallades.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 6 路 Anlisi del proc茅s d'arrencada amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html",
    "href": "exercises/02-booting/07-ex-week4.html",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "",
    "text": "Aprendre a crear un servei bsic amb systemd.\nConfigurar un servei que sexecuti a linici del sistema.\nEntendre els fitxers dunitat de systemd i com gestionar-los.\nCrear un script senzill per realitzar una c貌pia de seguretat de la carpeta /home i desar-lo a /backup.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#objectius",
    "href": "exercises/02-booting/07-ex-week4.html#objectius",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "",
    "text": "Aprendre a crear un servei bsic amb systemd.\nConfigurar un servei que sexecuti a linici del sistema.\nEntendre els fitxers dunitat de systemd i com gestionar-los.\nCrear un script senzill per realitzar una c貌pia de seguretat de la carpeta /home i desar-lo a /backup.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#requeriments-previs",
    "href": "exercises/02-booting/07-ex-week4.html#requeriments-previs",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "Requeriments Previs",
    "text": "Requeriments Previs\n\nTenir una mquina virtual (MV) amb Debian instal路lat.\nTotes les comandes shan dexecutar amb permisos de superusuari (root). Per tant, su -.\nRealitzar un apt update -y && apt upgrade -y per assegurar-se que el sistema est actualitzat.\nInstal路lar el paquet vim per editar fitxers: apt install vim -y.\nCrear la carpeta /backup on es desaran les c貌pies de seguretat: mkdir -p /backup.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#servei-bsic-amb-systemd",
    "href": "exercises/02-booting/07-ex-week4.html#servei-bsic-amb-systemd",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "Servei bsic amb systemd",
    "text": "Servei bsic amb systemd\n\nCrearem un script que far la c貌pia de seguretat de la carpeta /home, per fer-ho simplement crearem un arxiu .tar.gz amb la data i hora actual al nom de larxiu. Aquest arxiu es desar a la carpeta /backup que hem creat anteriorment. El script es col路locar a /usr/local/bin/backup.sh.\n#!/bin/bash\ntar -czf /backup/system_backup_$(date +%Y%m%d_%H%M%S).tar.gz /home\nConfigurarem un servei que faci una c貌pia de seguretat cada cop que sinici茂 el sistema. Crearem un fitxer de servei a /etc/systemd/system/backup.service.\n[Unit]\nDescription=Backup Service\nAfter=network.target\n\n[Service]\nType=oneshot\nExecStart=/usr/local/bin/backup.sh\n\n[Install]\nWantedBy=multi-user.target\n\n\n\n\n\n\n\nNota\n\n\n\nEl target multi-user.target sutilitza perqu猫 el servei sexecuti quan el sistema est en mode multiusuari, 茅s a dir, quan la majoria dels serveis del sistema ja estan en funcionament.\n\n\n\nActivarem el servei perqu猫 sexecuti a linici del sistema amb la comanda:\nsystemctl start backup.service\nComprova lestat del servei amb:\nsystemctl status backup.service\n\n\n\n\n\n\n\nImportant\n\n\n\nEl servei no sha arrancat degut a errors en lscript. Revisa el fitxer de registre amb journalctl -xeu backup.service per veure els errors i corregir-los. On xeu indica que volem veure els missatges derror i advert猫ncia filtrant per unitat. El error que observareu 茅s que el script no t茅 permisos dexecuci贸. Per solucionar-ho, simplement afegiu permisos dexecuci贸 a lscript amb chmod +x /usr/local/bin/backup.sh i torneu a iniciar el servei amb systemctl restart backup.service.\n\n\n\nComprovarem el contigut de la carpeta /backup. Un cop el servei shagi executat correctament, haur铆eu de veure un fitxer de c貌pia de seguretat amb la data actual al nom del fitxer.\nls -lh /backup\nActivarem el servei perqu猫 sexecuti a linici del sistema amb la comanda:\nsystemctl enable backup.service\nFinalment, reiniciarem el sistema per assegurar-nos que el servei sexecuta correctament a linici:\nreboot\nDespr茅s de reiniciar, comprova que el fitxer de c貌pia de seguretat sha creat correctament a la carpeta /backup:\nls -lh /backup",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#servei-amb-timer-amb-systemd",
    "href": "exercises/02-booting/07-ex-week4.html#servei-amb-timer-amb-systemd",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "Servei amb Timer amb systemd",
    "text": "Servei amb Timer amb systemd\nEl servei que hem creat anteriorment sexecuta nom茅s una vegada a linici del sistema. Ara crearem un servei que sexecuti diriament a una hora espec铆fica utilitzant un timer de systemd. El primer pas 茅s crear el servei que volem executar peri貌dicament, en aquest cas, el mateix script de c貌pia de seguretat que hem creat abans. El segon pas 茅s crear un fitxer de timer que programi lexecuci贸 del servei.\n\nCrearem un fitxer de timer a /etc/systemd/system/backup-daily.timer per programar lexecuci贸 del servei diriament a les 2:00 AM.\n[Unit]\nDescription=Runs backup-daily.service daily at 2:00 AM\nRequires=backup-daily.service\n\n[Timer]\nOnCalendar=*-*-* 02:00:00\nPersistent=true\n\n[Install]\nWantedBy=timers.target\non el camp OnCalendar, *-*-* 02:00:00 indica que el servei sexecutar diriament a les 2:00 AM. La l铆nia Persistent=true assegura que si el sistema est apagat a lhora programada, el servei sexecutar tan aviat com el sistema sinici茂. El *-*-* 茅s un comod铆 que representa qualsevol any, mes i dia.\nCrearem el fitxer de servei a /etc/systemd/system/backup-daily.service que ser el que sexecutar diriament.\n[Unit]\nDescription=Daily Backup Service\n\n[Service]\nType=oneshot\nExecStart=/usr/local/bin/backup.sh\nActivarem el timer perqu猫 sexecuti diriament amb la comanda:\nsystemctl enable --now backup-daily.timer\n\n\n\n\n\n\n\nImportant\n\n\n\nLargument --now activa el timer immediatament despr茅s dhabilitar-lo, de manera que no cal reiniciar el sistema per comen莽ar a utilitzar-lo.\n\n\n\nComprova lestat del timer amb:\nsystemctl status backup-daily.timer\nPer veure quan sexecutar el proper cop el servei, utilitza la comanda:\nsystemctl list-timers --all\nPer provar que el servei funciona correctament, pots for莽ar lexecuci贸 del servei amb la comanda:\nsystemctl start backup-daily.service",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/07-ex-week4.html#exercicis-proposats",
    "href": "exercises/02-booting/07-ex-week4.html#exercicis-proposats",
    "title": "Servei de C貌pia de Seguretat Automtica amb systemd",
    "section": "Exercicis Proposats",
    "text": "Exercicis Proposats\n\nModifica el servei perqu猫 faci una c貌pia de seguretat de la carpeta /var i /etc en lloc de /home. Un cop fet aix貌, utilitza systemd-analyze i systemd-analyze blame per analitzar el servei abans i despr茅s dactivar-lo. Comenta i justifica els resultats obtinguts.\nCrea un servei que permeti actualitzar el sistema automticament cada diumenge a les 3:00 AM. Aquest servei hauria dexecutar apt update && apt upgrade -y.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 7 路 Servei de C貌pia de Seguretat Automtica amb systemd"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html",
    "href": "exercises/02-booting/04-ex-week3.html",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "",
    "text": "Entendre com funciona la edici贸 temporal del GRUB.\nEntendre com protegir el GRUB amb una contrasenya.\nEntendre com GRUB pot ser un vector dacc茅s f铆sic al sistema.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#objectiu",
    "href": "exercises/02-booting/04-ex-week3.html#objectiu",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "",
    "text": "Entendre com funciona la edici贸 temporal del GRUB.\nEntendre com protegir el GRUB amb una contrasenya.\nEntendre com GRUB pot ser un vector dacc茅s f铆sic al sistema.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#escenari",
    "href": "exercises/02-booting/04-ex-week3.html#escenari",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "Escenari",
    "text": "Escenari\nUn atacant amb acc茅s f铆sic al servidor podria modificar la contrasenya de lusuari root iniciant el sistema des del GRUB. En aquesta prctica assumirem aquest escenari de manera controlada.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#requeriments-previs",
    "href": "exercises/02-booting/04-ex-week3.html#requeriments-previs",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "Requeriments previs",
    "text": "Requeriments previs\n\nUna mquina virtual amb Debian 12 amb GRUB com a gestor darrencada.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#procediment",
    "href": "exercises/02-booting/04-ex-week3.html#procediment",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "Procediment",
    "text": "Procediment\n\nAcc茅s al GRUB\n\nReinicia el sistema i accedeix al men煤 del bootloader GRUB.\nSelecciona la entrada del sistema operatiu i prem e per editar-la.\n\nModificaci贸 de la l铆nia del kernel\n\nLocalitza la l铆nia que comen莽a amb linux i acaba amb ro.\nAfageix init=/bin/bash al final.\nAquesta opci贸 indica al kernel iniciar directament un shell sense passar pel proc茅s dinicialitzaci贸 normal.\n\n\n\n\n\n\n\n\nNotainit=/bin/bash\n\n\n\nAquesta opci贸 fa que el sistema arranqui directament en un shell de bash com a root, evitant els processos dinicialitzaci贸 habituals. Tots els serveis systemd i altres processos no sinicien, i el sistema es troba en un estat m铆nim, amb nom茅s el shell disponible.\n\n\n\nInici amb les opcions modificades\n\nPrem Ctrl + X per iniciar el sistema amb aquesta configuraci贸.\nAccedirs a un prompt de bash amb permisos de root.\n\nMuntar el sistema de fitxers en mode escriptura\nmount -o remount,rw /\n\n\n\n\n\n\n\nNotamount -o remount,rw /\n\n\n\nCom alternativa, es pot editar la l铆nia del kernel per canviar ro (read-only) a rw (read-write). Aix貌 permetr que el sistema de fitxers es monti en mode escriptura des del principi, evitant la necessitat de remuntar-lo m茅s tard.\n\n\n\nAccedir a larrel amb chroot\nchroot /\n\n\n\n\n\n\n\nNotachroot\n\n\n\nUna chroot (change root) 茅s una operaci贸 que canvia el directori arrel aparent dun proc茅s i els seus fills a un directori especificat. Aix貌 crea un entorn a茂llat on el proc茅s veu el directori especificat com la seva arrel (/), permetent executar processos en un sistema de fitxers diferent sense afectar el sistema principal.\n\n\n\nCanviar la contrasenya de root\npasswd\n\nIntrodueix la nova contrasenya quan set demani.\n\nSincronitzar els canvis i reiniciar\nexit \nreboot\n\n\n\n\n\n\n\nNotaSolcuci贸 si reboot no funciona\n\n\n\nSi el sistema no respon a la comanda reboot, pots for莽ar un reinici f铆sic de la mquina virtual.\n\n\n\nIniciar sessi贸 amb lusuari normal.\nCanviar a lusuari root amb la nova contrasenya. su -",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#protecci贸-del-grub",
    "href": "exercises/02-booting/04-ex-week3.html#protecci贸-del-grub",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "Protecci贸 del GRUB",
    "text": "Protecci贸 del GRUB\nPer protegir el GRUB i evitar que un atacant amb acc茅s f铆sic pugui modificar les opcions darrencada, es pot configurar una contrasenya per al GRUB.\n\nGenerar una contrasenya xifrada\n\nUtilitza la comanda seg眉ent per generar una contrasenya xifrada:\ngrub-mkpasswd-pbkdf2\nIntrodueix la contrasenya desitjada i copia la sortida que comen莽a amb pbkdf2.\n\nEditar la configuraci贸 del GRUB\n\nObre el fitxer de configuraci贸 del GRUB:\n# Com a root\nvi /etc/grub.d/40_custom\nAfegeix les l铆nies seg眉ents al fitxer, substituint your_encrypted_password per la contrasenya xifrada que has generat:\nset superusers=\"root\"\npassword_pbkdf2 root your_encrypted_password\n\nActualitzar la configuraci贸 del GRUB\n\nDespr茅s dhaver editat el fitxer, actualitza la configuraci贸 del GRUB:\nupdate-grub    # Debian/Ubuntu\ngrub2-mkconfig -o /boot/grub2/grub.cfg  # Alma/Rocky (BIOS)\ngrub2-mkconfig -o /boot/efi/EFI/almalinux/grub.cfg  # Alma/Rocky (UEFI)\n\nReiniciar el sistema\n ```bash\n reboot\n ```\nVerificar la protecci贸 del GRUB\n\nDurant larrencada, intenta editar una entrada del GRUB. Hauries de ser sol路licitat per una contrasenya.\n\n\n\n\n\n\n\n\nImportant锔 Observaci贸\n\n\n\nMalgrat l煤s duna contrasenya per a protegir el GRUB, aquesta t猫cnica no 茅s infal路lible. Un atacant amb acc茅s f铆sic pot montar un usb bootable i iniciar el sistema amb aquest dispositiu. Un cop iniciat el sistema, latacant podria montar el sistema de fitxers i modificar la contrasenya de lusuari root. Ara b茅, es podria configurar el BIOS o UEFI per a desactivar larrencada des de dispositius externs com els USBs. Aix貌 dificultaria lacc茅s no autoritzat al sistema a trav茅s daquesta t猫cnica.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  },
  {
    "objectID": "exercises/02-booting/04-ex-week3.html#reflexions",
    "href": "exercises/02-booting/04-ex-week3.html#reflexions",
    "title": "Modificant la contrasenya de lusuari root a trav茅s del GRUB",
    "section": "Reflexions",
    "text": "Reflexions\n\nControl f铆sic del servidor: Limitar lacc茅s f铆sic 茅s essencial.\nDesactivar arrencada des de dispositius externs: Configurar BIOS/UEFI per bloquejar USB/CD.\nAmb LUKS/dm-crypt, encara que latacant accedeixi f铆sicament al GRUB, no podr llegir ni modificar les dades sense la clau.\nUEFI Secure Boot: Si est activat i el GRUB est signat, no es podr iniciar amb init=/bin/bash sense desactivar temporalment Secure Boot.",
    "crumbs": [
      "Activitats",
      "Unitat 02 路 Arrencada del sistema",
      "Activitat 4 路 Modificant la contrasenya de l'usuari root a trav茅s del GRUB"
    ]
  }
]